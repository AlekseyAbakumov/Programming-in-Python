var _NumberMAX_VALUE=Number.MAX_VALUE,_StringfromCharCode=String.fromCharCode,_Mathfloor=Math.floor,_Mathceil=Math.ceil,_Mathabs=Math.abs,_Mathmax=Math.max,_Mathmin=Math.min,_Mathround=Math.round;!function(Pp,Lp){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Lp():"function"==typeof define&&define.amd?define(Lp):Pp.videojs=Lp()}(this,function(){function Pp(ZL,ew){return ZL(ew={exports:{}},ew.exports),ew.exports}function Lp(ZL,ew){wg(ZL).forEach(function(tw){return ew(ZL[tw],tw)})}function xp(ZL){for(var ew=arguments.length,tw=Array(1<ew?ew-1:0),aw=1;aw<ew;aw++)tw[aw-1]=arguments[aw];return Object.assign?Object.assign.apply(Object,[ZL].concat(tw)):(tw.forEach(function(rw){rw&&Lp(rw,function(nw,ow){ZL[ow]=nw})}),ZL)}function Ap(ZL){return!!ZL&&"object"===("undefined"==typeof ZL?"undefined":vg(ZL))}function Ip(ZL){return Ap(ZL)&&"[object Object]"===Lg.call(ZL)&&ZL.constructor===Object}function Dp(ZL,ew){if(!ZL||!ew)return"";if("function"==typeof pg.getComputedStyle){var tw=pg.getComputedStyle(ZL);return tw?tw[ew]:""}return""}function Op(ZL){return"string"==typeof ZL&&/\S/.test(ZL)}function Rp(ZL){if(/\s/.test(ZL))throw new Error("class has illegal whitespace characters")}function Up(){return hg===pg.document}function Mp(ZL){return Ap(ZL)&&1===ZL.nodeType}function Bp(){try{return pg.parent!==pg.self}catch(ZL){return!0}}function Np(ZL){return function(ew,tw){if(!Op(ew))return hg[ZL](null);Op(tw)&&(tw=hg.querySelector(tw));var aw=Mp(tw)?tw:hg;return aw[ZL]&&aw[ZL](ew)}}function Fp(){var ZL=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",ew=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},tw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},aw=arguments[3],rw=hg.createElement(ZL);return Object.getOwnPropertyNames(ew).forEach(function(nw){var ow=ew[nw];-1!==nw.indexOf("aria-")||"role"===nw||"type"===nw?(Tg.warn(Sg(xg,nw,ow)),rw.setAttribute(nw,ow)):"textContent"===nw?jp(rw,ow):rw[nw]=ow}),Object.getOwnPropertyNames(tw).forEach(function(nw){rw.setAttribute(nw,tw[nw])}),aw&&om(rw,aw),rw}function jp(ZL,ew){return"undefined"==typeof ZL.textContent?ZL.innerText=ew:ZL.textContent=ew,ZL}function Hp(ZL,ew){ew.firstChild?ew.insertBefore(ZL,ew.firstChild):ew.appendChild(ZL)}function Vp(ZL,ew){return Rp(ew),ZL.classList?ZL.classList.contains(ew):(tw=ew,new RegExp("(^|\\s)"+tw+"($|\\s)")).test(ZL.className);var tw}function zp(ZL,ew){return ZL.classList?ZL.classList.add(ew):Vp(ZL,ew)||(ZL.className=(ZL.className+" "+ew).trim()),ZL}function qp(ZL,ew){return ZL.classList?ZL.classList.remove(ew):(Rp(ew),ZL.className=ZL.className.split(/\s+/).filter(function(tw){return tw!==ew}).join(" ")),ZL}function Wp(ZL,ew,tw){var aw=Vp(ZL,ew);if("function"==typeof tw&&(tw=tw(ZL,ew)),"boolean"!=typeof tw&&(tw=!aw),tw!==aw)return tw?zp(ZL,ew):qp(ZL,ew),ZL}function Gp(ZL,ew){Object.getOwnPropertyNames(ew).forEach(function(tw){var aw=ew[tw];null===aw||"undefined"==typeof aw||!1===aw?ZL.removeAttribute(tw):ZL.setAttribute(tw,!0===aw?"":aw)})}function Yp(ZL){var ew={};if(ZL&&ZL.attributes&&0<ZL.attributes.length)for(var aw=ZL.attributes,rw=aw.length-1;0<=rw;rw--){var nw=aw[rw].name,ow=aw[rw].value;"boolean"!=typeof ZL[nw]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+nw+",")||(ow=null!==ow),ew[nw]=ow}return ew}function Xp(ZL,ew){return ZL.getAttribute(ew)}function Kp(ZL,ew,tw){ZL.setAttribute(ew,tw)}function $p(ZL,ew){ZL.removeAttribute(ew)}function Qp(){hg.body.focus(),hg.onselectstart=function(){return!1}}function Jp(){hg.onselectstart=function(){return!0}}function Zp(ZL){if(ZL&&ZL.getBoundingClientRect&&ZL.parentNode){var ew=ZL.getBoundingClientRect(),tw={};return["bottom","height","left","right","top","width"].forEach(function(aw){void 0!==ew[aw]&&(tw[aw]=ew[aw])}),tw.height||(tw.height=parseFloat(Dp(ZL,"height"))),tw.width||(tw.width=parseFloat(Dp(ZL,"width"))),tw}}function em(ZL){var ew;if(ZL.getBoundingClientRect&&ZL.parentNode&&(ew=ZL.getBoundingClientRect()),!ew)return{left:0,top:0};var tw=hg.documentElement,aw=hg.body,rw=tw.clientLeft||aw.clientLeft||0,nw=pg.pageXOffset||aw.scrollLeft,ow=ew.left+nw-rw,sw=tw.clientTop||aw.clientTop||0,iw=pg.pageYOffset||aw.scrollTop,lw=ew.top+iw-sw;return{left:_Mathround(ow),top:_Mathround(lw)}}function tm(ZL,ew){var tw={},aw=em(ZL),rw=ZL.offsetWidth,nw=ZL.offsetHeight,ow=aw.top,sw=aw.left,iw=ew.pageY,lw=ew.pageX;return ew.changedTouches&&(lw=ew.changedTouches[0].pageX,iw=ew.changedTouches[0].pageY),tw.y=_Mathmax(0,_Mathmin(1,(ow-iw+nw)/nw)),tw.x=_Mathmax(0,_Mathmin(1,(lw-sw)/rw)),tw}function am(ZL){return Ap(ZL)&&3===ZL.nodeType}function rm(ZL){for(;ZL.firstChild;)ZL.removeChild(ZL.firstChild);return ZL}function nm(ZL){return"function"==typeof ZL&&(ZL=ZL()),(Array.isArray(ZL)?ZL:[ZL]).map(function(ew){return"function"==typeof ew&&(ew=ew()),Mp(ew)||am(ew)?ew:"string"==typeof ew&&/\S/.test(ew)?hg.createTextNode(ew):void 0}).filter(function(ew){return ew})}function om(ZL,ew){return nm(ew).forEach(function(tw){return ZL.appendChild(tw)}),ZL}function sm(ZL,ew){return om(rm(ZL),ew)}function im(ZL){return void 0===ZL.button&&void 0===ZL.buttons||0===ZL.button&&void 0===ZL.buttons||0===ZL.button&&1===ZL.buttons}function lm(){return Og++}function dm(ZL){var ew=ZL[Ug];return ew||(ew=ZL[Ug]=lm()),Rg[ew]||(Rg[ew]={}),Rg[ew]}function pm(ZL){var ew=ZL[Ug];return!!ew&&!!Object.getOwnPropertyNames(Rg[ew]).length}function um(ZL){var ew=ZL[Ug];if(ew){delete Rg[ew];try{delete ZL[Ug]}catch(tw){ZL.removeAttribute?ZL.removeAttribute(Ug):ZL[Ug]=null}}}function cm(ZL,ew){var tw=dm(ZL);0===tw.handlers[ew].length&&(delete tw.handlers[ew],ZL.removeEventListener?ZL.removeEventListener(ew,tw.dispatcher,!1):ZL.detachEvent&&ZL.detachEvent("on"+ew,tw.dispatcher)),0>=Object.getOwnPropertyNames(tw.handlers).length&&(delete tw.handlers,delete tw.dispatcher,delete tw.disabled),0===Object.getOwnPropertyNames(tw).length&&um(ZL)}function mm(ZL,ew,tw,aw){tw.forEach(function(rw){ZL(ew,rw,aw)})}function gm(ZL){function ew(){return!0}function tw(){return!1}if(!ZL||!ZL.isPropagationStopped){var aw=ZL||pg.event;for(var rw in ZL={},aw)"layerX"!==rw&&"layerY"!==rw&&"keyLocation"!==rw&&"webkitMovementX"!==rw&&"webkitMovementY"!==rw&&("returnValue"===rw&&aw.preventDefault||(ZL[rw]=aw[rw]));if(ZL.target||(ZL.target=ZL.srcElement||hg),ZL.relatedTarget||(ZL.relatedTarget=ZL.fromElement===ZL.target?ZL.toElement:ZL.fromElement),ZL.preventDefault=function(){aw.preventDefault&&aw.preventDefault(),ZL.returnValue=!1,aw.returnValue=!1,ZL.defaultPrevented=!0},ZL.defaultPrevented=!1,ZL.stopPropagation=function(){aw.stopPropagation&&aw.stopPropagation(),ZL.cancelBubble=!0,aw.cancelBubble=!0,ZL.isPropagationStopped=ew},ZL.isPropagationStopped=tw,ZL.stopImmediatePropagation=function(){aw.stopImmediatePropagation&&aw.stopImmediatePropagation(),ZL.isImmediatePropagationStopped=ew,ZL.stopPropagation()},ZL.isImmediatePropagationStopped=tw,null!==ZL.clientX&&void 0!==ZL.clientX){var nw=hg.documentElement,ow=hg.body;ZL.pageX=ZL.clientX+(nw&&nw.scrollLeft||ow&&ow.scrollLeft||0)-(nw&&nw.clientLeft||ow&&ow.clientLeft||0),ZL.pageY=ZL.clientY+(nw&&nw.scrollTop||ow&&ow.scrollTop||0)-(nw&&nw.clientTop||ow&&ow.clientTop||0)}ZL.which=ZL.charCode||ZL.keyCode,null!==ZL.button&&void 0!==ZL.button&&(ZL.button=1&ZL.button?0:4&ZL.button?1:2&ZL.button?2:0)}return ZL}function hm(ZL,ew,tw){if(Array.isArray(ew))return mm(hm,ZL,ew,tw);var aw=dm(ZL);if(aw.handlers||(aw.handlers={}),aw.handlers[ew]||(aw.handlers[ew]=[]),tw.guid||(tw.guid=lm()),aw.handlers[ew].push(tw),aw.dispatcher||(aw.disabled=!1,aw.dispatcher=function(nw,ow){if(!aw.disabled){nw=gm(nw);var sw=aw.handlers[nw.type];if(sw)for(var iw=sw.slice(0),lw=0,dw=iw.length;lw<dw&&!nw.isImmediatePropagationStopped();lw++)try{iw[lw].call(ZL,nw,ow)}catch(pw){Tg.error(pw)}}}),1===aw.handlers[ew].length)if(ZL.addEventListener){var rw=!1;Mg&&-1<Bg.indexOf(ew)&&(rw={passive:!0}),ZL.addEventListener(ew,aw.dispatcher,rw)}else ZL.attachEvent&&ZL.attachEvent("on"+ew,aw.dispatcher)}function ym(ZL,ew,tw){if(pm(ZL)){var aw=dm(ZL);if(aw.handlers){if(Array.isArray(ew))return mm(ym,ZL,ew,tw);var rw=function(iw,lw){aw.handlers[lw]=[],cm(iw,lw)};if(void 0!==ew){var nw=aw.handlers[ew];if(nw)if(tw){if(tw.guid)for(var ow=0;ow<nw.length;ow++)nw[ow].guid===tw.guid&&nw.splice(ow--,1);cm(ZL,ew)}else rw(ZL,ew)}else for(var sw in aw.handlers)Object.prototype.hasOwnProperty.call(aw.handlers||{},sw)&&rw(ZL,sw)}}}function fm(ZL,ew,tw){var aw=pm(ZL)?dm(ZL):{},rw=ZL.parentNode||ZL.ownerDocument;if("string"==typeof ew?ew={type:ew,target:ZL}:ew.target||(ew.target=ZL),ew=gm(ew),aw.dispatcher&&aw.dispatcher.call(ZL,ew,tw),rw&&!ew.isPropagationStopped()&&!0===ew.bubbles)fm.call(null,rw,ew,tw);else if(!rw&&!ew.defaultPrevented){var nw=dm(ew.target);ew.target[ew.type]&&(nw.disabled=!0,"function"==typeof ew.target[ew.type]&&ew.target[ew.type](),nw.disabled=!1)}return!ew.defaultPrevented}function _m(ZL,ew,tw){if(Array.isArray(ew))return mm(_m,ZL,ew,tw);var aw=function rw(){ym(ZL,ew,rw),tw.apply(this,arguments)};aw.guid=tw.guid=tw.guid||lm(),hm(ZL,ew,aw)}function bm(ZL,ew){ew&&(jg=ew),pg.setTimeout(Hg,ZL)}function Tm(ZL){var ew=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).eventBusKey;if(ew){if(!ZL[ew].nodeName)throw new Error("The eventBusKey \""+ew+"\" does not refer to an element.");ZL.eventBusEl_=ZL[ew]}else ZL.eventBusEl_=Fp("span",{className:"vjs-event-bus"});return xp(ZL,ay),ZL.on("dispose",function(){ZL.off(),pg.setTimeout(function(){ZL.eventBusEl_=null},0)}),ZL}function Sm(ZL,ew){return xp(ZL,ry),ZL.state=xp({},ZL.state,ew),"function"==typeof ZL.handleStateChanged&&Kg(ZL)&&ZL.on("statechanged",ZL.handleStateChanged),ZL}function vm(ZL){return"string"==typeof ZL?ZL.charAt(0).toUpperCase()+ZL.slice(1):ZL}function km(){for(var ZL={},ew=arguments.length,tw=Array(ew),aw=0;aw<ew;aw++)tw[aw]=arguments[aw];return tw.forEach(function(rw){rw&&Lp(rw,function(nw,ow){Ip(nw)?(Ip(ZL[ow])||(ZL[ow]={}),ZL[ow]=km(ZL[ow],nw)):ZL[ow]=nw})}),ZL}function Cm(ZL,ew,tw,aw){return function(rw,nw,ow){if("number"!=typeof nw||0>nw||ow<nw)throw new Error("Failed to execute '"+rw+"' on 'TimeRanges': The index provided ("+nw+") is non-numeric or out of bounds (0-"+ow+").")}(ZL,aw,tw.length-1),tw[aw][ew]}function Em(ZL){return void 0===ZL||0===ZL.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:ZL.length,start:Cm.bind(null,"start",0,ZL),end:Cm.bind(null,"end",1,ZL)}}function Pm(ZL,ew){return Array.isArray(ZL)?Em(ZL):void 0===ZL||void 0===ew?Em():Em([[ZL,ew]])}function Lm(ZL,ew){var tw=0,aw,rw;if(!ew)return 0;ZL&&ZL.length||(ZL=Pm(0,0));for(var nw=0;nw<ZL.length;nw++)aw=ZL.start(nw),ew<(rw=ZL.end(nw))&&(rw=ew),tw+=rw-aw;return tw/ew}function wm(ZL){return ZL instanceof wm?ZL:void("number"==typeof ZL?this.code=ZL:"string"==typeof ZL?this.message=ZL:Ap(ZL)&&("number"==typeof ZL.code&&(this.code=ZL.code),xp(this,ZL)),this.message||(this.message=wm.defaultMessages[this.code]||""))}function xm(ZL){return null!=ZL&&"function"==typeof ZL.then}function Am(ZL){xm(ZL)&&ZL.then(null,function(){})}function Im(ZL,ew,tw){var aw=ZL;return hf(ew)?(tw=ew,"string"==typeof ZL&&(aw={uri:ZL})):aw=wf(ew,{uri:ZL}),aw.callback=tw,aw}function Dm(ZL,ew,tw){return Om(ew=Im(ZL,ew,tw))}function Om(ZL){function ew(hw){return clearTimeout(iw),hw instanceof Error||(hw=new Error(""+(hw||"Unknown XMLHttpRequest Error"))),hw.statusCode=0,rw(hw,gw)}function tw(){if(!ow){var hw;clearTimeout(iw),hw=ZL.useXDR&&void 0===sw.status?200:1223===sw.status?204:sw.status;var yw=gw,fw=null;return 0===hw?fw=new Error("Internal XMLHttpRequest Error"):(yw={body:function(){var _w;if(_w=sw.response?sw.response:sw.responseText||function(bw){if("document"===bw.responseType)return bw.responseXML;var Tw=bw.responseXML&&"parsererror"===bw.responseXML.documentElement.nodeName;return""!==bw.responseType||Tw?null:bw.responseXML}(sw),mw)try{_w=JSON.parse(_w)}catch(bw){}return _w}(),statusCode:hw,method:dw,headers:{},url:lw,rawRequest:sw},sw.getAllResponseHeaders&&(yw.headers=Lf(sw.getAllResponseHeaders()))),rw(fw,yw,yw.body)}}if("undefined"==typeof ZL.callback)throw new Error("callback argument missing");var aw=!1,rw=function(hw,yw,fw){aw||(aw=!0,ZL.callback(hw,yw,fw))},nw,ow,sw=ZL.xhr||null;sw||(sw=ZL.cors||ZL.useXDR?new Dm.XDomainRequest:new Dm.XMLHttpRequest);var lw=sw.url=ZL.uri||ZL.url,dw=sw.method=ZL.method||"GET",pw=ZL.body||ZL.data,uw=sw.headers=ZL.headers||{},cw=!!ZL.sync,mw=!1,gw={body:void 0,headers:{},statusCode:0,method:dw,url:lw,rawRequest:sw},iw;if("json"in ZL&&!1!==ZL.json&&(mw=!0,uw.accept||uw.Accept||(uw.Accept="application/json"),"GET"!==dw&&"HEAD"!==dw&&(uw["content-type"]||uw["Content-Type"]||(uw["Content-Type"]="application/json"),pw=JSON.stringify(!0===ZL.json?pw:ZL.json))),sw.onreadystatechange=function(){4===sw.readyState&&setTimeout(tw,0)},sw.onload=tw,sw.onerror=ew,sw.onprogress=function(){},sw.onabort=function(){ow=!0},sw.ontimeout=ew,sw.open(dw,lw,!cw,ZL.username,ZL.password),cw||(sw.withCredentials=!!ZL.withCredentials),!cw&&0<ZL.timeout&&(iw=setTimeout(function(){if(!ow){ow=!0,sw.abort("timeout");var hw=new Error("XMLHttpRequest timeout");hw.code="ETIMEDOUT",ew(hw)}},ZL.timeout)),sw.setRequestHeader)for(nw in uw)uw.hasOwnProperty(nw)&&sw.setRequestHeader(nw,uw[nw]);else if(ZL.headers&&!function(hw){for(var yw in hw)if(hw.hasOwnProperty(yw))return!1;return!0}(ZL.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in ZL&&(sw.responseType=ZL.responseType),"beforeSend"in ZL&&"function"==typeof ZL.beforeSend&&ZL.beforeSend(sw),sw.send(pw||null),sw}function Rm(ZL,ew){this.name="ParsingError",this.code=ZL.code,this.message=ew||ZL.message}function Um(ZL){function ew(aw,rw,nw,ow){return 3600*(0|aw)+60*(0|rw)+(0|nw)+(0|ow)/1e3}var tw=ZL.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return tw?tw[3]?ew(tw[1],tw[2],tw[3].replace(":",""),tw[4]):59<tw[1]?ew(tw[1],tw[2],0,tw[4]):ew(0,tw[1],tw[2],tw[4]):null}function Mm(){this.values=Hf(null)}function Bm(ZL,ew,tw,aw){var rw=aw?ZL.split(aw):[ZL];for(var nw in rw)if("string"==typeof rw[nw]){var ow=rw[nw].split(tw);2===ow.length&&ew(ow[0],ow[1])}}function Nm(ZL,ew,tw){function aw(){var lw=Um(ZL);if(null===lw)throw new Rm(Rm.Errors.BadTimeStamp,"Malformed timestamp: "+iw);return ZL=ZL.replace(/^[^\sa-zA-Z-]+/,""),lw}function rw(){ZL=ZL.replace(/^\s+/,"")}var iw=ZL,nw,ow,sw;if(rw(),ew.startTime=aw(),rw(),"-->"!==ZL.substr(0,3))throw new Rm(Rm.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+iw);ZL=ZL.substr(3),rw(),ew.endTime=aw(),rw(),nw=ZL,ow=ew,sw=new Mm,Bm(nw,function(lw,dw){switch(lw){case"region":for(var pw=tw.length-1;0<=pw;pw--)if(tw[pw].id===dw){sw.set(lw,tw[pw].region);break}break;case"vertical":sw.alt(lw,dw,["rl","lr"]);break;case"line":var uw=dw.split(","),cw=uw[0];sw.integer(lw,cw),sw.percent(lw,cw)&&sw.set("snapToLines",!1),sw.alt(lw,cw,["auto"]),2===uw.length&&sw.alt("lineAlign",uw[1],["start","middle","end"]);break;case"position":uw=dw.split(","),sw.percent(lw,uw[0]),2===uw.length&&sw.alt("positionAlign",uw[1],["start","middle","end"]);break;case"size":sw.percent(lw,dw);break;case"align":sw.alt(lw,dw,["start","middle","end","left","right"]);}},/:/,/\s/),ow.region=sw.get("region",null),ow.vertical=sw.get("vertical",""),ow.line=sw.get("line","auto"),ow.lineAlign=sw.get("lineAlign","start"),ow.snapToLines=sw.get("snapToLines",!0),ow.size=sw.get("size",100),ow.align=sw.get("align","middle"),ow.position=sw.get("position",{start:0,left:0,middle:50,end:100,right:100},ow.align),ow.positionAlign=sw.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},ow.align)}function Fm(ZL,ew){function tw(){if(!ew)return null;var hw=ew.match(/^([^<]*)(<[^>]*>?)?/),gw;return gw=hw[1]?hw[1]:hw[2],ew=ew.substr(gw.length),gw}function aw(gw){return Vf[gw]}function rw(gw){for(;mw=gw.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)gw=gw.replace(mw[0],aw);return gw}function nw(gw,hw){var yw=zf[gw];if(!yw)return null;var fw=ZL.document.createElement(yw);fw.localName=yw;var _w=qf[gw];return _w&&hw&&(fw[_w]=hw.trim()),fw}for(var lw=ZL.document.createElement("div"),dw=lw,pw=[],ow,sw,iw;null!==(ow=tw());)if("<"!==ow[0])dw.appendChild(ZL.document.createTextNode(rw(ow)));else{if("/"===ow[1]){pw.length&&pw[pw.length-1]===ow.substr(2).replace(">","")&&(pw.pop(),dw=dw.parentNode);continue}var cw=Um(ow.substr(1,ow.length-2)),uw;if(cw){uw=ZL.document.createProcessingInstruction("timestamp",cw),dw.appendChild(uw);continue}var mw=ow.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!mw)continue;if(!(uw=nw(mw[1],mw[3])))continue;if(sw=dw,Wf[(iw=uw).localName]&&Wf[iw.localName]!==sw.localName)continue;mw[2]&&(uw.className=mw[2].substr(1).replace("."," ")),pw.push(mw[1]),dw.appendChild(uw),dw=uw}return lw}function jm(ZL){for(var ew=0,tw;ew<Gf.length;ew++)if(tw=Gf[ew],ZL>=tw[0]&&ZL<=tw[1])return!0;return!1}function Hm(){}function Vm(ZL,ew,tw){Hm.call(this),this.cue=ew,this.cueDiv=Fm(ZL,ew.text);var aw={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===ew.vertical?"horizontal-tb":"lr"===ew.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(aw,this.cueDiv),this.div=ZL.document.createElement("div"),aw={direction:function(nw){function ow(pw,uw){for(var cw=uw.childNodes.length-1;0<=cw;cw--)pw.push(uw.childNodes[cw])}function sw(pw){if(!pw||!pw.length)return null;var uw=pw.pop(),cw=uw.textContent||uw.innerText;if(cw){var mw=cw.match(/^.*(\n|\r)/);return mw?mw[pw.length=0]:cw}return"ruby"===uw.tagName?sw(pw):uw.childNodes?(ow(pw,uw),sw(pw)):void 0}var iw=[],lw="";if(!nw||!nw.childNodes)return"ltr";for(ow(iw,nw);lw=sw(iw);)for(var dw=0;dw<lw.length;dw++)if(jm(lw.charCodeAt(dw)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===ew.vertical?"horizontal-tb":"lr"===ew.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===ew.align?"center":ew.align,font:tw.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(aw),this.div.appendChild(this.cueDiv);var rw=0;switch(ew.positionAlign){case"start":rw=ew.position;break;case"middle":rw=ew.position-ew.size/2;break;case"end":rw=ew.position-ew.size;}""===ew.vertical?this.applyStyles({left:this.formatStyle(rw,"%"),width:this.formatStyle(ew.size,"%")}):this.applyStyles({top:this.formatStyle(rw,"%"),height:this.formatStyle(ew.size,"%")}),this.move=function(nw){this.applyStyles({top:this.formatStyle(nw.top,"px"),bottom:this.formatStyle(nw.bottom,"px"),left:this.formatStyle(nw.left,"px"),right:this.formatStyle(nw.right,"px"),height:this.formatStyle(nw.height,"px"),width:this.formatStyle(nw.width,"px")})}}function zm(ZL){var ew,tw,aw,rw;if(ZL.div){tw=ZL.div.offsetHeight,aw=ZL.div.offsetWidth,rw=ZL.div.offsetTop;var nw=(nw=ZL.div.childNodes)&&(nw=nw[0])&&nw.getClientRects&&nw.getClientRects();ZL=ZL.div.getBoundingClientRect(),ew=nw?_Mathmax(nw[0]&&nw[0].height||0,ZL.height/nw.length):0}this.left=ZL.left,this.right=ZL.right,this.top=ZL.top||rw,this.height=ZL.height||tw,this.bottom=ZL.bottom||rw+(ZL.height||tw),this.width=ZL.width||aw,this.lineHeight=void 0===ew?ZL.lineHeight:ew}function qm(ZL,ew,tw,aw){var rw=new zm(ew),nw=ew.cue,ow=function(gw){if("number"==typeof gw.line&&(gw.snapToLines||0<=gw.line&&100>=gw.line))return gw.line;if(!gw.track||!gw.track.textTrackList||!gw.track.textTrackList.mediaElement)return-1;for(var hw=gw.track,yw=hw.textTrackList,fw=0,_w=0;_w<yw.length&&yw[_w]!==hw;_w++)"showing"===yw[_w].mode&&fw++;return-1*++fw}(nw),sw=[];if(nw.snapToLines){var iw;switch(nw.vertical){case"":sw=["+y","-y"],iw="height";break;case"rl":sw=["+x","-x"],iw="width";break;case"lr":sw=["-x","+x"],iw="width";}var lw=rw.lineHeight,dw=lw*_Mathround(ow),pw=tw[iw]+lw,uw=sw[0];_Mathabs(dw)>pw&&(dw=0>dw?-1:1,dw*=_Mathceil(pw/lw)*lw),0>ow&&(dw+=""===nw.vertical?tw.height:tw.width,sw=sw.reverse()),rw.move(uw,dw)}else{var cw=100*(rw.lineHeight/tw.height);switch(nw.lineAlign){case"middle":ow-=cw/2;break;case"end":ow-=cw;}switch(nw.vertical){case"":ew.applyStyles({top:ew.formatStyle(ow,"%")});break;case"rl":ew.applyStyles({left:ew.formatStyle(ow,"%")});break;case"lr":ew.applyStyles({right:ew.formatStyle(ow,"%")});}sw=["+y","-x","+x","-y"],rw=new zm(ew)}var mw=function(gw,hw){for(var fw=new zm(gw),_w=1,bw=0,yw;bw<hw.length;bw++){for(;gw.overlapsOppositeAxis(tw,hw[bw])||gw.within(tw)&&gw.overlapsAny(aw);)gw.move(hw[bw]);if(gw.within(tw))return gw;var Tw=gw.intersectPercentage(tw);Tw<_w&&(yw=new zm(gw),_w=Tw),gw=new zm(fw)}return yw||fw}(rw,sw);ew.move(mw.toCSSCompatValues(tw))}function Wm(){}function Gm(ZL){return"string"==typeof ZL&&!!Qf[ZL.toLowerCase()]&&ZL.toLowerCase()}function Ym(ZL,ew,tw){this.hasBeenReset=!1;var aw="",rw=!1,nw=ZL,ow=ew,sw=tw,iw=null,lw="",dw=!0,pw="auto",uw="start",cw=50,mw="middle",gw=50,hw="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return aw},set:function(yw){aw=""+yw}},pauseOnExit:{enumerable:!0,get:function(){return rw},set:function(yw){rw=!!yw}},startTime:{enumerable:!0,get:function(){return nw},set:function(yw){if("number"!=typeof yw)throw new TypeError("Start time must be set to a number.");nw=yw,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return ow},set:function(yw){if("number"!=typeof yw)throw new TypeError("End time must be set to a number.");ow=yw,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return sw},set:function(yw){sw=""+yw,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return iw},set:function(yw){iw=yw,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return lw},set:function(yw){var _w="string"==typeof(fw=yw)&&!!$f[fw.toLowerCase()]&&fw.toLowerCase(),fw;if(!1===_w)throw new SyntaxError("An invalid or illegal string was specified.");lw=_w,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return dw},set:function(yw){dw=!!yw,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return pw},set:function(yw){if("number"!=typeof yw&&yw!==Kf)throw new SyntaxError("An invalid number or illegal string was specified.");pw=yw,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return uw},set:function(yw){var fw=Gm(yw);if(!fw)throw new SyntaxError("An invalid or illegal string was specified.");uw=fw,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return cw},set:function(yw){if(0>yw||100<yw)throw new Error("Position must be between 0 and 100.");cw=yw,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return mw},set:function(yw){var fw=Gm(yw);if(!fw)throw new SyntaxError("An invalid or illegal string was specified.");mw=fw,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return gw},set:function(yw){if(0>yw||100<yw)throw new Error("Size must be between 0 and 100.");gw=yw,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return hw},set:function(yw){var fw=Gm(yw);if(!fw)throw new SyntaxError("An invalid or illegal string was specified.");hw=fw,this.hasBeenReset=!0}}}),this.displayState=void 0}function Xm(ZL){return"number"==typeof ZL&&0<=ZL&&100>=ZL}function Km(ZL,ew,tw){ZL.setTimeout(function(){return function aw(){var rw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},nw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],ow=arguments[2],sw=arguments[3],iw=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],lw=5<arguments.length&&void 0!==arguments[5]&&arguments[5],dw=nw[0],pw=nw.slice(1);if("string"==typeof dw)aw(rw,l_[dw],ow,sw,iw,lw);else if(dw){var uw=function(cw,mw){var gw=d_[cw.id()],hw=null;if(null==gw)return hw=mw(cw),d_[cw.id()]=[[mw,hw]],hw;for(var yw=0;yw<gw.length;yw++){var fw=gw[yw],_w=fw[0],bw=fw[1];_w===mw&&(hw=bw)}return null===hw&&(hw=mw(cw),gw.push([mw,hw])),hw}(sw,dw);if(!uw.setSource)return iw.push(uw),aw(rw,pw,ow,sw,iw,lw);uw.setSource(xp({},rw),function(cw,mw){return cw?aw(rw,pw,ow,sw,iw,lw):void(iw.push(uw),aw(mw,rw.type===mw.type?pw:l_[mw.type],ow,sw,iw,lw))})}else pw.length?aw(rw,pw,ow,sw,iw,lw):lw?ow(rw,iw):aw(rw,l_["*"],ow,sw,iw,!0)}(ew,l_[ew.type],tw,ZL)},1)}function $m(ZL,ew,tw){var aw=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,rw="call"+vm(tw),nw=ZL.reduce(Qm(rw),aw),ow=nw===p_,sw=ow?null:ew[tw](nw);return function(iw,lw,dw,pw){for(var uw=iw.length-1,cw;0<=uw;uw--)cw=iw[uw],cw[lw]&&cw[lw](pw,dw)}(ZL,tw,sw,ow),sw}function Qm(ZL){return function(ew,tw){return ew===p_?p_:tw[ZL]?tw[ZL](ew):ew}}function Jm(ZL){var ew=h_(ZL.src);return!ZL.type&&ew&&(ZL.type=ew),ZL}function Zm(ZL,ew){var tw;if(4===ZL.length)tw=ZL[1]+ZL[1]+ZL[2]+ZL[2]+ZL[3]+ZL[3];else{if(7!==ZL.length)throw new Error("Invalid color code provided, "+ZL+"; must be formatted as e.g. #f0e or #f604e2.");tw=ZL.slice(1)}return"rgba("+parseInt(tw.slice(0,2),16)+","+parseInt(tw.slice(2,4),16)+","+parseInt(tw.slice(4,6),16)+","+ew+")"}function eg(ZL,ew,tw){try{ZL.style[ew]=tw}catch(aw){}}function tg(ZL){var ew=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ZL;return w_(ZL,ew)}function ag(ZL,ew){if(ew&&(ZL=ew(ZL)),ZL&&"none"!==ZL)return ZL}function rg(ZL,ew,tw){var aw=rg.getPlayer(ZL);if(aw)return ew&&Tg.warn("Player \""+ZL+"\" is already initialised. Options will not be applied."),tw&&aw.ready(tw),aw;var rw="string"==typeof ZL?Ag("#"+oT(ZL)):ZL;if(!Mp(rw))throw new TypeError("The element or ID supplied is not valid. (videojs)");hg.body.contains(rw)||Tg.warn("The element supplied is not included in the DOM"),ew=ew||{},rg.hooks("beforesetup").forEach(function(ow){var sw=ow(rw,km(ew));Ap(sw)&&!Array.isArray(sw)?ew=km(ew,sw):Tg.error("please return an object in beforesetup hooks")});var nw=ny.getComponent("Player");return aw=new nw(rw,ew,tw),rg.hooks("setup").forEach(function(ow){return ow(aw)}),aw}function ng(ZL,ew){return function(tw){var aw=this;if(!ew)return new IP(ZL);if(IP&&!tw){var rw=og(ew.toString().replace(/^function.+?{/,"").slice(0,-1));return this[LP]=new IP(rw),function(ow,sw){if(ow&&sw){var iw=ow.terminate;ow.objURL=sw,ow.terminate=function(){ow.objURL&&AP.revokeObjectURL(ow.objURL),iw.call(ow)}}}(this[LP],rw),this[LP]}var nw={postMessage:function(ow){aw.onmessage&&setTimeout(function(){aw.onmessage({data:ow,target:nw})})}};ew.call(nw),this.postMessage=function(ow){setTimeout(function(){nw.onmessage({data:ow,target:aw})})},this.isThisThread=!0}}function og(ZL){try{return AP.createObjectURL(new Blob([ZL],{type:wP}))}catch(tw){var ew=new xP;return ew.append(ZL),AP.createObjectURL(ew.getBlob(type))}}function sg(){}var ig="7.2.2",lg="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window,dg,pg="undefined"==typeof window?"undefined"==typeof lg?"undefined"==typeof self?{}:self:lg:window,ug={},cg=Object.freeze({default:ug}),gg="undefined"==typeof lg?"undefined"==typeof window?{}:window:lg;"undefined"==typeof document?(dg=gg["__GLOBAL_DOCUMENT_CACHE@4"])||(dg=gg["__GLOBAL_DOCUMENT_CACHE@4"]=cg&&ug||cg):dg=document;var hg=dg,yg,fg="info",_g=[],bg=function(ZL,ew){var tw=yg.levels[fg],aw=new RegExp("^("+tw+")$");if("log"!==ZL&&ew.unshift(ZL.toUpperCase()+":"),_g&&_g.push([].concat(ew)),ew.unshift("VIDEOJS:"),pg.console){var rw=pg.console[ZL];rw||"debug"!==ZL||(rw=pg.console.info||pg.console.log),rw&&tw&&aw.test(ZL)&&rw[Array.isArray(ew)?"apply":"call"](pg.console,ew)}};(yg=function(){for(var ZL=arguments.length,ew=Array(ZL),tw=0;tw<ZL;tw++)ew[tw]=arguments[tw];bg("log",ew)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:fg},yg.level=function(ZL){if("string"==typeof ZL){if(!yg.levels.hasOwnProperty(ZL))throw new Error("\""+ZL+"\" in not a valid log level");fg=ZL}return fg},yg.history=function(){return _g?[].concat(_g):[]},yg.history.clear=function(){_g&&(_g.length=0)},yg.history.disable=function(){null!==_g&&(_g.length=0,_g=null)},yg.history.enable=function(){null===_g&&(_g=[])},yg.error=function(){for(var ZL=arguments.length,ew=Array(ZL),tw=0;tw<ZL;tw++)ew[tw]=arguments[tw];return bg("error",ew)},yg.warn=function(){for(var ZL=arguments.length,ew=Array(ZL),tw=0;tw<ZL;tw++)ew[tw]=arguments[tw];return bg("warn",ew)},yg.debug=function(){for(var ZL=arguments.length,ew=Array(ZL),tw=0;tw<ZL;tw++)ew[tw]=arguments[tw];return bg("debug",ew)};var Tg=yg,Sg=function(ZL){for(var ew="",tw=0;tw<arguments.length;tw++)ew+=ZL[tw].replace(/\n\r?\s*/g,"")+(arguments[tw+1]||"");return ew},vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ZL){return typeof ZL}:function(ZL){return ZL&&"function"==typeof Symbol&&ZL.constructor===Symbol&&ZL!==Symbol.prototype?"symbol":typeof ZL},kg=function(ZL,ew){if(!(ZL instanceof ew))throw new TypeError("Cannot call a class as a function")},Cg=function(ZL,ew){if("function"!=typeof ew&&null!==ew)throw new TypeError("Super expression must either be null or a function, not "+typeof ew);ZL.prototype=Object.create(ew&&ew.prototype,{constructor:{value:ZL,enumerable:!1,writable:!0,configurable:!0}}),ew&&(Object.setPrototypeOf?Object.setPrototypeOf(ZL,ew):ZL.__proto__=ew)},Eg=function(ZL,ew){if(!ZL)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ew&&("object"==typeof ew||"function"==typeof ew)?ew:ZL},Pg=function(ZL,ew){return ZL.raw=ew,ZL},Lg=Object.prototype.toString,wg=function(ZL){return Ap(ZL)?Object.keys(ZL):[]},xg=Pg(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),Ag=Np("querySelector"),Ig=Np("querySelectorAll"),Dg=Object.freeze({isReal:Up,isEl:Mp,isInFrame:Bp,createEl:Fp,textContent:jp,prependTo:Hp,hasClass:Vp,addClass:zp,removeClass:qp,toggleClass:Wp,setAttributes:Gp,getAttributes:Yp,getAttribute:Xp,setAttribute:Kp,removeAttribute:$p,blockTextSelection:Qp,unblockTextSelection:Jp,getBoundingClientRect:Zp,findPosition:em,getPointerPosition:tm,isTextNode:am,emptyEl:rm,normalizeContent:nm,appendContent:om,insertContent:sm,isSingleLeftClick:im,$:Ag,$$:Ig}),Og=1,Rg={},Ug="vdata"+new Date().getTime(),Mg=!1;!function(){try{var ZL=Object.defineProperty({},"passive",{get:function(){Mg=!0}});pg.addEventListener("test",null,ZL),pg.removeEventListener("test",null,ZL)}catch(ew){}}();var Bg=["touchstart","touchmove"],Ng=Object.freeze({fixEvent:gm,on:hm,off:ym,trigger:fm,one:_m}),Fg=!1,jg,Hg=function(){if(Up()&&!1!==jg.options.autoSetup){var ZL=Array.prototype.slice.call(hg.getElementsByTagName("video")),ew=Array.prototype.slice.call(hg.getElementsByTagName("audio")),tw=Array.prototype.slice.call(hg.getElementsByTagName("video-js")),aw=ZL.concat(ew,tw);if(aw&&0<aw.length)for(var rw=0,nw=aw.length,ow;rw<nw;rw++){if(ow=aw[rw],!ow||!ow.getAttribute){bm(1);break}void 0===ow.player&&null!==ow.getAttribute("data-setup")&&jg(ow)}else Fg||bm(1)}};Up()&&"complete"===hg.readyState?Fg=!0:_m(pg,"load",function(){Fg=!0});var Vg=function(ZL){var ew=hg.createElement("style");return ew.className=ZL,ew},zg=function(ZL,ew){ZL.styleSheet?ZL.styleSheet.cssText=ew:ZL.textContent=ew},qg=function(ZL,ew,tw){ew.guid||(ew.guid=lm());var aw=function(){return ew.apply(ZL,arguments)};return aw.guid=tw?tw+"_"+ew.guid:ew.guid,aw},Wg=function(ZL,ew){var tw=Date.now();return function(){var aw=Date.now();ew<=aw-tw&&(ZL.apply(void 0,arguments),tw=aw)}},Gg=function(ZL,ew,tw){var aw=3<arguments.length&&void 0!==arguments[3]?arguments[3]:pg,rw,nw=function(){var ow=this,sw=arguments,iw=function(){iw=rw=null,tw||ZL.apply(ow,sw)};!rw&&tw&&ZL.apply(ow,sw),aw.clearTimeout(rw),rw=aw.setTimeout(iw,ew)};return nw.cancel=function(){aw.clearTimeout(rw),rw=null},nw},Yg=function(){};Yg.prototype.allowedEvents_={},Yg.prototype.addEventListener=Yg.prototype.on=function(ZL,ew){var tw=this.addEventListener;this.addEventListener=function(){},hm(this,ZL,ew),this.addEventListener=tw},Yg.prototype.removeEventListener=Yg.prototype.off=function(ZL,ew){ym(this,ZL,ew)},Yg.prototype.one=function(ZL,ew){var tw=this.addEventListener;this.addEventListener=function(){},_m(this,ZL,ew),this.addEventListener=tw},Yg.prototype.dispatchEvent=Yg.prototype.trigger=function(ZL){var ew=ZL.type||ZL;"string"==typeof ZL&&(ZL={type:ew}),ZL=gm(ZL),this.allowedEvents_[ew]&&this["on"+ew]&&this["on"+ew](ZL),fm(this,ZL)};var Xg;Yg.prototype.queueTrigger=function(ZL){var ew=this;Xg||(Xg=new Map);var tw=ZL.type||ZL,aw=Xg.get(this);aw||(aw=new Map,Xg.set(this,aw));var rw=aw.get(tw);aw.delete(tw),pg.clearTimeout(rw);var nw=pg.setTimeout(function(){0===aw.size&&(aw=null,Xg.delete(ew)),ew.trigger(ZL)},0);aw.set(tw,nw)};var Kg=function(ZL){return ZL instanceof Yg||!!ZL.eventBusEl_&&["on","one","off","trigger"].every(function(ew){return"function"==typeof ZL[ew]})},$g=function(ZL){return"string"==typeof ZL&&/\S/.test(ZL)||Array.isArray(ZL)&&!!ZL.length},Qg=function(ZL){if(!ZL.nodeName&&!Kg(ZL))throw new Error("Invalid target; must be a DOM node or evented object.")},Jg=function(ZL){if(!$g(ZL))throw new Error("Invalid event type; must be a non-empty string or array.")},Zg=function(ZL){if("function"!=typeof ZL)throw new Error("Invalid listener; must be a function.")},ey=function(ZL,ew){var tw=3>ew.length||ew[0]===ZL||ew[0]===ZL.eventBusEl_,aw,rw,nw;return tw?(aw=ZL.eventBusEl_,3<=ew.length&&ew.shift(),rw=ew[0],nw=ew[1]):(aw=ew[0],rw=ew[1],nw=ew[2]),Qg(aw),Jg(rw),Zg(nw),{isTargetingSelf:tw,target:aw,type:rw,listener:nw=qg(ZL,nw)}},ty=function(ZL,ew,tw,aw){Qg(ZL),ZL.nodeName?Ng[ew](ZL,tw,aw):ZL[ew](tw,aw)},ay={on:function(){for(var ZL=this,ew=arguments.length,tw=Array(ew),aw=0;aw<ew;aw++)tw[aw]=arguments[aw];var rw=ey(this,tw),nw=rw.isTargetingSelf,ow=rw.target,sw=rw.type,iw=rw.listener;if(ty(ow,"on",sw,iw),!nw){var lw=function(){return ZL.off(ow,sw,iw)};lw.guid=iw.guid;var dw=function(){return ZL.off("dispose",lw)};dw.guid=iw.guid,ty(this,"on","dispose",lw),ty(ow,"on","dispose",dw)}},one:function(){for(var ZL=this,ew=arguments.length,tw=Array(ew),aw=0;aw<ew;aw++)tw[aw]=arguments[aw];var rw=ey(this,tw),nw=rw.isTargetingSelf,ow=rw.target,sw=rw.type,iw=rw.listener;if(nw)ty(ow,"one",sw,iw);else{var lw=function dw(){for(var pw=arguments.length,uw=Array(pw),cw=0;cw<pw;cw++)uw[cw]=arguments[cw];ZL.off(ow,sw,dw),iw.apply(null,uw)};lw.guid=iw.guid,ty(ow,"one",sw,lw)}},off:function(ZL,ew,tw){if(!ZL||$g(ZL))ym(this.eventBusEl_,ZL,ew);else{var aw=ZL,rw=ew;Qg(aw),Jg(rw),Zg(tw),tw=qg(this,tw),this.off("dispose",tw),aw.nodeName?(ym(aw,rw,tw),ym(aw,"dispose",tw)):Kg(aw)&&(aw.off(rw,tw),aw.off("dispose",tw))}},trigger:function(ZL,ew){return fm(this.eventBusEl_,ZL,ew)}},ry={state:{},setState:function(ZL){var ew=this;"function"==typeof ZL&&(ZL=ZL());var tw;return Lp(ZL,function(aw,rw){ew.state[rw]!==aw&&((tw=tw||{})[rw]={from:ew.state[rw],to:aw}),ew.state[rw]=aw}),tw&&Kg(this)&&this.trigger({changes:tw,type:"statechanged"}),tw}},ny=function(){function ZL(ew,tw,aw){if(kg(this,ZL),this.player_=!ew&&this.play?ew=this:ew,this.options_=km({},this.options_),tw=this.options_=km(this.options_,tw),this.id_=tw.id||tw.el&&tw.el.id,!this.id_){var rw=ew&&ew.id&&ew.id()||"no_player";this.id_=rw+"_component_"+lm()}this.name_=tw.name||null,tw.el?this.el_=tw.el:!1!==tw.createEl&&(this.el_=this.createEl()),!1!==tw.evented&&Tm(this,{eventBusKey:this.el_?"el_":null}),Sm(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==tw.initChildren&&this.initChildren(),this.ready(aw),!1!==tw.reportTouchActivity&&this.enableTouchActivity()}return ZL.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var ew=this.children_.length-1;0<=ew;ew--)this.children_[ew].dispose&&this.children_[ew].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),um(this.el_),this.el_=null),this.player_=null},ZL.prototype.player=function(){return this.player_},ZL.prototype.options=function(ew){return Tg.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),ew&&(this.options_=km(this.options_,ew)),this.options_},ZL.prototype.el=function(){return this.el_},ZL.prototype.createEl=function(ew,tw,aw){return Fp(ew,tw,aw)},ZL.prototype.localize=function(ew,tw){var aw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:ew,rw=this.player_.language&&this.player_.language(),nw=this.player_.languages&&this.player_.languages(),ow=nw&&nw[rw],sw=rw&&rw.split("-")[0],iw=nw&&nw[sw],lw=aw;return ow&&ow[ew]?lw=ow[ew]:iw&&iw[ew]&&(lw=iw[ew]),tw&&(lw=lw.replace(/\{(\d+)\}/g,function(dw,pw){var uw=tw[pw-1],cw=uw;return"undefined"==typeof uw&&(cw=dw),cw})),lw},ZL.prototype.contentEl=function(){return this.contentEl_||this.el_},ZL.prototype.id=function(){return this.id_},ZL.prototype.name=function(){return this.name_},ZL.prototype.children=function(){return this.children_},ZL.prototype.getChildById=function(ew){return this.childIndex_[ew]},ZL.prototype.getChild=function(ew){if(ew)return ew=vm(ew),this.childNameIndex_[ew]},ZL.prototype.addChild=function(ew){var tw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},aw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,rw,nw;if("string"==typeof ew){nw=vm(ew);var ow=tw.componentClass||nw;tw.name=nw;var sw=ZL.getComponent(ow);if(!sw)throw new Error("Component "+ow+" does not exist");if("function"!=typeof sw)return null;rw=new sw(this.player_||this,tw)}else rw=ew;if(this.children_.splice(aw,0,rw),"function"==typeof rw.id&&(this.childIndex_[rw.id()]=rw),(nw=nw||rw.name&&vm(rw.name()))&&(this.childNameIndex_[nw]=rw),"function"==typeof rw.el&&rw.el()){var iw=this.contentEl().children[aw]||null;this.contentEl().insertBefore(rw.el(),iw)}return rw},ZL.prototype.removeChild=function(ew){if("string"==typeof ew&&(ew=this.getChild(ew)),ew&&this.children_){for(var tw=!1,aw=this.children_.length-1;0<=aw;aw--)if(this.children_[aw]===ew){tw=!0,this.children_.splice(aw,1);break}if(tw){this.childIndex_[ew.id()]=null,this.childNameIndex_[ew.name()]=null;var rw=ew.el();rw&&rw.parentNode===this.contentEl()&&this.contentEl().removeChild(ew.el())}}},ZL.prototype.initChildren=function(){var ew=this,tw=this.options_.children;if(tw){var aw=this.options_,rw,nw=ZL.getComponent("Tech");(rw=Array.isArray(tw)?tw:Object.keys(tw)).concat(Object.keys(this.options_).filter(function(ow){return!rw.some(function(sw){return"string"==typeof sw?ow===sw:ow===sw.name})})).map(function(ow){var sw,iw;return"string"==typeof ow?iw=tw[sw=ow]||ew.options_[sw]||{}:(sw=ow.name,iw=ow),{name:sw,opts:iw}}).filter(function(ow){var sw=ZL.getComponent(ow.opts.componentClass||vm(ow.name));return sw&&!nw.isTech(sw)}).forEach(function(ow){var sw=ow.name,iw=ow.opts;if(void 0!==aw[sw]&&(iw=aw[sw]),!1!==iw){!0===iw&&(iw={}),iw.playerOptions=ew.options_.playerOptions;var lw=ew.addChild(sw,iw);lw&&(ew[sw]=lw)}})}},ZL.prototype.buildCSSClass=function(){return""},ZL.prototype.ready=function(ew){var tw=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(ew)return this.isReady_?void(tw?ew.call(this):this.setTimeout(ew,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(ew))},ZL.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var ew=this.readyQueue_;this.readyQueue_=[],ew&&0<ew.length&&ew.forEach(function(tw){tw.call(this)},this),this.trigger("ready")},1)},ZL.prototype.$=function(ew,tw){return Ag(ew,tw||this.contentEl())},ZL.prototype.$$=function(ew,tw){return Ig(ew,tw||this.contentEl())},ZL.prototype.hasClass=function(ew){return Vp(this.el_,ew)},ZL.prototype.addClass=function(ew){zp(this.el_,ew)},ZL.prototype.removeClass=function(ew){qp(this.el_,ew)},ZL.prototype.toggleClass=function(ew,tw){Wp(this.el_,ew,tw)},ZL.prototype.show=function(){this.removeClass("vjs-hidden")},ZL.prototype.hide=function(){this.addClass("vjs-hidden")},ZL.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},ZL.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},ZL.prototype.getAttribute=function(ew){return Xp(this.el_,ew)},ZL.prototype.setAttribute=function(ew,tw){Kp(this.el_,ew,tw)},ZL.prototype.removeAttribute=function(ew){$p(this.el_,ew)},ZL.prototype.width=function(ew,tw){return this.dimension("width",ew,tw)},ZL.prototype.height=function(ew,tw){return this.dimension("height",ew,tw)},ZL.prototype.dimensions=function(ew,tw){this.width(ew,!0),this.height(tw)},ZL.prototype.dimension=function(ew,tw,aw){if(void 0!==tw)return null!==tw&&tw==tw||(tw=0),this.el_.style[ew]=-1!==(""+tw).indexOf("%")||-1!==(""+tw).indexOf("px")?tw:"auto"===tw?"":tw+"px",void(aw||this.trigger("componentresize"));if(!this.el_)return 0;var rw=this.el_.style[ew],nw=rw.indexOf("px");return-1===nw?parseInt(this.el_["offset"+vm(ew)],10):parseInt(rw.slice(0,nw),10)},ZL.prototype.currentDimension=function(ew){var tw=0;if("width"!==ew&&"height"!==ew)throw new Error("currentDimension only accepts width or height value");if("function"==typeof pg.getComputedStyle){var aw=pg.getComputedStyle(this.el_);tw=aw.getPropertyValue(ew)||aw[ew]}if(0===(tw=parseFloat(tw))){var rw="offset"+vm(ew);tw=this.el_[rw]}return tw},ZL.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},ZL.prototype.currentWidth=function(){return this.currentDimension("width")},ZL.prototype.currentHeight=function(){return this.currentDimension("height")},ZL.prototype.focus=function(){this.el_.focus()},ZL.prototype.blur=function(){this.el_.blur()},ZL.prototype.emitTapEvents=function(){var ew=0,tw=null,aw;this.on("touchstart",function(nw){1===nw.touches.length&&(tw={pageX:nw.touches[0].pageX,pageY:nw.touches[0].pageY},ew=new Date().getTime(),aw=!0)}),this.on("touchmove",function(nw){if(1<nw.touches.length)aw=!1;else if(tw){var ow=nw.touches[0].pageX-tw.pageX,sw=nw.touches[0].pageY-tw.pageY;10<Math.sqrt(ow*ow+sw*sw)&&(aw=!1)}});var rw=function(){aw=!1};this.on("touchleave",rw),this.on("touchcancel",rw),this.on("touchend",function(nw){!(tw=null)===aw&&200>new Date().getTime()-ew&&(nw.preventDefault(),this.trigger("tap"))})},ZL.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var ew=qg(this.player(),this.player().reportUserActivity),tw;this.on("touchstart",function(){ew(),this.clearInterval(tw),tw=this.setInterval(ew,250)});var aw=function(){ew(),this.clearInterval(tw)};this.on("touchmove",ew),this.on("touchend",aw),this.on("touchcancel",aw)}},ZL.prototype.setTimeout=function(ew,tw){var nw=this,aw,rw;return ew=qg(this,ew),aw=pg.setTimeout(function(){nw.off("dispose",rw),ew()},tw),(rw=function(){return nw.clearTimeout(aw)}).guid="vjs-timeout-"+aw,this.on("dispose",rw),aw},ZL.prototype.clearTimeout=function(ew){pg.clearTimeout(ew);var tw=function(){};return tw.guid="vjs-timeout-"+ew,this.off("dispose",tw),ew},ZL.prototype.setInterval=function(ew,tw){var aw=this;ew=qg(this,ew);var rw=pg.setInterval(ew,tw),nw=function(){return aw.clearInterval(rw)};return nw.guid="vjs-interval-"+rw,this.on("dispose",nw),rw},ZL.prototype.clearInterval=function(ew){pg.clearInterval(ew);var tw=function(){};return tw.guid="vjs-interval-"+ew,this.off("dispose",tw),ew},ZL.prototype.requestAnimationFrame=function(ew){var rw=this,tw,aw;return this.supportsRaf_?(ew=qg(this,ew),tw=pg.requestAnimationFrame(function(){rw.off("dispose",aw),ew()}),(aw=function(){return rw.cancelAnimationFrame(tw)}).guid="vjs-raf-"+tw,this.on("dispose",aw),tw):this.setTimeout(ew,1e3/60)},ZL.prototype.cancelAnimationFrame=function(ew){if(this.supportsRaf_){pg.cancelAnimationFrame(ew);var tw=function(){};return tw.guid="vjs-raf-"+ew,this.off("dispose",tw),ew}return this.clearTimeout(ew)},ZL.registerComponent=function(ew,tw){if("string"!=typeof ew||!ew)throw new Error("Illegal component name, \""+ew+"\"; must be a non-empty string.");var aw=ZL.getComponent("Tech"),rw=aw&&aw.isTech(tw),nw=ZL===tw||ZL.prototype.isPrototypeOf(tw.prototype);if(rw||!nw){var ow;throw ow=rw?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error("Illegal component, \""+ew+"\"; "+ow+".")}ew=vm(ew),ZL.components_||(ZL.components_={});var sw=ZL.getComponent("Player");if("Player"===ew&&sw&&sw.players){var iw=sw.players,lw=Object.keys(iw);if(iw&&0<lw.length&&lw.map(function(dw){return iw[dw]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return ZL.components_[ew]=tw},ZL.getComponent=function(ew){if(ew)return ew=vm(ew),ZL.components_&&ZL.components_[ew]?ZL.components_[ew]:void 0},ZL}();ny.prototype.supportsRaf_="function"==typeof pg.requestAnimationFrame&&"function"==typeof pg.cancelAnimationFrame,ny.registerComponent("Component",ny);for(var dy=pg.navigator&&pg.navigator.userAgent||"",py=/AppleWebKit\/([\d.]+)/i.exec(dy),uy=py?parseFloat(py.pop()):null,cy=/iPad/i.test(dy),my=/iPhone/i.test(dy)&&!cy,gy=/iPod/i.test(dy),hy=my||cy||gy,yy=(oy=dy.match(/OS (\d+)_/i))&&oy[1]?oy[1]:null,fy=/Android/i.test(dy),_y=function(){var ZL=dy.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!ZL)return null;var ew=ZL[1]&&parseFloat(ZL[1]),tw=ZL[2]&&parseFloat(ZL[2]);return ew&&tw?parseFloat(ZL[1]+"."+ZL[2]):ew||null}(),by=fy&&5>_y&&537>uy,Ty=/Firefox/i.test(dy),Sy=/Edge/i.test(dy),vy=!Sy&&(/Chrome/i.test(dy)||/CriOS/i.test(dy)),ky=(sy=dy.match(/(Chrome|CriOS)\/(\d+)/))&&sy[2]?parseFloat(sy[2]):null,Cy=(iy=/MSIE\s(\d+)\.\d/.exec(dy),!(ly=iy&&parseFloat(iy[1]))&&/Trident\/7.0/i.test(dy)&&/rv:11.0/.test(dy)&&(ly=11),ly),Ey=/Safari/i.test(dy)&&!vy&&!fy&&!Sy,Py=(Ey||hy)&&!vy,Ly=Up()&&(("ontouchstart"in pg)||pg.navigator.maxTouchPoints||pg.DocumentTouch&&pg.document instanceof pg.DocumentTouch),wy=Object.freeze({IS_IPAD:cy,IS_IPHONE:my,IS_IPOD:gy,IS_IOS:hy,IOS_VERSION:yy,IS_ANDROID:fy,ANDROID_VERSION:_y,IS_NATIVE_ANDROID:by,IS_FIREFOX:Ty,IS_EDGE:Sy,IS_CHROME:vy,CHROME_VERSION:ky,IE_VERSION:Cy,IS_SAFARI:Ey,IS_ANY_SAFARI:Py,TOUCH_ENABLED:Ly}),xy={},Ay=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Iy=Ay[0],Dy=void 0,Oy=0,oy,sy,iy,ly;Oy<Ay.length;Oy++)if(Ay[Oy][1]in hg){Dy=Ay[Oy];break}if(Dy)for(var Ry=0;Ry<Dy.length;Ry++)xy[Iy[Ry]]=Dy[Ry];wm.prototype.code=0,wm.prototype.message="",wm.prototype.status=null,wm.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],wm.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Uy=0;Uy<wm.errorTypes.length;Uy++)wm[wm.errorTypes[Uy]]=Uy,wm.prototype[wm.errorTypes[Uy]]=Uy;var My=function(ZL,ew){var aw=null,tw;try{tw=JSON.parse(ZL,ew)}catch(rw){aw=rw}return[aw,tw]},By=function(ZL){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(ew,tw){return ZL[tw]&&(ew[tw]=ZL[tw]),ew},{cues:ZL.cues&&Array.prototype.map.call(ZL.cues,function(ew){return{startTime:ew.startTime,endTime:ew.endTime,text:ew.text,id:ew.id}})})},Ny=function(ZL){var ew=ZL.$$("track"),tw=Array.prototype.map.call(ew,function(aw){return aw.track});return Array.prototype.map.call(ew,function(aw){var rw=By(aw.track);return aw.src&&(rw.src=aw.src),rw}).concat(Array.prototype.filter.call(ZL.textTracks(),function(aw){return-1===tw.indexOf(aw)}).map(By))},Fy=function(ZL,ew){return ZL.forEach(function(tw){var aw=ew.addRemoteTextTrack(tw).track;!tw.src&&tw.cues&&tw.cues.forEach(function(rw){return aw.addCue(rw)})}),ew.textTracks()},jy="vjs-modal-dialog",Hy=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.opened_=rw.hasBeenOpened_=rw.hasBeenFilled_=!1,rw.closeable(!rw.options_.uncloseable),rw.content(rw.options_.content),rw.contentEl_=Fp("div",{className:jy+"-content"},{role:"document"}),rw.descEl_=Fp("p",{className:jy+"-description vjs-control-text",id:rw.el().getAttribute("aria-describedby")}),jp(rw.descEl_,rw.description()),rw.el_.appendChild(rw.descEl_),rw.el_.appendChild(rw.contentEl_),rw}return Cg(ew,ZL),ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},ew.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,ZL.prototype.dispose.call(this)},ew.prototype.buildCSSClass=function(){return jy+" vjs-hidden "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.handleKeyPress=function(tw){27===tw.which&&this.closeable()&&this.close()},ew.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},ew.prototype.description=function(){var tw=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(tw+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),tw},ew.prototype.open=function(){if(!this.opened_){var tw=this.player();this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!tw.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&tw.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",qg(this,this.handleKeyPress)),this.hadControls_=tw.controls(),tw.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},ew.prototype.opened=function(tw){return"boolean"==typeof tw&&this[tw?"open":"close"](),this.opened_},ew.prototype.close=function(){if(this.opened_){var tw=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&tw.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",qg(this,this.handleKeyPress)),this.hadControls_&&tw.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},ew.prototype.closeable=function(tw){if("boolean"==typeof tw){var aw=this.closeable_=!!tw,rw=this.getChild("closeButton");if(aw&&!rw){var nw=this.contentEl_;this.contentEl_=this.el_,rw=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=nw,this.on(rw,"close",this.close)}!aw&&rw&&(this.off(rw,"close",this.close),this.removeChild(rw),rw.dispose())}return this.closeable_},ew.prototype.fill=function(){this.fillWith(this.content())},ew.prototype.fillWith=function(tw){var aw=this.contentEl(),rw=aw.parentNode,nw=aw.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,rw.removeChild(aw),this.empty(),sm(aw,tw),this.trigger("modalfill"),nw?rw.insertBefore(aw,nw):rw.appendChild(aw);var ow=this.getChild("closeButton");ow&&rw.appendChild(ow.el_)},ew.prototype.empty=function(){this.trigger("beforemodalempty"),rm(this.contentEl()),this.trigger("modalempty")},ew.prototype.content=function(tw){return"undefined"!=typeof tw&&(this.content_=tw),this.content_},ew.prototype.conditionalFocus_=function(){var tw=hg.activeElement,aw=this.player_.el_;this.previouslyActiveEl_=null,(aw.contains(tw)||aw===tw)&&(this.previouslyActiveEl_=tw,this.focus(),this.on(hg,"keydown",this.handleKeyDown))},ew.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(hg,"keydown",this.handleKeyDown)},ew.prototype.handleKeyDown=function(tw){if(9===tw.which){for(var aw=this.focusableEls_(),rw=this.el_.querySelector(":focus"),nw=void 0,ow=0;ow<aw.length;ow++)if(rw===aw[ow]){nw=ow;break}hg.activeElement===this.el_&&(nw=0),tw.shiftKey&&0===nw?(aw[aw.length-1].focus(),tw.preventDefault()):tw.shiftKey||nw!=aw.length-1||(aw[0].focus(),tw.preventDefault())}},ew.prototype.focusableEls_=function(){var tw=this.el_.querySelectorAll("*");return Array.prototype.filter.call(tw,function(aw){return(aw instanceof pg.HTMLAnchorElement||aw instanceof pg.HTMLAreaElement)&&aw.hasAttribute("href")||(aw instanceof pg.HTMLInputElement||aw instanceof pg.HTMLSelectElement||aw instanceof pg.HTMLTextAreaElement||aw instanceof pg.HTMLButtonElement)&&!aw.hasAttribute("disabled")||aw instanceof pg.HTMLIFrameElement||aw instanceof pg.HTMLObjectElement||aw instanceof pg.HTMLEmbedElement||aw.hasAttribute("tabindex")&&-1!==aw.getAttribute("tabindex")||aw.hasAttribute("contenteditable")})},ew}(ny);Hy.prototype.options_={pauseOnOpen:!0,temporary:!0},ny.registerComponent("ModalDialog",Hy);var Vy=function(ZL){function ew(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];kg(this,ew);var aw=Eg(this,ZL.call(this));aw.tracks_=[],Object.defineProperty(aw,"length",{get:function(){return this.tracks_.length}});for(var rw=0;rw<tw.length;rw++)aw.addTrack(tw[rw]);return aw}return Cg(ew,ZL),ew.prototype.addTrack=function(tw){var aw=this.tracks_.length;""+aw in this||Object.defineProperty(this,aw,{get:function(){return this.tracks_[aw]}}),-1===this.tracks_.indexOf(tw)&&(this.tracks_.push(tw),this.trigger({track:tw,type:"addtrack"}))},ew.prototype.removeTrack=function(tw){for(var aw=void 0,rw=0,nw=this.length;rw<nw;rw++)if(this[rw]===tw){(aw=this[rw]).off&&aw.off(),this.tracks_.splice(rw,1);break}aw&&this.trigger({track:aw,type:"removetrack"})},ew.prototype.getTrackById=function(tw){for(var aw=null,rw=0,nw=this.length,ow;rw<nw;rw++)if(ow=this[rw],ow.id===tw){aw=ow;break}return aw},ew}(Yg);for(var zy in Vy.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Vy.prototype.allowedEvents_)Vy.prototype["on"+zy]=null;var qy=function(ZL,ew){for(var tw=0;tw<ZL.length;tw++)Object.keys(ZL[tw]).length&&ew.id!==ZL[tw].id&&(ZL[tw].enabled=!1)},Wy=function(ZL){function ew(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];kg(this,ew);for(var aw=tw.length-1;0<=aw;aw--)if(tw[aw].enabled){qy(tw,tw[aw]);break}var rw=Eg(this,ZL.call(this,tw));return rw.changing_=!1,rw}return Cg(ew,ZL),ew.prototype.addTrack=function(tw){var aw=this;tw.enabled&&qy(this,tw),ZL.prototype.addTrack.call(this,tw),tw.addEventListener&&tw.addEventListener("enabledchange",function(){aw.changing_||(aw.changing_=!0,qy(aw,tw),aw.changing_=!1,aw.trigger("change"))})},ew}(Vy),Gy=function(ZL,ew){for(var tw=0;tw<ZL.length;tw++)Object.keys(ZL[tw]).length&&ew.id!==ZL[tw].id&&(ZL[tw].selected=!1)},Yy=function(ZL){function ew(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];kg(this,ew);for(var aw=tw.length-1;0<=aw;aw--)if(tw[aw].selected){Gy(tw,tw[aw]);break}var rw=Eg(this,ZL.call(this,tw));return rw.changing_=!1,Object.defineProperty(rw,"selectedIndex",{get:function(){for(var nw=0;nw<this.length;nw++)if(this[nw].selected)return nw;return-1},set:function(){}}),rw}return Cg(ew,ZL),ew.prototype.addTrack=function(tw){var aw=this;tw.selected&&Gy(this,tw),ZL.prototype.addTrack.call(this,tw),tw.addEventListener&&tw.addEventListener("selectedchange",function(){aw.changing_||(aw.changing_=!0,Gy(aw,tw),aw.changing_=!1,aw.trigger("change"))})},ew}(Vy),Xy=function(ZL){function ew(){return kg(this,ew),Eg(this,ZL.apply(this,arguments))}return Cg(ew,ZL),ew.prototype.addTrack=function(tw){ZL.prototype.addTrack.call(this,tw),tw.addEventListener("modechange",qg(this,function(){this.queueTrigger("change")})),-1===["metadata","chapters"].indexOf(tw.kind)&&tw.addEventListener("modechange",qg(this,function(){this.trigger("selectedlanguagechange")}))},ew}(Vy),Ky=function(){function ZL(){var ew=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];kg(this,ZL),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var tw=0,aw=ew.length;tw<aw;tw++)this.addTrackElement_(ew[tw])}return ZL.prototype.addTrackElement_=function(ew){var tw=this.trackElements_.length;""+tw in this||Object.defineProperty(this,tw,{get:function(){return this.trackElements_[tw]}}),-1===this.trackElements_.indexOf(ew)&&this.trackElements_.push(ew)},ZL.prototype.getTrackElementByTrack_=function(ew){for(var tw=void 0,aw=0,rw=this.trackElements_.length;aw<rw;aw++)if(ew===this.trackElements_[aw].track){tw=this.trackElements_[aw];break}return tw},ZL.prototype.removeTrackElement_=function(ew){for(var tw=0,aw=this.trackElements_.length;tw<aw;tw++)if(ew===this.trackElements_[tw]){this.trackElements_.splice(tw,1);break}},ZL}(),$y=function(){function ZL(ew){kg(this,ZL),ZL.prototype.setCues_.call(this,ew),Object.defineProperty(this,"length",{get:function(){return this.length_}})}return ZL.prototype.setCues_=function(ew){var tw=this.length||0,aw=0,rw=ew.length;this.cues_=ew,this.length_=ew.length;var nw=function(ow){""+ow in this||Object.defineProperty(this,""+ow,{get:function(){return this.cues_[ow]}})};if(tw<rw)for(aw=tw;aw<rw;aw++)nw.call(this,aw)},ZL.prototype.getCueById=function(ew){for(var tw=null,aw=0,rw=this.length,nw;aw<rw;aw++)if(nw=this[aw],nw.id===ew){tw=nw;break}return tw},ZL}(),Qy={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Jy={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Zy={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ef={disabled:"disabled",hidden:"hidden",showing:"showing"},tf=function(ZL){function ew(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};kg(this,ew);var aw=Eg(this,ZL.call(this)),rw={id:tw.id||"vjs_track_"+lm(),kind:tw.kind||"",label:tw.label||"",language:tw.language||""},nw=function(sw){Object.defineProperty(aw,sw,{get:function(){return rw[sw]},set:function(){}})};for(var ow in rw)nw(ow);return aw}return Cg(ew,ZL),ew}(Yg),af=function(ZL){var ew=["protocol","hostname","port","pathname","search","hash","host"],tw=hg.createElement("a");tw.href=ZL;var aw=""===tw.host&&"file:"!==tw.protocol,rw;aw&&((rw=hg.createElement("div")).innerHTML="<a href=\""+ZL+"\"></a>",tw=rw.firstChild,rw.setAttribute("style","display:none; position:absolute;"),hg.body.appendChild(rw));for(var nw={},ow=0;ow<ew.length;ow++)nw[ew[ow]]=tw[ew[ow]];return"http:"===nw.protocol&&(nw.host=nw.host.replace(/:80$/,"")),"https:"===nw.protocol&&(nw.host=nw.host.replace(/:443$/,"")),nw.protocol||(nw.protocol=pg.location.protocol),aw&&hg.body.removeChild(rw),nw},rf=function(ZL){if(!ZL.match(/^https?:\/\//)){var ew=hg.createElement("div");ew.innerHTML="<a href=\""+ZL+"\">x</a>",ZL=ew.firstChild.href}return ZL},nf=function(ZL){if("string"==typeof ZL){var ew=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(ZL);if(ew)return ew.pop().toLowerCase()}return""},of=function(ZL){var ew=pg.location,tw=af(ZL);return(":"===tw.protocol?ew.protocol:tw.protocol)+tw.host!==ew.protocol+ew.host},sf=Object.freeze({parseUrl:af,getAbsoluteURL:rf,getFileExtension:nf,isCrossOrigin:of}),lf=function(ZL){var ew=df.call(ZL);return"[object Function]"===ew||"function"==typeof ZL&&"[object RegExp]"!==ew||"undefined"!=typeof window&&(ZL===window.setTimeout||ZL===window.alert||ZL===window.confirm||ZL===window.prompt)},df=Object.prototype.toString,pf=Object.freeze({default:lf,__moduleExports:lf}),uf=Pp(function(ZL,ew){(ew=ZL.exports=function(tw){return tw.replace(/^\s*|\s*$/g,"")}).left=function(tw){return tw.replace(/^\s*/,"")},ew.right=function(tw){return tw.replace(/\s*$/,"")}}),cf=uf.left,mf=uf.right,gf=Object.freeze({default:uf,__moduleExports:uf,left:cf,right:mf}),hf=pf&&lf||pf,yf=function(ZL,ew,tw){if(!hf(ew))throw new TypeError("iterator must be a function");3>arguments.length&&(tw=this),"[object Array]"===ff.call(ZL)?function(aw,rw,nw){for(var ow=0,sw=aw.length;ow<sw;ow++)_f.call(aw,ow)&&rw.call(nw,aw[ow],ow,aw)}(ZL,ew,tw):"string"==typeof ZL?function(aw,rw,nw){for(var ow=0,sw=aw.length;ow<sw;ow++)rw.call(nw,aw.charAt(ow),ow,aw)}(ZL,ew,tw):function(aw,rw,nw){for(var ow in aw)_f.call(aw,ow)&&rw.call(nw,aw[ow],ow,aw)}(ZL,ew,tw)},ff=Object.prototype.toString,_f=Object.prototype.hasOwnProperty,bf=Object.freeze({default:yf,__moduleExports:yf}),Tf=gf&&uf||gf,vf=function(ZL){if(!ZL)return{};var ew={};return(bf&&yf||bf)(Tf(ZL).split("\n"),function(tw){var rw=tw.indexOf(":"),nw=Tf(tw.slice(0,rw)).toLowerCase(),ow=Tf(tw.slice(rw+1)),aw;"undefined"==typeof ew[nw]?ew[nw]=ow:(aw=ew[nw],"[object Array]"===Object.prototype.toString.call(aw)?ew[nw].push(ow):ew[nw]=[ew[nw],ow])}),ew},kf=Object.freeze({default:vf,__moduleExports:vf}),Cf=function(){for(var ZL={},ew=0,tw;ew<arguments.length;ew++)for(var aw in tw=arguments[ew],tw)Ef.call(tw,aw)&&(ZL[aw]=tw[aw]);return ZL},Ef=Object.prototype.hasOwnProperty,Pf=Object.freeze({default:Cf,__moduleExports:Cf}),Lf=kf&&vf||kf,wf=Pf&&Cf||Pf,xf=Dm;Dm.XMLHttpRequest=pg.XMLHttpRequest||function(){},Dm.XDomainRequest="withCredentials"in new Dm.XMLHttpRequest?Dm.XMLHttpRequest:pg.XDomainRequest,function(ZL,ew){for(var tw=0;tw<ZL.length;tw++)ew(ZL[tw])}(["get","put","post","patch","head","delete"],function(ZL){Dm["delete"===ZL?"del":ZL]=function(ew,tw,aw){return(tw=Im(ew,tw,aw)).method=ZL.toUpperCase(),Om(tw)}});var Af=function(ZL,ew){var tw=new pg.WebVTT.Parser(pg,pg.vttjs,pg.WebVTT.StringDecoder()),aw=[];tw.oncue=function(rw){ew.addCue(rw)},tw.onparsingerror=function(rw){aw.push(rw)},tw.onflush=function(){ew.trigger({type:"loadeddata",target:ew})},tw.parse(ZL),0<aw.length&&(pg.console&&pg.console.groupCollapsed&&pg.console.groupCollapsed("Text Track parsing errors for "+ew.src),aw.forEach(function(rw){return Tg.error(rw)}),pg.console&&pg.console.groupEnd&&pg.console.groupEnd()),tw.flush()},If=function(ZL,ew){var tw={uri:ZL},aw=of(ZL);aw&&(tw.cors=aw),xf(tw,qg(this,function(rw,nw,ow){if(rw)return Tg.error(rw,nw);if(ew.loaded_=!0,"function"==typeof pg.WebVTT)Af(ow,ew);else if(ew.tech_){var sw=function(){return Af(ow,ew)};ew.tech_.on("vttjsloaded",sw),ew.tech_.on("vttjserror",function(){Tg.error("vttjs failed to load, stopping trying to process "+ew.src),ew.tech_.off("vttjsloaded",sw)})}}))},Df=function(ZL){function ew(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(kg(this,ew),!tw.tech)throw new Error("A tech was not provided.");var aw=km(tw,{kind:Zy[tw.kind]||"subtitles",language:tw.language||tw.srclang||""}),rw=ef[aw.mode]||"disabled",nw=aw.default;"metadata"!==aw.kind&&"chapters"!==aw.kind||(rw="hidden");var ow=Eg(this,ZL.call(this,aw));ow.tech_=aw.tech,ow.cues_=[],ow.activeCues_=[];var sw=new $y(ow.cues_),iw=new $y(ow.activeCues_),lw=!1,dw=qg(ow,function(){this.activeCues=this.activeCues,lw&&(this.trigger("cuechange"),lw=!1)});return"disabled"!==rw&&ow.tech_.ready(function(){ow.tech_.on("timeupdate",dw)},!0),Object.defineProperties(ow,{default:{get:function(){return nw},set:function(){}},mode:{get:function(){return rw},set:function(pw){var uw=this;ef[pw]&&("showing"===(rw=pw)&&this.tech_.ready(function(){uw.tech_.on("timeupdate",dw)},!0),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?sw:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return iw;for(var pw=this.tech_.currentTime(),uw=[],cw=0,mw=this.cues.length,gw;cw<mw;cw++)gw=this.cues[cw],gw.startTime<=pw&&gw.endTime>=pw?uw.push(gw):gw.startTime===gw.endTime&&gw.startTime<=pw&&gw.startTime+.5>=pw&&uw.push(gw);if(lw=!1,uw.length!==this.activeCues_.length)lw=!0;else for(var hw=0;hw<uw.length;hw++)-1===this.activeCues_.indexOf(uw[hw])&&(lw=!0);return this.activeCues_=uw,iw.setCues_(this.activeCues_),iw},set:function(){}}}),aw.src?(ow.src=aw.src,If(aw.src,ow)):ow.loaded_=!0,ow}return Cg(ew,ZL),ew.prototype.addCue=function(tw){var aw=tw;if(pg.vttjs&&!(tw instanceof pg.vttjs.VTTCue)){for(var rw in aw=new pg.vttjs.VTTCue(tw.startTime,tw.endTime,tw.text),tw)rw in aw||(aw[rw]=tw[rw]);aw.id=tw.id,aw.originalCue_=tw}for(var nw=this.tech_.textTracks(),ow=0;ow<nw.length;ow++)nw[ow]!==this&&nw[ow].removeCue(aw);this.cues_.push(aw),this.cues.setCues_(this.cues_)},ew.prototype.removeCue=function(tw){for(var aw=this.cues_.length,rw;aw--;)if(rw=this.cues_[aw],rw===tw||rw.originalCue_&&rw.originalCue_===tw){this.cues_.splice(aw,1),this.cues.setCues_(this.cues_);break}},ew}(tf);Df.prototype.allowedEvents_={cuechange:"cuechange"};var Of=function(ZL){function ew(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};kg(this,ew);var aw=km(tw,{kind:Jy[tw.kind]||""}),rw=Eg(this,ZL.call(this,aw)),nw=!1;return Object.defineProperty(rw,"enabled",{get:function(){return nw},set:function(ow){"boolean"==typeof ow&&ow!==nw&&(nw=ow,this.trigger("enabledchange"))}}),aw.enabled&&(rw.enabled=aw.enabled),rw.loaded_=!0,rw}return Cg(ew,ZL),ew}(tf),Rf=function(ZL){function ew(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};kg(this,ew);var aw=km(tw,{kind:Qy[tw.kind]||""}),rw=Eg(this,ZL.call(this,aw)),nw=!1;return Object.defineProperty(rw,"selected",{get:function(){return nw},set:function(ow){"boolean"==typeof ow&&ow!==nw&&(nw=ow,this.trigger("selectedchange"))}}),aw.selected&&(rw.selected=aw.selected),rw}return Cg(ew,ZL),ew}(tf),Uf=0,Mf=2,Bf=function(ZL){function ew(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};kg(this,ew);var aw=Eg(this,ZL.call(this)),rw,nw=new Df(tw);return aw.kind=nw.kind,aw.src=nw.src,aw.srclang=nw.language,aw.label=nw.label,aw.default=nw.default,Object.defineProperties(aw,{readyState:{get:function(){return rw}},track:{get:function(){return nw}}}),rw=Uf,nw.addEventListener("loadeddata",function(){rw=Mf,aw.trigger({type:"load",target:aw})}),aw}return Cg(ew,ZL),ew}(Yg);Bf.prototype.allowedEvents_={load:"load"},Bf.NONE=Uf,Bf.LOADING=1,Bf.LOADED=Mf,Bf.ERROR=3;var Nf={audio:{ListClass:Wy,TrackClass:Of,capitalName:"Audio"},video:{ListClass:Yy,TrackClass:Rf,capitalName:"Video"},text:{ListClass:Xy,TrackClass:Df,capitalName:"Text"}};Object.keys(Nf).forEach(function(ZL){Nf[ZL].getterName=ZL+"Tracks",Nf[ZL].privateName=ZL+"Tracks_"});var Ff={remoteText:{ListClass:Xy,TrackClass:Df,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ky,TrackClass:Bf,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},jf=km(Nf,Ff);Ff.names=Object.keys(Ff),Nf.names=Object.keys(Nf),jf.names=[].concat(Ff.names).concat(Nf.names);var Hf=Object.create||function(){function ZL(){}return function(ew){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return ZL.prototype=ew,new ZL}}();((Rm.prototype=Hf(Error.prototype)).constructor=Rm).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Mm.prototype={set:function(ZL,ew){this.get(ZL)||""===ew||(this.values[ZL]=ew)},get:function(ZL,ew,tw){return tw?this.has(ZL)?this.values[ZL]:ew[tw]:this.has(ZL)?this.values[ZL]:ew},has:function(ZL){return ZL in this.values},alt:function(ZL,ew,tw){for(var aw=0;aw<tw.length;++aw)if(ew===tw[aw]){this.set(ZL,ew);break}},integer:function(ZL,ew){/^-?\d+$/.test(ew)&&this.set(ZL,parseInt(ew,10))},percent:function(ZL,ew){return!!(ew.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(ew=parseFloat(ew))&&100>=ew)&&(this.set(ZL,ew),!0)}};var Vf={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200E","&rlm;":"\u200F","&nbsp;":"\xA0"},zf={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},qf={v:"title",lang:"lang"},Wf={rt:"ruby"},Gf=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];Hm.prototype.applyStyles=function(ZL,ew){for(var tw in ew=ew||this.div,ZL)ZL.hasOwnProperty(tw)&&(ew.style[tw]=ZL[tw])},Hm.prototype.formatStyle=function(ZL,ew){return 0===ZL?0:ZL+ew},(Vm.prototype=Hf(Hm.prototype)).constructor=Vm,zm.prototype.move=function(ZL,ew){switch(ew=void 0===ew?this.lineHeight:ew,ZL){case"+x":this.left+=ew,this.right+=ew;break;case"-x":this.left-=ew,this.right-=ew;break;case"+y":this.top+=ew,this.bottom+=ew;break;case"-y":this.top-=ew,this.bottom-=ew;}},zm.prototype.overlaps=function(ZL){return this.left<ZL.right&&this.right>ZL.left&&this.top<ZL.bottom&&this.bottom>ZL.top},zm.prototype.overlapsAny=function(ZL){for(var ew=0;ew<ZL.length;ew++)if(this.overlaps(ZL[ew]))return!0;return!1},zm.prototype.within=function(ZL){return this.top>=ZL.top&&this.bottom<=ZL.bottom&&this.left>=ZL.left&&this.right<=ZL.right},zm.prototype.overlapsOppositeAxis=function(ZL,ew){return"+x"===ew?this.left<ZL.left:"-x"===ew?this.right>ZL.right:"+y"===ew?this.top<ZL.top:"-y"===ew?this.bottom>ZL.bottom:void 0},zm.prototype.intersectPercentage=function(ZL){return _Mathmax(0,_Mathmin(this.right,ZL.right)-_Mathmax(this.left,ZL.left))*_Mathmax(0,_Mathmin(this.bottom,ZL.bottom)-_Mathmax(this.top,ZL.top))/(this.height*this.width)},zm.prototype.toCSSCompatValues=function(ZL){return{top:this.top-ZL.top,bottom:ZL.bottom-this.bottom,left:this.left-ZL.left,right:ZL.right-this.right,height:this.height,width:this.width}},zm.getSimpleBoxPosition=function(ZL){var ew=ZL.div?ZL.div.offsetHeight:ZL.tagName?ZL.offsetHeight:0,tw=ZL.div?ZL.div.offsetWidth:ZL.tagName?ZL.offsetWidth:0,aw=ZL.div?ZL.div.offsetTop:ZL.tagName?ZL.offsetTop:0;return{left:(ZL=ZL.div?ZL.div.getBoundingClientRect():ZL.tagName?ZL.getBoundingClientRect():ZL).left,right:ZL.right,top:ZL.top||aw,height:ZL.height||ew,bottom:ZL.bottom||aw+(ZL.height||ew),width:ZL.width||tw}},Wm.StringDecoder=function(){return{decode:function(ZL){if(!ZL)return"";if("string"!=typeof ZL)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(ZL))}}},Wm.convertCueToDOMTree=function(ZL,ew){return ZL&&ew?Fm(ZL,ew):null},Wm.processCues=function(ZL,ew,tw){if(!ZL||!ew||!tw)return null;for(;tw.firstChild;)tw.removeChild(tw.firstChild);var aw=ZL.document.createElement("div");if(aw.style.position="absolute",aw.style.left="0",aw.style.right="0",aw.style.top="0",aw.style.bottom="0",aw.style.margin="1.5%",tw.appendChild(aw),function(iw){for(var lw=0;lw<iw.length;lw++)if(iw[lw].hasBeenReset||!iw[lw].displayState)return!0;return!1}(ew)){var rw=[],nw=zm.getSimpleBoxPosition(aw),ow={font:_Mathround(100*(.05*nw.height))/100+"px sans-serif"};!function(){for(var dw=0,iw,lw;dw<ew.length;dw++)lw=ew[dw],iw=new Vm(ZL,lw,ow),aw.appendChild(iw.div),qm(0,iw,nw,rw),lw.displayState=iw.div,rw.push(zm.getSimpleBoxPosition(iw))}()}else for(var sw=0;sw<ew.length;sw++)aw.appendChild(ew[sw].displayState)},(Wm.Parser=function(ZL,ew,tw){tw||(tw=ew,ew={}),ew||(ew={}),this.window=ZL,this.vttjs=ew,this.state="INITIAL",this.buffer="",this.decoder=tw||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(ZL){if(!(ZL instanceof Rm))throw ZL;this.onparsingerror&&this.onparsingerror(ZL)},parse:function(ZL){function ew(){for(var iw=aw.buffer,lw=0;lw<iw.length&&"\r"!==iw[lw]&&"\n"!==iw[lw];)++lw;var dw=iw.substr(0,lw);return"\r"===iw[lw]&&++lw,"\n"===iw[lw]&&++lw,aw.buffer=iw.substr(lw),dw}function tw(iw){iw.match(/X-TIMESTAMP-MAP/)?Bm(iw,function(lw,dw){"X-TIMESTAMP-MAP"===lw?(pw=dw,uw=new Mm,Bm(pw,function(cw,mw){"MPEGT"===cw?uw.integer(cw+"S",mw):"LOCA"===cw?uw.set(cw+"L",Um(mw)):void 0},/[^\d]:/,/,/),aw.ontimestampmap&&aw.ontimestampmap({MPEGTS:uw.get("MPEGTS"),LOCAL:uw.get("LOCAL")})):void 0;var pw,uw},/=/):Bm(iw,function(lw,dw){"Region"===lw?!function(pw){var uw=new Mm;if(Bm(pw,function(mw,gw){switch(mw){case"id":uw.set(mw,gw);break;case"width":uw.percent(mw,gw);break;case"lines":uw.integer(mw,gw);break;case"regionanchor":case"viewportanchor":var hw=gw.split(",");if(2!==hw.length)break;var yw=new Mm;if(yw.percent("x",hw[0]),yw.percent("y",hw[1]),!yw.has("x")||!yw.has("y"))break;uw.set(mw+"X",yw.get("x")),uw.set(mw+"Y",yw.get("y"));break;case"scroll":uw.alt(mw,gw,["up"]);}},/=/,/\s/),uw.has("id")){var cw=new(aw.vttjs.VTTRegion||aw.window.VTTRegion);cw.width=uw.get("width",100),cw.lines=uw.get("lines",3),cw.regionAnchorX=uw.get("regionanchorX",0),cw.regionAnchorY=uw.get("regionanchorY",100),cw.viewportAnchorX=uw.get("viewportanchorX",0),cw.viewportAnchorY=uw.get("viewportanchorY",100),cw.scroll=uw.get("scroll",""),aw.onregion&&aw.onregion(cw),aw.regionList.push({id:uw.get("id"),region:cw})}}(dw):void 0},/:/)}var aw=this;ZL&&(aw.buffer+=aw.decoder.decode(ZL,{stream:!0}));try{var rw;if("INITIAL"===aw.state){if(!/\r\n|\n/.test(aw.buffer))return this;var nw=(rw=ew()).match(/^WEBVTT([ \t].*)?$/);if(!nw||!nw[0])throw new Rm(Rm.Errors.BadSignature);aw.state="HEADER"}for(var ow=!1;aw.buffer;){if(!/\r\n|\n/.test(aw.buffer))return this;switch(ow?ow=!1:rw=ew(),aw.state){case"HEADER":/:/.test(rw)?tw(rw):rw||(aw.state="ID");continue;case"NOTE":rw||(aw.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(rw)){aw.state="NOTE";break}if(!rw)continue;if(aw.cue=new(aw.vttjs.VTTCue||aw.window.VTTCue)(0,0,""),aw.state="CUE",-1===rw.indexOf("-->")){aw.cue.id=rw;continue}case"CUE":try{Nm(rw,aw.cue,aw.regionList)}catch(iw){aw.reportOrThrowError(iw),aw.cue=null,aw.state="BADCUE";continue}aw.state="CUETEXT";continue;case"CUETEXT":var sw=-1!==rw.indexOf("-->");if(!rw||sw&&(ow=!0)){aw.oncue&&aw.oncue(aw.cue),aw.cue=null,aw.state="ID";continue}aw.cue.text&&(aw.cue.text+="\n"),aw.cue.text+=rw;continue;case"BADCUE":rw||(aw.state="ID");continue;}}}catch(iw){aw.reportOrThrowError(iw),"CUETEXT"===aw.state&&aw.cue&&aw.oncue&&aw.oncue(aw.cue),aw.cue=null,aw.state="INITIAL"===aw.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var ZL=this;try{if(ZL.buffer+=ZL.decoder.decode(),(ZL.cue||"HEADER"===ZL.state)&&(ZL.buffer+="\n\n",ZL.parse()),"INITIAL"===ZL.state)throw new Rm(Rm.Errors.BadSignature)}catch(ew){ZL.reportOrThrowError(ew)}return ZL.onflush&&ZL.onflush(),this}};var Yf=Wm,Xf=Object.freeze({default:Yf,__moduleExports:Yf}),Kf="auto",$f={"":1,lr:1,rl:1},Qf={start:1,middle:1,end:1,left:1,right:1};Ym.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Jf=Ym,Zf=Object.freeze({default:Jf,__moduleExports:Jf}),e_={"":!0,up:!0},t_=function(){var ZL=100,ew=3,tw=0,aw=100,rw=0,nw=100,ow="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return ZL},set:function(sw){if(!Xm(sw))throw new Error("Width must be between 0 and 100.");ZL=sw}},lines:{enumerable:!0,get:function(){return ew},set:function(sw){if("number"!=typeof sw)throw new TypeError("Lines must be set to a number.");ew=sw}},regionAnchorY:{enumerable:!0,get:function(){return aw},set:function(sw){if(!Xm(sw))throw new Error("RegionAnchorX must be between 0 and 100.");aw=sw}},regionAnchorX:{enumerable:!0,get:function(){return tw},set:function(sw){if(!Xm(sw))throw new Error("RegionAnchorY must be between 0 and 100.");tw=sw}},viewportAnchorY:{enumerable:!0,get:function(){return nw},set:function(sw){if(!Xm(sw))throw new Error("ViewportAnchorY must be between 0 and 100.");nw=sw}},viewportAnchorX:{enumerable:!0,get:function(){return rw},set:function(sw){if(!Xm(sw))throw new Error("ViewportAnchorX must be between 0 and 100.");rw=sw}},scroll:{enumerable:!0,get:function(){return ow},set:function(sw){var lw="string"==typeof(iw=sw)&&!!e_[iw.toLowerCase()]&&iw.toLowerCase(),iw;if(!1===lw)throw new SyntaxError("An invalid or illegal string was specified.");ow=lw}}})},a_=Object.freeze({default:t_,__moduleExports:t_}),s_=Pp(function(ZL){var ew=ZL.exports={WebVTT:Xf&&Yf||Xf,VTTCue:Zf&&Jf||Zf,VTTRegion:a_&&t_||a_};pg.vttjs=ew,pg.WebVTT=ew.WebVTT;var tw=ew.VTTCue,aw=ew.VTTRegion,rw=pg.VTTCue,nw=pg.VTTRegion;ew.shim=function(){pg.VTTCue=tw,pg.VTTRegion=aw},ew.restore=function(){pg.VTTCue=rw,pg.VTTRegion=nw},pg.VTTCue||ew.shim()});s_.WebVTT,s_.VTTCue,s_.VTTRegion;var i_=function(ZL){function ew(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};kg(this,ew),tw.reportTouchActivity=!1;var rw=Eg(this,ZL.call(this,null,tw,aw));return rw.hasStarted_=!1,rw.on("playing",function(){this.hasStarted_=!0}),rw.on("loadstart",function(){this.hasStarted_=!1}),jf.names.forEach(function(nw){var ow=jf[nw];tw&&tw[ow.getterName]&&(rw[ow.privateName]=tw[ow.getterName])}),rw.featuresProgressEvents||rw.manualProgressOn(),rw.featuresTimeupdateEvents||rw.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(nw){!1===tw["native"+nw+"Tracks"]&&(rw["featuresNative"+nw+"Tracks"]=!1)}),!1===tw.nativeCaptions||!1===tw.nativeTextTracks?rw.featuresNativeTextTracks=!1:!0!==tw.nativeCaptions&&!0!==tw.nativeTextTracks||(rw.featuresNativeTextTracks=!0),rw.featuresNativeTextTracks||rw.emulateTextTracks(),rw.autoRemoteTextTracks_=new jf.text.ListClass,rw.initTrackListeners(),tw.nativeControlsForTouch||rw.emitTapEvents(),rw.constructor&&(rw.name_=rw.constructor.name||"Unknown Tech"),rw}return Cg(ew,ZL),ew.prototype.triggerSourceset=function(tw){var aw=this;this.isReady_||this.one("ready",function(){return aw.setTimeout(function(){return aw.triggerSourceset(tw)},1)}),this.trigger({src:tw,type:"sourceset"})},ew.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},ew.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},ew.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(qg(this,function(){var aw=this.bufferedPercent();this.bufferedPercent_!==aw&&this.trigger("progress"),1===(this.bufferedPercent_=aw)&&this.stopTrackingProgress()}),500)},ew.prototype.onDurationChange=function(){this.duration_=this.duration()},ew.prototype.buffered=function(){return Pm(0,0)},ew.prototype.bufferedPercent=function(){return Lm(this.buffered(),this.duration_)},ew.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},ew.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},ew.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},ew.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},ew.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},ew.prototype.dispose=function(){this.clearTracks(Nf.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),ZL.prototype.dispose.call(this)},ew.prototype.clearTracks=function(tw){var aw=this;(tw=[].concat(tw)).forEach(function(rw){for(var nw=aw[rw+"Tracks"]()||[],ow=nw.length,sw;ow--;)sw=nw[ow],"text"===rw&&aw.removeRemoteTextTrack(sw),nw.removeTrack(sw)})},ew.prototype.cleanupAutoTextTracks=function(){for(var tw=this.autoRemoteTextTracks_||[],aw=tw.length,rw;aw--;)rw=tw[aw],this.removeRemoteTextTrack(rw)},ew.prototype.reset=function(){},ew.prototype.error=function(tw){return void 0!==tw&&(this.error_=new wm(tw),this.trigger("error")),this.error_},ew.prototype.played=function(){return this.hasStarted_?Pm(0,0):Pm()},ew.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},ew.prototype.initTrackListeners=function(){var tw=this;Nf.names.forEach(function(aw){var rw=Nf[aw],nw=function(){tw.trigger(aw+"trackchange")},ow=tw[rw.getterName]();ow.addEventListener("removetrack",nw),ow.addEventListener("addtrack",nw),tw.on("dispose",function(){ow.removeEventListener("removetrack",nw),ow.removeEventListener("addtrack",nw)})})},ew.prototype.addWebVttScript_=function(){var tw=this;if(!pg.WebVTT)if(hg.body.contains(this.el())){if(!this.options_["vtt.js"]&&Ip(s_)&&0<Object.keys(s_).length)return void this.trigger("vttjsloaded");var aw=hg.createElement("script");aw.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",aw.onload=function(){tw.trigger("vttjsloaded")},aw.onerror=function(){tw.trigger("vttjserror")},this.on("dispose",function(){aw.onload=null,aw.onerror=null}),pg.WebVTT=!0,this.el().parentNode.appendChild(aw)}else this.ready(this.addWebVttScript_)},ew.prototype.emulateTextTracks=function(){var tw=this,aw=this.textTracks(),rw=this.remoteTextTracks(),nw=function(lw){return aw.addTrack(lw.track)},ow=function(lw){return aw.removeTrack(lw.track)};rw.on("addtrack",nw),rw.on("removetrack",ow),this.addWebVttScript_();var sw=function(){return tw.trigger("texttrackchange")},iw=function(){sw();for(var lw=0,dw;lw<aw.length;lw++)dw=aw[lw],dw.removeEventListener("cuechange",sw),"showing"===dw.mode&&dw.addEventListener("cuechange",sw)};iw(),aw.addEventListener("change",iw),aw.addEventListener("addtrack",iw),aw.addEventListener("removetrack",iw),this.on("dispose",function(){rw.off("addtrack",nw),rw.off("removetrack",ow),aw.removeEventListener("change",iw),aw.removeEventListener("addtrack",iw),aw.removeEventListener("removetrack",iw);for(var lw=0;lw<aw.length;lw++)aw[lw].removeEventListener("cuechange",sw)})},ew.prototype.addTextTrack=function(tw,aw,rw){if(!tw)throw new Error("TextTrack kind is required but was not provided");return function(nw,ow,sw,iw){var lw=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},dw=nw.textTracks();lw.kind=ow,sw&&(lw.label=sw),iw&&(lw.language=iw),lw.tech=nw;var pw=new jf.text.TrackClass(lw);return dw.addTrack(pw),pw}(this,tw,aw,rw)},ew.prototype.createRemoteTextTrack=function(tw){var aw=km(tw,{tech:this});return new Ff.remoteTextEl.TrackClass(aw)},ew.prototype.addRemoteTextTrack=function(){var tw=this,aw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},rw=arguments[1],nw=this.createRemoteTextTrack(aw);return!0!==rw&&!1!==rw&&(Tg.warn("Calling addRemoteTextTrack without explicitly setting the \"manualCleanup\" parameter to `true` is deprecated and default to `false` in future version of video.js"),rw=!0),this.remoteTextTrackEls().addTrackElement_(nw),this.remoteTextTracks().addTrack(nw.track),!0!==rw&&this.ready(function(){return tw.autoRemoteTextTracks_.addTrack(nw.track)}),nw},ew.prototype.removeRemoteTextTrack=function(tw){var aw=this.remoteTextTrackEls().getTrackElementByTrack_(tw);this.remoteTextTrackEls().removeTrackElement_(aw),this.remoteTextTracks().removeTrack(tw),this.autoRemoteTextTracks_.removeTrack(tw)},ew.prototype.getVideoPlaybackQuality=function(){return{}},ew.prototype.setPoster=function(){},ew.prototype.playsinline=function(){},ew.prototype.setPlaysinline=function(){},ew.prototype.overrideNativeAudioTracks=function(){},ew.prototype.overrideNativeVideoTracks=function(){},ew.prototype.canPlayType=function(){return""},ew.canPlayType=function(){return""},ew.canPlaySource=function(tw){return ew.canPlayType(tw.type)},ew.isTech=function(tw){return tw.prototype instanceof ew||tw instanceof ew||tw===ew},ew.registerTech=function(tw,aw){if(ew.techs_||(ew.techs_={}),!ew.isTech(aw))throw new Error("Tech "+tw+" must be a Tech");if(!ew.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!ew.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return tw=vm(tw),ew.techs_[tw]=aw,"Tech"!==tw&&ew.defaultTechOrder_.push(tw),aw},ew.getTech=function(tw){if(tw)return tw=vm(tw),ew.techs_&&ew.techs_[tw]?ew.techs_[tw]:pg&&pg.videojs&&pg.videojs[tw]?(Tg.warn("The "+tw+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),pg.videojs[tw]):void 0},ew}(ny);jf.names.forEach(function(ZL){var ew=jf[ZL];i_.prototype[ew.getterName]=function(){return this[ew.privateName]=this[ew.privateName]||new ew.ListClass,this[ew.privateName]}}),i_.prototype.featuresVolumeControl=!0,i_.prototype.featuresMuteControl=!0,i_.prototype.featuresFullscreenResize=!1,i_.prototype.featuresPlaybackRate=!1,i_.prototype.featuresProgressEvents=!1,i_.prototype.featuresSourceset=!1,i_.prototype.featuresTimeupdateEvents=!1,i_.prototype.featuresNativeTextTracks=!1,i_.withSourceHandlers=function(ZL){ZL.registerSourceHandler=function(ew,tw){var aw=ZL.sourceHandlers;aw||(aw=ZL.sourceHandlers=[]),void 0===tw&&(tw=aw.length),aw.splice(tw,0,ew)},ZL.canPlayType=function(ew){for(var tw=ZL.sourceHandlers||[],aw=void 0,rw=0;rw<tw.length;rw++)if(aw=tw[rw].canPlayType(ew))return aw;return""},ZL.selectSourceHandler=function(ew,tw){for(var aw=ZL.sourceHandlers||[],rw=0;rw<aw.length;rw++)if(aw[rw].canHandleSource(ew,tw))return aw[rw];return null},ZL.canPlaySource=function(ew,tw){var aw=ZL.selectSourceHandler(ew,tw);return aw?aw.canHandleSource(ew,tw):""},["seekable","seeking","duration"].forEach(function(ew){var tw=this[ew];"function"==typeof tw&&(this[ew]=function(){return this.sourceHandler_&&this.sourceHandler_[ew]?this.sourceHandler_[ew].apply(this.sourceHandler_,arguments):tw.apply(this,arguments)})},ZL.prototype),ZL.prototype.setSource=function(ew){var tw=ZL.selectSourceHandler(ew,this.options_);tw||(ZL.nativeSourceHandler?tw=ZL.nativeSourceHandler:Tg.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),tw!==ZL.nativeSourceHandler&&(this.currentSource_=ew),this.sourceHandler_=tw.handleSource(ew,this,this.options_),this.on("dispose",this.disposeSourceHandler)},ZL.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ny.registerComponent("Tech",i_),i_.registerTech("Tech",i_),i_.defaultTechOrder_=[];var l_={},d_={},p_={},u_={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},c_={setCurrentTime:1},m_={play:1,pause:1},g_={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},h_=function(){var ZL=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",ew=nf(ZL);return g_[ew.toLowerCase()]||""},y_=function(ZL){function ew(tw,aw,rw){kg(this,ew);var nw=km({createEl:!1},aw),ow=Eg(this,ZL.call(this,tw,nw,rw));if(aw.playerOptions.sources&&0!==aw.playerOptions.sources.length)tw.src(aw.playerOptions.sources);else for(var sw=0,iw=aw.playerOptions.techOrder;sw<iw.length;sw++){var lw=vm(iw[sw]),dw=i_.getTech(lw);if(lw||(dw=ny.getComponent(lw)),dw&&dw.isSupported()){tw.loadTech_(lw);break}}return ow}return Cg(ew,ZL),ew}(ny);ny.registerComponent("MediaLoader",y_);var f_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.emitTapEvents(),rw.enable(),rw}return Cg(ew,ZL),ew.prototype.createEl=function(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},rw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};aw=xp({innerHTML:"<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>",className:this.buildCSSClass(),tabIndex:0},aw),"button"===tw&&Tg.error("Creating a ClickableComponent with an HTML element of "+tw+" is not supported; use a Button instead."),rw=xp({role:"button"},rw),this.tabIndex_=aw.tabIndex;var nw=ZL.prototype.createEl.call(this,tw,aw,rw);return this.createControlTextEl(nw),nw},ew.prototype.dispose=function(){this.controlTextEl_=null,ZL.prototype.dispose.call(this)},ew.prototype.createControlTextEl=function(tw){return this.controlTextEl_=Fp("span",{className:"vjs-control-text"},{"aria-live":"polite"}),tw&&tw.appendChild(this.controlTextEl_),this.controlText(this.controlText_,tw),this.controlTextEl_},ew.prototype.controlText=function(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===tw)return this.controlText_||"Need Text";var rw=this.localize(tw);this.controlText_=tw,jp(this.controlTextEl_,rw),this.nonIconControl||aw.setAttribute("title",rw)},ew.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},ew.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},ew.prototype.handleClick=function(){},ew.prototype.handleFocus=function(){hm(hg,"keydown",qg(this,this.handleKeyPress))},ew.prototype.handleKeyPress=function(tw){32===tw.which||13===tw.which?(tw.preventDefault(),this.trigger("click")):ZL.prototype.handleKeyPress&&ZL.prototype.handleKeyPress.call(this,tw)},ew.prototype.handleBlur=function(){ym(hg,"keydown",qg(this,this.handleKeyPress))},ew}(ny);ny.registerComponent("ClickableComponent",f_);var __=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.update(),tw.on("posterchange",qg(rw,rw.update)),rw}return Cg(ew,ZL),ew.prototype.dispose=function(){this.player().off("posterchange",this.update),ZL.prototype.dispose.call(this)},ew.prototype.createEl=function(){return Fp("div",{className:"vjs-poster",tabIndex:-1})},ew.prototype.update=function(){var aw=this.player().poster();this.setSrc(aw),aw?this.show():this.hide()},ew.prototype.setSrc=function(tw){var aw="";tw&&(aw="url(\""+tw+"\")"),this.el_.style.backgroundImage=aw},ew.prototype.handleClick=function(){this.player_.controls()&&(this.player_.paused()?Am(this.player_.play()):this.player_.pause())},ew}(f_);ny.registerComponent("PosterImage",__);var b_="#222",T_={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"\"Andale Mono\", \"Lucida Console\", monospace",monospaceSerif:"\"Courier New\", monospace",proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:"\"Comic Sans MS\", Impact, fantasy",script:"\"Monotype Corsiva\", cursive",smallcaps:"\"Andale Mono\", \"Lucida Console\", monospace, sans-serif"},S_=function(ZL){function ew(tw,aw,rw){kg(this,ew);var nw=Eg(this,ZL.call(this,tw,aw,rw));return tw.on("loadstart",qg(nw,nw.toggleDisplay)),tw.on("texttrackchange",qg(nw,nw.updateDisplay)),tw.on("loadstart",qg(nw,nw.preselectTrack)),tw.ready(qg(nw,function(){if(tw.tech_&&tw.tech_.featuresNativeTextTracks)this.hide();else{tw.on("fullscreenchange",qg(this,this.updateDisplay));for(var ow=this.options_.playerOptions.tracks||[],sw=0;sw<ow.length;sw++)this.player_.addRemoteTextTrack(ow[sw],!0);this.preselectTrack()}})),nw}return Cg(ew,ZL),ew.prototype.preselectTrack=function(){for(var tw={captions:1,subtitles:1},aw=this.player_.textTracks(),rw=this.player_.cache_.selectedLanguage,nw=void 0,ow=void 0,sw=void 0,iw=0,lw;iw<aw.length;iw++)lw=aw[iw],rw&&rw.enabled&&rw.language===lw.language?lw.kind===rw.kind?sw=lw:sw||(sw=lw):rw&&!rw.enabled?ow=nw=sw=null:lw.default&&("descriptions"!==lw.kind||nw?lw.kind in tw&&!ow&&(ow=lw):nw=lw);sw?sw.mode="showing":ow?ow.mode="showing":nw&&(nw.mode="showing")},ew.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},ew.prototype.clearDisplay=function(){"function"==typeof pg.WebVTT&&pg.WebVTT.processCues(pg,[],this.el_)},ew.prototype.updateDisplay=function(){var tw=this.player_.textTracks();this.clearDisplay();for(var aw=null,rw=null,nw=tw.length,ow;nw--;)ow=tw[nw],"showing"===ow.mode&&("descriptions"===ow.kind?aw=ow:rw=ow);rw?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(rw)):aw&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(aw))},ew.prototype.updateForTrack=function(tw){if("function"==typeof pg.WebVTT&&tw.activeCues){for(var aw=[],rw=0;rw<tw.activeCues.length;rw++)aw.push(tw.activeCues[rw]);if(pg.WebVTT.processCues(pg,aw,this.el_),this.player_.textTrackSettings)for(var nw=this.player_.textTrackSettings.getValues(),ow=aw.length,sw;ow--;)if(sw=aw[ow],sw){var iw=sw.displayState;if(nw.color&&(iw.firstChild.style.color=nw.color),nw.textOpacity&&eg(iw.firstChild,"color",Zm(nw.color||"#fff",nw.textOpacity)),nw.backgroundColor&&(iw.firstChild.style.backgroundColor=nw.backgroundColor),nw.backgroundOpacity&&eg(iw.firstChild,"backgroundColor",Zm(nw.backgroundColor||"#000",nw.backgroundOpacity)),nw.windowColor&&(nw.windowOpacity?eg(iw,"backgroundColor",Zm(nw.windowColor,nw.windowOpacity)):iw.style.backgroundColor=nw.windowColor),nw.edgeStyle&&("dropshadow"===nw.edgeStyle?iw.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+b_:"raised"===nw.edgeStyle?iw.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+b_:"depressed"===nw.edgeStyle?iw.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+b_:"uniform"===nw.edgeStyle&&(iw.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+b_)),nw.fontPercent&&1!==nw.fontPercent){var lw=pg.parseFloat(iw.style.fontSize);iw.style.fontSize=lw*nw.fontPercent+"px",iw.style.height="auto",iw.style.top="auto",iw.style.bottom="2px"}nw.fontFamily&&"default"!==nw.fontFamily&&("small-caps"===nw.fontFamily?iw.firstChild.style.fontVariant="small-caps":iw.firstChild.style.fontFamily=T_[nw.fontFamily])}}},ew}(ny);ny.registerComponent("TextTrackDisplay",S_);var v_=function(ZL){function ew(){return kg(this,ew),Eg(this,ZL.apply(this,arguments))}return Cg(ew,ZL),ew.prototype.createEl=function(){var tw=this.player_.isAudio(),aw=this.localize(tw?"Audio Player":"Video Player"),rw=Fp("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[aw])}),nw=ZL.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return nw.appendChild(rw),nw},ew}(ny);ny.registerComponent("LoadingSpinner",v_);var k_=function(ZL){function ew(){return kg(this,ew),Eg(this,ZL.apply(this,arguments))}return Cg(ew,ZL),ew.prototype.createEl=function(){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},rw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};aw=xp({innerHTML:"<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>",className:this.buildCSSClass()},aw),rw=xp({type:"button"},rw);var nw=ny.prototype.createEl.call(this,"button",aw,rw);return this.createControlTextEl(nw),nw},ew.prototype.addChild=function(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},rw=this.constructor.name;return Tg.warn("Adding an actionable (user controllable) child to a Button ("+rw+") is not supported; use a ClickableComponent instead."),ny.prototype.addChild.call(this,tw,aw)},ew.prototype.enable=function(){ZL.prototype.enable.call(this),this.el_.removeAttribute("disabled")},ew.prototype.disable=function(){ZL.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},ew.prototype.handleKeyPress=function(tw){32!==tw.which&&13!==tw.which&&ZL.prototype.handleKeyPress.call(this,tw)},ew}(f_);ny.registerComponent("Button",k_);var C_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.mouseused_=!1,rw.on("mousedown",rw.handleMouseDown),rw}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-big-play-button"},ew.prototype.handleClick=function(tw){var aw=this.player_.play();if(this.mouseused_&&tw.clientX&&tw.clientY)Am(aw);else{var rw=this.player_.getChild("controlBar"),nw=rw&&rw.getChild("playToggle");if(nw){var ow=function(){return nw.focus()};xm(aw)?aw.then(ow,function(){}):this.setTimeout(ow,1)}else this.player_.focus()}},ew.prototype.handleKeyPress=function(tw){this.mouseused_=!1,ZL.prototype.handleKeyPress.call(this,tw)},ew.prototype.handleMouseDown=function(){this.mouseused_=!0},ew}(k_);C_.prototype.controlText_="Play Video",ny.registerComponent("BigPlayButton",C_);var E_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.controlText(aw&&aw.controlText||rw.localize("Close")),rw}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-close-button "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},ew}(k_);ny.registerComponent("CloseButton",E_);var P_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.on(tw,"play",rw.handlePlay),rw.on(tw,"pause",rw.handlePause),rw.on(tw,"ended",rw.handleEnded),rw}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-play-control "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},ew.prototype.handleSeeked=function(tw){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(tw):this.handlePlay(tw)},ew.prototype.handlePlay=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},ew.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},ew.prototype.handleEnded=function(){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},ew}(k_);P_.prototype.controlText_="Play",ny.registerComponent("PlayToggle",P_);var L_=function(ZL,ew){ZL=0>ZL?0:ZL;var tw=_Mathfloor(ZL%60),aw=_Mathfloor(ZL/60%60),rw=_Mathfloor(ZL/3600),nw=_Mathfloor(ew/60%60),ow=_Mathfloor(ew/3600);return(isNaN(ZL)||ZL===1/0)&&(rw=aw=tw="-"),(rw=0<rw||0<ow?rw+":":"")+(aw=((rw||10<=nw)&&10>aw?"0"+aw:aw)+":")+(tw=10>tw?"0"+tw:tw)},w_=L_,x_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.throttledUpdateContent=Wg(qg(rw,rw.updateContent),25),rw.on(tw,"timeupdate",rw.throttledUpdateContent),rw}return Cg(ew,ZL),ew.prototype.createEl=function(){var aw=this.buildCSSClass(),rw=ZL.prototype.createEl.call(this,"div",{className:aw+" vjs-time-control vjs-control",innerHTML:"<span class=\"vjs-control-text\">"+this.localize(this.labelText_)+"\xA0</span>"});return this.contentEl_=Fp("span",{className:aw+"-display"},{"aria-live":"off"}),this.updateTextNode_(),rw.appendChild(this.contentEl_),rw},ew.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,ZL.prototype.dispose.call(this)},ew.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=hg.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},ew.prototype.formatTime_=function(tw){return tg(tw)},ew.prototype.updateFormattedTime_=function(tw){var aw=this.formatTime_(tw);aw!==this.formattedTime_&&(this.formattedTime_=aw,this.requestAnimationFrame(this.updateTextNode_))},ew.prototype.updateContent=function(){},ew}(ny);x_.prototype.labelText_="Time",x_.prototype.controlText_="Time",ny.registerComponent("TimeDisplay",x_);var A_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.on(tw,"ended",rw.handleEnded),rw}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-current-time"},ew.prototype.updateContent=function(){var aw=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(aw)},ew.prototype.handleEnded=function(){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},ew}(x_);A_.prototype.labelText_="Current Time",A_.prototype.controlText_="Current Time",ny.registerComponent("CurrentTimeDisplay",A_);var I_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.on(tw,"durationchange",rw.updateContent),rw.on(tw,"loadedmetadata",rw.throttledUpdateContent),rw}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-duration"},ew.prototype.updateContent=function(){var aw=this.player_.duration();aw&&this.duration_!==aw&&(this.duration_=aw,this.updateFormattedTime_(aw))},ew}(x_);I_.prototype.labelText_="Duration",I_.prototype.controlText_="Duration",ny.registerComponent("DurationDisplay",I_);var D_=function(ZL){function ew(){return kg(this,ew),Eg(this,ZL.apply(this,arguments))}return Cg(ew,ZL),ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},ew}(ny);ny.registerComponent("TimeDivider",D_);var O_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.on(tw,"durationchange",rw.throttledUpdateContent),rw.on(tw,"ended",rw.handleEnded),rw}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-remaining-time"},ew.prototype.formatTime_=function(tw){return"-"+ZL.prototype.formatTime_.call(this,tw)},ew.prototype.updateContent=function(){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},ew.prototype.handleEnded=function(){this.player_.duration()&&this.updateFormattedTime_(0)},ew}(x_);O_.prototype.labelText_="Remaining Time",O_.prototype.controlText_="Remaining Time",ny.registerComponent("RemainingTimeDisplay",O_);var R_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.updateShowing(),rw.on(rw.player(),"durationchange",rw.updateShowing),rw}return Cg(ew,ZL),ew.prototype.createEl=function(){var tw=ZL.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Fp("div",{className:"vjs-live-display",innerHTML:"<span class=\"vjs-control-text\">"+this.localize("Stream Type")+"\xA0</span>"+this.localize("LIVE")},{"aria-live":"off"}),tw.appendChild(this.contentEl_),tw},ew.prototype.dispose=function(){this.contentEl_=null,ZL.prototype.dispose.call(this)},ew.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},ew}(ny);ny.registerComponent("LiveDisplay",R_);var U_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.bar=rw.getChild(rw.options_.barName),rw.vertical(!!rw.options_.vertical),rw.enable(),rw}return Cg(ew,ZL),ew.prototype.enabled=function(){return this.enabled_},ew.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},ew.prototype.disable=function(){if(this.enabled()){var tw=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(tw,"mousemove",this.handleMouseMove),this.off(tw,"mouseup",this.handleMouseUp),this.off(tw,"touchmove",this.handleMouseMove),this.off(tw,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},ew.prototype.createEl=function(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},rw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return aw.className+=" vjs-slider",aw=xp({tabIndex:0},aw),rw=xp({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},rw),ZL.prototype.createEl.call(this,tw,aw,rw)},ew.prototype.handleMouseDown=function(tw){var aw=this.bar.el_.ownerDocument;"mousedown"===tw.type&&tw.preventDefault(),"touchstart"!==tw.type||vy||tw.preventDefault(),Qp(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(aw,"mousemove",this.handleMouseMove),this.on(aw,"mouseup",this.handleMouseUp),this.on(aw,"touchmove",this.handleMouseMove),this.on(aw,"touchend",this.handleMouseUp),this.handleMouseMove(tw)},ew.prototype.handleMouseMove=function(){},ew.prototype.handleMouseUp=function(){var tw=this.bar.el_.ownerDocument;Jp(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(tw,"mousemove",this.handleMouseMove),this.off(tw,"mouseup",this.handleMouseUp),this.off(tw,"touchmove",this.handleMouseMove),this.off(tw,"touchend",this.handleMouseUp),this.update()},ew.prototype.update=function(){if(this.el_){var tw=this.getPercent(),aw=this.bar;if(aw){("number"!=typeof tw||tw!=tw||0>tw||tw===1/0)&&(tw=0);var rw=(100*tw).toFixed(2)+"%",nw=aw.el().style;return this.vertical()?nw.height=rw:nw.width=rw,tw}}},ew.prototype.calculateDistance=function(tw){var aw=tm(this.el_,tw);return this.vertical()?aw.y:aw.x},ew.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},ew.prototype.handleKeyPress=function(tw){37===tw.which||40===tw.which?(tw.preventDefault(),this.stepBack()):38!==tw.which&&39!==tw.which||(tw.preventDefault(),this.stepForward())},ew.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},ew.prototype.handleClick=function(tw){tw.stopImmediatePropagation(),tw.preventDefault()},ew.prototype.vertical=function(tw){return void 0===tw?this.vertical_||!1:void(this.vertical_=!!tw,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"))},ew}(ny);ny.registerComponent("Slider",U_);var M_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.partEls_=[],rw.on(tw,"progress",rw.update),rw}return Cg(ew,ZL),ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:"<span class=\"vjs-control-text\"><span>"+this.localize("Loaded")+"</span>: 0%</span>"})},ew.prototype.dispose=function(){this.partEls_=null,ZL.prototype.dispose.call(this)},ew.prototype.update=function(){var aw=this.player_.buffered(),rw=this.player_.duration(),nw=this.player_.bufferedEnd(),ow=this.partEls_,sw=function(cw,mw){var gw=cw/mw||0;return 100*(1<=gw?1:gw)+"%"};this.el_.style.width=sw(nw,rw);for(var iw=0;iw<aw.length;iw++){var lw=aw.start(iw),dw=aw.end(iw),pw=ow[iw];pw||(pw=this.el_.appendChild(Fp()),ow[iw]=pw),pw.style.left=sw(lw,nw),pw.style.width=sw(dw-lw,nw)}for(var uw=ow.length;uw>aw.length;uw--)this.el_.removeChild(ow[uw-1]);ow.length=aw.length},ew}(ny);ny.registerComponent("LoadProgressBar",M_);var B_=function(ZL){function ew(){return kg(this,ew),Eg(this,ZL.apply(this,arguments))}return Cg(ew,ZL),ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},ew.prototype.update=function(tw,aw,rw){var nw=Zp(this.el_),ow=Zp(this.player_.el()),sw=tw.width*aw;if(ow&&nw){var iw=tw.left-ow.left+sw,lw=tw.width-sw+(ow.right-tw.right),dw=nw.width/2;iw<dw?dw+=dw-iw:lw<dw&&(dw=lw),0>dw?dw=0:dw>nw.width&&(dw=nw.width),this.el_.style.right="-"+dw+"px",jp(this.el_,rw)}},ew}(ny);ny.registerComponent("TimeTooltip",B_);var N_=function(ZL){function ew(){return kg(this,ew),Eg(this,ZL.apply(this,arguments))}return Cg(ew,ZL),ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:"<span class=\"vjs-control-text\"><span>"+this.localize("Progress")+"</span>: 0%</span>"})},ew.prototype.update=function(tw,aw){var rw=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var nw=tg(rw.player_.scrubbing()?rw.player_.getCache().currentTime:rw.player_.currentTime(),rw.player_.duration()),ow=rw.getChild("timeTooltip");ow&&ow.update(tw,aw,nw)})},ew}(ny);N_.prototype.options_={children:[]},hy||fy||N_.prototype.options_.children.push("timeTooltip"),ny.registerComponent("PlayProgressBar",N_);var F_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.update=Wg(qg(rw,rw.update),25),rw}return Cg(ew,ZL),ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},ew.prototype.update=function(tw,aw){var rw=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var nw=rw.player_.duration(),ow=tg(aw*nw,nw);rw.el_.style.left=tw.width*aw+"px",rw.getChild("timeTooltip").update(tw,aw,ow)})},ew}(ny);F_.prototype.options_={children:["timeTooltip"]},ny.registerComponent("MouseTimeDisplay",F_);var j_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.setEventHandlers_(),rw}return Cg(ew,ZL),ew.prototype.setEventHandlers_=function(){var tw=this;this.update=Wg(qg(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){tw.clearInterval(tw.updateInterval),tw.updateInterval=tw.setInterval(function(){tw.requestAnimationFrame(function(){tw.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){tw.clearInterval(tw.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},ew.prototype.update_=function(tw,aw){var rw=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*aw).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[tg(tw,rw),tg(rw,rw)],"{1} of {2}")),this.bar.update(Zp(this.el_),aw)},ew.prototype.update=function(){var aw=ZL.prototype.update.call(this);return this.update_(this.getCurrentTime_(),aw),aw},ew.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},ew.prototype.handleEnded=function(){this.update_(this.player_.duration(),1)},ew.prototype.getPercent=function(){var tw=this.getCurrentTime_()/this.player_.duration();return 1<=tw?1:tw||0},ew.prototype.handleMouseDown=function(tw){im(tw)&&(tw.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),ZL.prototype.handleMouseDown.call(this,tw))},ew.prototype.handleMouseMove=function(tw){if(im(tw)){var aw=this.calculateDistance(tw)*this.player_.duration();aw===this.player_.duration()&&(aw-=.1),this.player_.currentTime(aw)}},ew.prototype.enable=function(){ZL.prototype.enable.call(this);var tw=this.getChild("mouseTimeDisplay");tw&&tw.show()},ew.prototype.disable=function(){ZL.prototype.disable.call(this);var tw=this.getChild("mouseTimeDisplay");tw&&tw.hide()},ew.prototype.handleMouseUp=function(tw){ZL.prototype.handleMouseUp.call(this,tw),tw&&tw.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&Am(this.player_.play())},ew.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},ew.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},ew.prototype.handleAction=function(){this.player_.paused()?this.player_.play():this.player_.pause()},ew.prototype.handleKeyPress=function(tw){32===tw.which||13===tw.which?(tw.preventDefault(),this.handleAction(tw)):ZL.prototype.handleKeyPress&&ZL.prototype.handleKeyPress.call(this,tw)},ew}(U_);j_.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},hy||fy||j_.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),j_.prototype.playerEvent="timeupdate",ny.registerComponent("SeekBar",j_);var H_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.handleMouseMove=Wg(qg(rw,rw.handleMouseMove),25),rw.throttledHandleMouseSeek=Wg(qg(rw,rw.handleMouseSeek),25),rw.enable(),rw}return Cg(ew,ZL),ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},ew.prototype.handleMouseMove=function(tw){var aw=this.getChild("seekBar");if(aw){var rw=aw.getChild("mouseTimeDisplay"),nw=aw.el(),ow=Zp(nw),sw=tm(nw,tw).x;1<sw?sw=1:0>sw&&(sw=0),rw&&rw.update(ow,sw)}},ew.prototype.handleMouseSeek=function(tw){var aw=this.getChild("seekBar");aw&&aw.handleMouseMove(tw)},ew.prototype.enabled=function(){return this.enabled_},ew.prototype.disable=function(){this.children().forEach(function(tw){return tw.disable&&tw.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},ew.prototype.enable=function(){this.children().forEach(function(tw){return tw.enable&&tw.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},ew.prototype.handleMouseDown=function(tw){var aw=this.el_.ownerDocument,rw=this.getChild("seekBar");rw&&rw.handleMouseDown(tw),this.on(aw,"mousemove",this.throttledHandleMouseSeek),this.on(aw,"touchmove",this.throttledHandleMouseSeek),this.on(aw,"mouseup",this.handleMouseUp),this.on(aw,"touchend",this.handleMouseUp)},ew.prototype.handleMouseUp=function(tw){var aw=this.el_.ownerDocument,rw=this.getChild("seekBar");rw&&rw.handleMouseUp(tw),this.off(aw,"mousemove",this.throttledHandleMouseSeek),this.off(aw,"touchmove",this.throttledHandleMouseSeek),this.off(aw,"mouseup",this.handleMouseUp),this.off(aw,"touchend",this.handleMouseUp)},ew}(ny);H_.prototype.options_={children:["seekBar"]},ny.registerComponent("ProgressControl",H_);var V_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.on(tw,"fullscreenchange",rw.handleFullscreenChange),!1===hg[xy.fullscreenEnabled]&&rw.disable(),rw}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},ew.prototype.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},ew}(k_);V_.prototype.controlText_="Fullscreen",ny.registerComponent("FullscreenToggle",V_);var z_=function(ZL,ew){ew.tech_&&!ew.tech_.featuresVolumeControl&&ZL.addClass("vjs-hidden"),ZL.on(ew,"loadstart",function(){ew.tech_.featuresVolumeControl?ZL.removeClass("vjs-hidden"):ZL.addClass("vjs-hidden")})},q_=function(ZL){function ew(){return kg(this,ew),Eg(this,ZL.apply(this,arguments))}return Cg(ew,ZL),ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:"<span class=\"vjs-control-text\"></span>"})},ew}(ny);ny.registerComponent("VolumeLevel",q_);var W_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.on("slideractive",rw.updateLastVolume_),rw.on(tw,"volumechange",rw.updateARIAAttributes),tw.ready(function(){return rw.updateARIAAttributes()}),rw}return Cg(ew,ZL),ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},ew.prototype.handleMouseDown=function(tw){im(tw)&&ZL.prototype.handleMouseDown.call(this,tw)},ew.prototype.handleMouseMove=function(tw){im(tw)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(tw)))},ew.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},ew.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},ew.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},ew.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},ew.prototype.updateARIAAttributes=function(){var aw=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",aw),this.el_.setAttribute("aria-valuetext",aw+"%")},ew.prototype.volumeAsPercentage_=function(){return _Mathround(100*this.player_.volume())},ew.prototype.updateLastVolume_=function(){var tw=this,aw=this.player_.volume();this.one("sliderinactive",function(){0===tw.player_.volume()&&tw.player_.lastVolume_(aw)})},ew}(U_);W_.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},W_.prototype.playerEvent="volumechange",ny.registerComponent("VolumeBar",W_);var G_=function(ZL){function ew(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};kg(this,ew),aw.vertical=aw.vertical||!1,("undefined"==typeof aw.volumeBar||Ip(aw.volumeBar))&&(aw.volumeBar=aw.volumeBar||{},aw.volumeBar.vertical=aw.vertical);var rw=Eg(this,ZL.call(this,tw,aw));return z_(rw,tw),rw.throttledHandleMouseMove=Wg(qg(rw,rw.handleMouseMove),25),rw.on("mousedown",rw.handleMouseDown),rw.on("touchstart",rw.handleMouseDown),rw.on(rw.volumeBar,["focus","slideractive"],function(){rw.volumeBar.addClass("vjs-slider-active"),rw.addClass("vjs-slider-active"),rw.trigger("slideractive")}),rw.on(rw.volumeBar,["blur","sliderinactive"],function(){rw.volumeBar.removeClass("vjs-slider-active"),rw.removeClass("vjs-slider-active"),rw.trigger("sliderinactive")}),rw}return Cg(ew,ZL),ew.prototype.createEl=function(){var tw="vjs-volume-horizontal";return this.options_.vertical&&(tw="vjs-volume-vertical"),ZL.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+tw})},ew.prototype.handleMouseDown=function(){var aw=this.el_.ownerDocument;this.on(aw,"mousemove",this.throttledHandleMouseMove),this.on(aw,"touchmove",this.throttledHandleMouseMove),this.on(aw,"mouseup",this.handleMouseUp),this.on(aw,"touchend",this.handleMouseUp)},ew.prototype.handleMouseUp=function(){var aw=this.el_.ownerDocument;this.off(aw,"mousemove",this.throttledHandleMouseMove),this.off(aw,"touchmove",this.throttledHandleMouseMove),this.off(aw,"mouseup",this.handleMouseUp),this.off(aw,"touchend",this.handleMouseUp)},ew.prototype.handleMouseMove=function(tw){this.volumeBar.handleMouseMove(tw)},ew}(ny);G_.prototype.options_={children:["volumeBar"]},ny.registerComponent("VolumeControl",G_);var Y_=function(ZL,ew){ew.tech_&&!ew.tech_.featuresMuteControl&&ZL.addClass("vjs-hidden"),ZL.on(ew,"loadstart",function(){ew.tech_.featuresMuteControl?ZL.removeClass("vjs-hidden"):ZL.addClass("vjs-hidden")})},X_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return Y_(rw,tw),rw.on(tw,["loadstart","volumechange"],rw.update),rw}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-mute-control "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.handleClick=function(){var aw=this.player_.volume(),rw=this.player_.lastVolume_();if(0===aw){var nw=.1>rw?.1:rw;this.player_.volume(nw),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},ew.prototype.update=function(){this.updateIcon_(),this.updateControlText_()},ew.prototype.updateIcon_=function(){var tw=this.player_.volume(),aw=3;hy&&this.player_.muted(this.player_.tech_.el_.muted),0===tw||this.player_.muted()?aw=0:.33>tw?aw=1:.67>tw&&(aw=2);for(var rw=0;4>rw;rw++)qp(this.el_,"vjs-vol-"+rw);zp(this.el_,"vjs-vol-"+aw)},ew.prototype.updateControlText_=function(){var tw=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==tw&&this.controlText(tw)},ew}(k_);X_.prototype.controlText_="Mute",ny.registerComponent("MuteToggle",X_);var K_=function(ZL){function ew(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};kg(this,ew),aw.inline=!("undefined"!=typeof aw.inline)||aw.inline,("undefined"==typeof aw.volumeControl||Ip(aw.volumeControl))&&(aw.volumeControl=aw.volumeControl||{},aw.volumeControl.vertical=!aw.inline);var rw=Eg(this,ZL.call(this,tw,aw));return rw.on(tw,["loadstart"],rw.volumePanelState_),rw.on(rw.volumeControl,["slideractive"],rw.sliderActive_),rw.on(rw.volumeControl,["sliderinactive"],rw.sliderInactive_),rw}return Cg(ew,ZL),ew.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},ew.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},ew.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},ew.prototype.createEl=function(){var tw="vjs-volume-panel-horizontal";return this.options_.inline||(tw="vjs-volume-panel-vertical"),ZL.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+tw})},ew}(ny);K_.prototype.options_={children:["muteToggle","volumeControl"]},ny.registerComponent("VolumePanel",K_);var $_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return aw&&(rw.menuButton_=aw.menuButton),rw.focusedChild_=-1,rw.on("keydown",rw.handleKeyPress),rw}return Cg(ew,ZL),ew.prototype.addItem=function(tw){this.addChild(tw),tw.on("click",qg(this,function(){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==tw.name()&&this.menuButton_.focus())}))},ew.prototype.createEl=function(){var tw=this.options_.contentElType||"ul";this.contentEl_=Fp(tw,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var aw=ZL.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return aw.appendChild(this.contentEl_),hm(aw,"click",function(rw){rw.preventDefault(),rw.stopImmediatePropagation()}),aw},ew.prototype.dispose=function(){this.contentEl_=null,ZL.prototype.dispose.call(this)},ew.prototype.handleKeyPress=function(tw){37===tw.which||40===tw.which?(tw.preventDefault(),this.stepForward()):38!==tw.which&&39!==tw.which||(tw.preventDefault(),this.stepBack())},ew.prototype.stepForward=function(){var tw=0;void 0!==this.focusedChild_&&(tw=this.focusedChild_+1),this.focus(tw)},ew.prototype.stepBack=function(){var tw=0;void 0!==this.focusedChild_&&(tw=this.focusedChild_-1),this.focus(tw)},ew.prototype.focus=function(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,aw=this.children().slice();aw.length&&aw[0].className&&/vjs-menu-title/.test(aw[0].className)&&aw.shift(),0<aw.length&&(0>tw?tw=0:tw>=aw.length&&(tw=aw.length-1),aw[this.focusedChild_=tw].el_.focus())},ew}(ny);ny.registerComponent("Menu",$_);var Q_=function(ZL){function ew(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));rw.menuButton_=new k_(tw,aw),rw.menuButton_.controlText(rw.controlText_),rw.menuButton_.el_.setAttribute("aria-haspopup","true");var nw=k_.prototype.buildCSSClass();return rw.menuButton_.el_.className=rw.buildCSSClass()+" "+nw,rw.menuButton_.removeClass("vjs-control"),rw.addChild(rw.menuButton_),rw.update(),rw.enabled_=!0,rw.on(rw.menuButton_,"tap",rw.handleClick),rw.on(rw.menuButton_,"click",rw.handleClick),rw.on(rw.menuButton_,"focus",rw.handleFocus),rw.on(rw.menuButton_,"blur",rw.handleBlur),rw.on("keydown",rw.handleSubmenuKeyPress),rw}return Cg(ew,ZL),ew.prototype.update=function(){var tw=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=tw,this.addChild(tw),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},ew.prototype.createMenu=function(){var tw=new $_(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var aw=Fp("li",{className:"vjs-menu-title",innerHTML:vm(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,tw.children_.unshift(aw),Hp(aw,tw.contentEl())}if(this.items=this.createItems(),this.items)for(var rw=0;rw<this.items.length;rw++)tw.addItem(this.items[rw]);return tw},ew.prototype.createItems=function(){},ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},ew.prototype.buildWrapperCSSClass=function(){var tw="vjs-menu-button";return tw+=!0===this.options_.inline?"-inline":"-popup","vjs-menu-button "+tw+" "+k_.prototype.buildCSSClass()+" "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.buildCSSClass=function(){var tw="vjs-menu-button";return tw+=!0===this.options_.inline?"-inline":"-popup","vjs-menu-button "+tw+" "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.controlText=function(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(tw,aw)},ew.prototype.handleClick=function(){this.one(this.menu.contentEl(),"mouseleave",qg(this,function(){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},ew.prototype.focus=function(){this.menuButton_.focus()},ew.prototype.blur=function(){this.menuButton_.blur()},ew.prototype.handleFocus=function(){hm(hg,"keydown",qg(this,this.handleKeyPress))},ew.prototype.handleBlur=function(){ym(hg,"keydown",qg(this,this.handleKeyPress))},ew.prototype.handleKeyPress=function(tw){27===tw.which||9===tw.which?(this.buttonPressed_&&this.unpressButton(),9!==tw.which&&(tw.preventDefault(),this.menuButton_.el_.focus())):38!==tw.which&&40!==tw.which||this.buttonPressed_||(this.pressButton(),tw.preventDefault())},ew.prototype.handleSubmenuKeyPress=function(tw){27!==tw.which&&9!==tw.which||(this.buttonPressed_&&this.unpressButton(),9!==tw.which&&(tw.preventDefault(),this.menuButton_.el_.focus()))},ew.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),hy&&Bp())return;this.menu.focus()}},ew.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},ew.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},ew.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},ew}(ny);ny.registerComponent("MenuButton",Q_);var J_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=aw.tracks,nw=Eg(this,ZL.call(this,tw,aw));if(1>=nw.items.length&&nw.hide(),!rw)return Eg(nw);var ow=qg(nw,nw.update);return rw.addEventListener("removetrack",ow),rw.addEventListener("addtrack",ow),nw.player_.on("ready",ow),nw.player_.on("dispose",function(){rw.removeEventListener("removetrack",ow),rw.removeEventListener("addtrack",ow)}),nw}return Cg(ew,ZL),ew}(Q_);ny.registerComponent("TrackButton",J_);var Z_=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.selectable=aw.selectable,rw.isSelected_=aw.selected||!1,rw.multiSelectable=aw.multiSelectable,rw.selected(rw.isSelected_),rw.selectable?rw.multiSelectable?rw.el_.setAttribute("role","menuitemcheckbox"):rw.el_.setAttribute("role","menuitemradio"):rw.el_.setAttribute("role","menuitem"),rw}return Cg(ew,ZL),ew.prototype.createEl=function(tw,aw,rw){return this.nonIconControl=!0,ZL.prototype.createEl.call(this,"li",xp({className:"vjs-menu-item",innerHTML:"<span class=\"vjs-menu-item-text\">"+this.localize(this.options_.label)+"</span>",tabIndex:-1},aw),rw)},ew.prototype.handleClick=function(){this.selected(!0)},ew.prototype.selected=function(tw){this.selectable&&(tw?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},ew}(f_);ny.registerComponent("MenuItem",Z_);var eb=function(ZL){function ew(tw,aw){kg(this,ew);var rw=aw.track,nw=tw.textTracks();aw.label=rw.label||rw.language||"Unknown",aw.selected="showing"===rw.mode;var ow=Eg(this,ZL.call(this,tw,aw));ow.track=rw;var sw=function(){for(var dw=arguments.length,pw=Array(dw),uw=0;uw<dw;uw++)pw[uw]=arguments[uw];ow.handleTracksChange.apply(ow,pw)},iw=function(){for(var dw=arguments.length,pw=Array(dw),uw=0;uw<dw;uw++)pw[uw]=arguments[uw];ow.handleSelectedLanguageChange.apply(ow,pw)};if(tw.on(["loadstart","texttrackchange"],sw),nw.addEventListener("change",sw),nw.addEventListener("selectedlanguagechange",iw),ow.on("dispose",function(){tw.off(["loadstart","texttrackchange"],sw),nw.removeEventListener("change",sw),nw.removeEventListener("selectedlanguagechange",iw)}),void 0===nw.onchange){var lw;ow.on(["tap","click"],function(){if("object"!==vg(pg.Event))try{lw=new pg.Event("change")}catch(dw){}lw||(lw=hg.createEvent("Event")).initEvent("change",!0,!0),nw.dispatchEvent(lw)})}return ow.handleTracksChange(),ow}return Cg(ew,ZL),ew.prototype.handleClick=function(tw){var aw=this.track.kind,rw=this.track.kinds,nw=this.player_.textTracks();if(rw||(rw=[aw]),ZL.prototype.handleClick.call(this,tw),nw)for(var ow=0,sw;ow<nw.length;ow++)sw=nw[ow],sw===this.track&&-1<rw.indexOf(sw.kind)?"showing"!==sw.mode&&(sw.mode="showing"):"disabled"!==sw.mode&&(sw.mode="disabled")},ew.prototype.handleTracksChange=function(){var aw="showing"===this.track.mode;aw!==this.isSelected_&&this.selected(aw)},ew.prototype.handleSelectedLanguageChange=function(){if("showing"===this.track.mode){var aw=this.player_.cache_.selectedLanguage;if(aw&&aw.enabled&&aw.language===this.track.language&&aw.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},ew.prototype.dispose=function(){this.track=null,ZL.prototype.dispose.call(this)},ew}(Z_);ny.registerComponent("TextTrackMenuItem",eb);var tb=function(ZL){function ew(tw,aw){return kg(this,ew),aw.track={player:tw,kind:aw.kind,kinds:aw.kinds,default:!1,mode:"disabled"},aw.kinds||(aw.kinds=[aw.kind]),aw.track.label=aw.label?aw.label:aw.kinds.join(" and ")+" off",aw.selectable=!0,aw.multiSelectable=!1,Eg(this,ZL.call(this,tw,aw))}return Cg(ew,ZL),ew.prototype.handleTracksChange=function(){for(var aw=this.player().textTracks(),rw=!0,nw=0,ow=aw.length,sw;nw<ow;nw++)if(sw=aw[nw],-1<this.options_.kinds.indexOf(sw.kind)&&"showing"===sw.mode){rw=!1;break}rw!==this.isSelected_&&this.selected(rw)},ew.prototype.handleSelectedLanguageChange=function(){for(var aw=this.player().textTracks(),rw=!0,nw=0,ow=aw.length,sw;nw<ow;nw++)if(sw=aw[nw],-1<["captions","descriptions","subtitles"].indexOf(sw.kind)&&"showing"===sw.mode){rw=!1;break}rw&&(this.player_.cache_.selectedLanguage={enabled:!1})},ew}(eb);ny.registerComponent("OffTextTrackMenuItem",tb);var ab=function(ZL){function ew(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return kg(this,ew),aw.tracks=tw.textTracks(),Eg(this,ZL.call(this,tw,aw))}return Cg(ew,ZL),ew.prototype.createItems=function(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:eb,rw;this.label_&&(rw=this.label_+" off"),tw.push(new tb(this.player_,{kinds:this.kinds_,kind:this.kind_,label:rw})),this.hideThreshold_+=1;var nw=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var ow=0,sw;ow<nw.length;ow++)if(sw=nw[ow],-1<this.kinds_.indexOf(sw.kind)){var iw=new aw(this.player_,{track:sw,selectable:!0,multiSelectable:!1});iw.addClass("vjs-"+sw.kind+"-menu-item"),tw.push(iw)}return tw},ew}(J_);ny.registerComponent("TextTrackButton",ab);var rb=function(ZL){function ew(tw,aw){kg(this,ew);var rw=aw.track,nw=aw.cue,ow=tw.currentTime();aw.selectable=!0,aw.multiSelectable=!1,aw.label=nw.text,aw.selected=nw.startTime<=ow&&ow<nw.endTime;var sw=Eg(this,ZL.call(this,tw,aw));return sw.track=rw,sw.cue=nw,rw.addEventListener("cuechange",qg(sw,sw.update)),sw}return Cg(ew,ZL),ew.prototype.handleClick=function(){ZL.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},ew.prototype.update=function(){var aw=this.cue,rw=this.player_.currentTime();this.selected(aw.startTime<=rw&&rw<aw.endTime)},ew}(Z_);ny.registerComponent("ChaptersTrackMenuItem",rb);var nb=function(ZL){function ew(tw,aw,rw){return kg(this,ew),Eg(this,ZL.call(this,tw,aw,rw))}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-chapters-button "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+ZL.prototype.buildWrapperCSSClass.call(this)},ew.prototype.update=function(tw){this.track_&&(!tw||"addtrack"!==tw.type&&"removetrack"!==tw.type)||this.setTrack(this.findChaptersTrack()),ZL.prototype.update.call(this)},ew.prototype.setTrack=function(tw){if(this.track_!==tw){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var aw=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);aw&&aw.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=tw,this.track_){this.track_.mode="hidden";var rw=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);rw&&rw.addEventListener("load",this.updateHandler_)}}},ew.prototype.findChaptersTrack=function(){for(var tw=this.player_.textTracks()||[],aw=tw.length-1,rw;0<=aw;aw--)if(rw=tw[aw],rw.kind===this.kind_)return rw},ew.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(vm(this.kind_))},ew.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),ZL.prototype.createMenu.call(this)},ew.prototype.createItems=function(){var tw=[];if(!this.track_)return tw;var aw=this.track_.cues;if(!aw)return tw;for(var rw=0,nw=aw.length;rw<nw;rw++){var ow=aw[rw],sw=new rb(this.player_,{track:this.track_,cue:ow});tw.push(sw)}return tw},ew}(ab);nb.prototype.kind_="chapters",nb.prototype.controlText_="Chapters",ny.registerComponent("ChaptersButton",nb);var ob=function(ZL){function ew(tw,aw,rw){kg(this,ew);var nw=Eg(this,ZL.call(this,tw,aw,rw)),ow=tw.textTracks(),sw=qg(nw,nw.handleTracksChange);return ow.addEventListener("change",sw),nw.on("dispose",function(){ow.removeEventListener("change",sw)}),nw}return Cg(ew,ZL),ew.prototype.handleTracksChange=function(){for(var aw=this.player().textTracks(),rw=!1,nw=0,ow=aw.length,sw;nw<ow;nw++)if(sw=aw[nw],sw.kind!==this.kind_&&"showing"===sw.mode){rw=!0;break}rw?this.disable():this.enable()},ew.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+ZL.prototype.buildWrapperCSSClass.call(this)},ew}(ab);ob.prototype.kind_="descriptions",ob.prototype.controlText_="Descriptions",ny.registerComponent("DescriptionsButton",ob);var sb=function(ZL){function ew(tw,aw,rw){return kg(this,ew),Eg(this,ZL.call(this,tw,aw,rw))}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+ZL.prototype.buildWrapperCSSClass.call(this)},ew}(ab);sb.prototype.kind_="subtitles",sb.prototype.controlText_="Subtitles",ny.registerComponent("SubtitlesButton",sb);var ib=function(ZL){function ew(tw,aw){kg(this,ew),aw.track={player:tw,kind:aw.kind,label:aw.kind+" settings",selectable:!1,default:!1,mode:"disabled"},aw.selectable=!1,aw.name="CaptionSettingsMenuItem";var rw=Eg(this,ZL.call(this,tw,aw));return rw.addClass("vjs-texttrack-settings"),rw.controlText(", opens "+aw.kind+" settings dialog"),rw}return Cg(ew,ZL),ew.prototype.handleClick=function(){this.player().getChild("textTrackSettings").open()},ew}(eb);ny.registerComponent("CaptionSettingsMenuItem",ib);var lb=function(ZL){function ew(tw,aw,rw){return kg(this,ew),Eg(this,ZL.call(this,tw,aw,rw))}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-captions-button "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+ZL.prototype.buildWrapperCSSClass.call(this)},ew.prototype.createItems=function(){var tw=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(tw.push(new ib(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),ZL.prototype.createItems.call(this,tw)},ew}(ab);lb.prototype.kind_="captions",lb.prototype.controlText_="Captions",ny.registerComponent("CaptionsButton",lb);var db=function(ZL){function ew(){return kg(this,ew),Eg(this,ZL.apply(this,arguments))}return Cg(ew,ZL),ew.prototype.createEl=function(tw,aw,rw){var nw="<span class=\"vjs-menu-item-text\">"+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(nw+="\n        <span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>\n        <span class=\"vjs-control-text\"> "+this.localize("Captions")+"</span>\n      "),nw+="</span>",ZL.prototype.createEl.call(this,tw,xp({innerHTML:nw},aw),rw)},ew}(eb);ny.registerComponent("SubsCapsMenuItem",db);var pb=function(ZL){function ew(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(rw.player_.language_)&&(rw.label_="captions"),rw.menuButton_.controlText(vm(rw.label_)),rw}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+ZL.prototype.buildWrapperCSSClass.call(this)},ew.prototype.createItems=function(){var tw=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(tw.push(new ib(this.player_,{kind:this.label_})),this.hideThreshold_+=1),tw=ZL.prototype.createItems.call(this,tw,db)},ew}(ab);pb.prototype.kinds_=["captions","subtitles"],pb.prototype.controlText_="Subtitles",ny.registerComponent("SubsCapsButton",pb);var ub=function(ZL){function ew(tw,aw){kg(this,ew);var rw=aw.track,nw=tw.audioTracks();aw.label=rw.label||rw.language||"Unknown",aw.selected=rw.enabled;var ow=Eg(this,ZL.call(this,tw,aw));ow.track=rw,ow.addClass("vjs-"+rw.kind+"-menu-item");var sw=function(){for(var iw=arguments.length,lw=Array(iw),dw=0;dw<iw;dw++)lw[dw]=arguments[dw];ow.handleTracksChange.apply(ow,lw)};return nw.addEventListener("change",sw),ow.on("dispose",function(){nw.removeEventListener("change",sw)}),ow}return Cg(ew,ZL),ew.prototype.createEl=function(tw,aw,rw){var nw="<span class=\"vjs-menu-item-text\">"+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(nw+="\n        <span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>\n        <span class=\"vjs-control-text\"> "+this.localize("Descriptions")+"</span>\n      "),nw+="</span>",ZL.prototype.createEl.call(this,tw,xp({innerHTML:nw},aw),rw)},ew.prototype.handleClick=function(tw){var aw=this.player_.audioTracks();ZL.prototype.handleClick.call(this,tw);for(var rw=0,nw;rw<aw.length;rw++)nw=aw[rw],nw.enabled=nw===this.track},ew.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},ew}(Z_);ny.registerComponent("AudioTrackMenuItem",ub);var cb=function(ZL){function ew(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return kg(this,ew),aw.tracks=tw.audioTracks(),Eg(this,ZL.call(this,tw,aw))}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-audio-button "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+ZL.prototype.buildWrapperCSSClass.call(this)},ew.prototype.createItems=function(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var aw=this.player_.audioTracks(),rw=0,nw;rw<aw.length;rw++)nw=aw[rw],tw.push(new ub(this.player_,{track:nw,selectable:!0,multiSelectable:!1}));return tw},ew}(J_);cb.prototype.controlText_="Audio Track",ny.registerComponent("AudioTrackButton",cb);var mb=function(ZL){function ew(tw,aw){kg(this,ew);var rw=aw.rate,nw=parseFloat(rw,10);aw.label=rw,aw.selected=1===nw,aw.selectable=!0,aw.multiSelectable=!1;var ow=Eg(this,ZL.call(this,tw,aw));return ow.label=rw,ow.rate=nw,ow.on(tw,"ratechange",ow.update),ow}return Cg(ew,ZL),ew.prototype.handleClick=function(){ZL.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},ew.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},ew}(Z_);mb.prototype.contentElType="button",ny.registerComponent("PlaybackRateMenuItem",mb);var gb=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.updateVisibility(),rw.updateLabel(),rw.on(tw,"loadstart",rw.updateVisibility),rw.on(tw,"ratechange",rw.updateLabel),rw}return Cg(ew,ZL),ew.prototype.createEl=function(){var tw=ZL.prototype.createEl.call(this);return this.labelEl_=Fp("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),tw.appendChild(this.labelEl_),tw},ew.prototype.dispose=function(){this.labelEl_=null,ZL.prototype.dispose.call(this)},ew.prototype.buildCSSClass=function(){return"vjs-playback-rate "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+ZL.prototype.buildWrapperCSSClass.call(this)},ew.prototype.createMenu=function(){var tw=new $_(this.player()),aw=this.playbackRates();if(aw)for(var rw=aw.length-1;0<=rw;rw--)tw.addChild(new mb(this.player(),{rate:aw[rw]+"x"}));return tw},ew.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},ew.prototype.handleClick=function(){for(var aw=this.player().playbackRate(),rw=this.playbackRates(),nw=rw[0],ow=0;ow<rw.length;ow++)if(rw[ow]>aw){nw=rw[ow];break}this.player().playbackRate(nw)},ew.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},ew.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},ew.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},ew.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},ew}(Q_);gb.prototype.controlText_="Playback Rate",ny.registerComponent("PlaybackRateMenuButton",gb);var hb=function(ZL){function ew(){return kg(this,ew),Eg(this,ZL.apply(this,arguments))}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-spacer "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},ew}(ny);ny.registerComponent("Spacer",hb);var yb=function(ZL){function ew(){return kg(this,ew),Eg(this,ZL.apply(this,arguments))}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.createEl=function(){var tw=ZL.prototype.createEl.call(this,{className:this.buildCSSClass()});return tw.innerHTML="\xA0",tw},ew}(hb);ny.registerComponent("CustomControlSpacer",yb);var fb=function(ZL){function ew(){return kg(this,ew),Eg(this,ZL.apply(this,arguments))}return Cg(ew,ZL),ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},ew}(ny);fb.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},ny.registerComponent("ControlBar",fb);var _b=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw));return rw.on(tw,"error",rw.open),rw}return Cg(ew,ZL),ew.prototype.buildCSSClass=function(){return"vjs-error-display "+ZL.prototype.buildCSSClass.call(this)},ew.prototype.content=function(){var tw=this.player().error();return tw?this.localize(tw.message):""},ew}(Hy);_b.prototype.options_=km(Hy.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ny.registerComponent("ErrorDisplay",_b);var bb="vjs-text-track-settings",Tb=["#000","Black"],Sb=["#00F","Blue"],vb=["#0FF","Cyan"],kb=["#0F0","Green"],Cb=["#F0F","Magenta"],Eb=["#F00","Red"],Pb=["#FFF","White"],Lb=["#FF0","Yellow"],wb=["1","Opaque"],xb=["0.5","Semi-Transparent"],Ab=["0","Transparent"],Ib={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Tb,Pb,Eb,kb,Sb,Lb,Cb,vb]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[wb,xb,Ab]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Pb,Tb,Eb,kb,Sb,Lb,Cb,vb]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(ZL){return"1.00"===ZL?null:+ZL}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[wb,xb]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Ab,xb,wb]}};Ib.windowColor.options=Ib.backgroundColor.options;var Db=function(ZL){function ew(tw,aw){kg(this,ew),aw.temporary=!1;var rw=Eg(this,ZL.call(this,tw,aw));return rw.updateDisplay=qg(rw,rw.updateDisplay),rw.fill(),rw.hasBeenOpened_=rw.hasBeenFilled_=!0,rw.endDialog=Fp("p",{className:"vjs-control-text",textContent:rw.localize("End of dialog window.")}),rw.el().appendChild(rw.endDialog),rw.setDefaults(),void 0===aw.persistTextTrackSettings&&(rw.options_.persistTextTrackSettings=rw.options_.playerOptions.persistTextTrackSettings),rw.on(rw.$(".vjs-done-button"),"click",function(){rw.saveSettings(),rw.close()}),rw.on(rw.$(".vjs-default-button"),"click",function(){rw.setDefaults(),rw.updateDisplay()}),Lp(Ib,function(nw){rw.on(rw.$(nw.selector),"change",rw.updateDisplay)}),rw.options_.persistTextTrackSettings&&rw.restoreSettings(),rw}return Cg(ew,ZL),ew.prototype.dispose=function(){this.endDialog=null,ZL.prototype.dispose.call(this)},ew.prototype.createElSelect_=function(tw){var aw=this,rw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",nw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"label",ow=Ib[tw],sw=ow.id.replace("%s",this.id_),iw=[rw,sw].join(" ").trim();return["<"+nw+" id=\""+sw+"\" class=\""+("label"===nw?"vjs-label":"")+"\">",this.localize(ow.label),"</"+nw+">","<select aria-labelledby=\""+iw+"\">"].concat(ow.options.map(function(lw){var dw=sw+"-"+lw[1].replace(/\W+/g,"");return["<option id=\""+dw+"\" value=\""+lw[0]+"\" ","aria-labelledby=\""+iw+" "+dw+"\">",aw.localize(lw[1]),"</option>"].join("")})).concat("</select>").join("")},ew.prototype.createElFgColor_=function(){var tw="captions-text-legend-"+this.id_;return["<fieldset class=\"vjs-fg-color vjs-track-setting\">","<legend id=\""+tw+"\">",this.localize("Text"),"</legend>",this.createElSelect_("color",tw),"<span class=\"vjs-text-opacity vjs-opacity\">",this.createElSelect_("textOpacity",tw),"</span>","</fieldset>"].join("")},ew.prototype.createElBgColor_=function(){var tw="captions-background-"+this.id_;return["<fieldset class=\"vjs-bg-color vjs-track-setting\">","<legend id=\""+tw+"\">",this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",tw),"<span class=\"vjs-bg-opacity vjs-opacity\">",this.createElSelect_("backgroundOpacity",tw),"</span>","</fieldset>"].join("")},ew.prototype.createElWinColor_=function(){var tw="captions-window-"+this.id_;return["<fieldset class=\"vjs-window-color vjs-track-setting\">","<legend id=\""+tw+"\">",this.localize("Window"),"</legend>",this.createElSelect_("windowColor",tw),"<span class=\"vjs-window-opacity vjs-opacity\">",this.createElSelect_("windowOpacity",tw),"</span>","</fieldset>"].join("")},ew.prototype.createElColors_=function(){return Fp("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},ew.prototype.createElFont_=function(){return Fp("div",{className:"vjs-track-settings-font",innerHTML:["<fieldset class=\"vjs-font-percent vjs-track-setting\">",this.createElSelect_("fontPercent","","legend"),"</fieldset>","<fieldset class=\"vjs-edge-style vjs-track-setting\">",this.createElSelect_("edgeStyle","","legend"),"</fieldset>","<fieldset class=\"vjs-font-family vjs-track-setting\">",this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},ew.prototype.createElControls_=function(){var tw=this.localize("restore all settings to the default values");return Fp("div",{className:"vjs-track-settings-controls",innerHTML:["<button class=\"vjs-default-button\" title=\""+tw+"\">",this.localize("Reset"),"<span class=\"vjs-control-text\"> "+tw+"</span>","</button>","<button class=\"vjs-done-button\">"+this.localize("Done")+"</button>"].join("")})},ew.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},ew.prototype.label=function(){return this.localize("Caption Settings Dialog")},ew.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},ew.prototype.buildCSSClass=function(){return ZL.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},ew.prototype.getValues=function(){var tw=this;return function(aw,rw){var nw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return wg(aw).reduce(function(ow,sw){return rw(ow,aw[sw],sw)},nw)}(Ib,function(aw,rw,nw){var iw=(ow=tw.$(rw.selector),sw=rw.parser,ag(ow.options[ow.options.selectedIndex].value,sw)),ow,sw;return void 0!==iw&&(aw[nw]=iw),aw},{})},ew.prototype.setValues=function(tw){var aw=this;Lp(Ib,function(rw,nw){!function(ow,sw,iw){if(sw)for(var lw=0;lw<ow.options.length;lw++)if(ag(ow.options[lw].value,iw)===sw){ow.selectedIndex=lw;break}}(aw.$(rw.selector),tw[nw],rw.parser)})},ew.prototype.setDefaults=function(){var tw=this;Lp(Ib,function(aw){var rw=aw.hasOwnProperty("default")?aw.default:0;tw.$(aw.selector).selectedIndex=rw})},ew.prototype.restoreSettings=function(){var tw;try{tw=JSON.parse(pg.localStorage.getItem(bb))}catch(aw){Tg.warn(aw)}tw&&this.setValues(tw)},ew.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var tw=this.getValues();try{Object.keys(tw).length?pg.localStorage.setItem(bb,JSON.stringify(tw)):pg.localStorage.removeItem(bb)}catch(aw){Tg.warn(aw)}}},ew.prototype.updateDisplay=function(){var tw=this.player_.getChild("textTrackDisplay");tw&&tw.updateDisplay()},ew.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(hg,"keydown",this.handleKeyDown);var tw=this.player_.controlBar,aw=tw&&tw.subsCapsButton,rw=tw&&tw.captionsButton;aw?aw.focus():rw&&rw.focus()},ew}(Hy);ny.registerComponent("TextTrackSettings",Db);var Ob=function(ZL){function ew(tw,aw){kg(this,ew);var rw=aw.ResizeObserver||pg.ResizeObserver;null===aw.ResizeObserver&&(rw=!1);var nw=km({createEl:!rw,reportTouchActivity:!1},aw),ow=Eg(this,ZL.call(this,tw,nw));return ow.ResizeObserver=aw.ResizeObserver||pg.ResizeObserver,ow.loadListener_=null,ow.resizeObserver_=null,ow.debouncedHandler_=Gg(function(){ow.resizeHandler()},100,!1,tw),rw?(ow.resizeObserver_=new ow.ResizeObserver(ow.debouncedHandler_),ow.resizeObserver_.observe(tw.el())):(ow.loadListener_=function(){ow.el_.contentWindow&&hm(ow.el_.contentWindow,"resize",ow.debouncedHandler_),ow.off("load",ow.loadListener_)},ow.on("load",ow.loadListener_)),ow}return Cg(ew,ZL),ew.prototype.createEl=function(){return ZL.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},ew.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},ew.prototype.dispose=function(){this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&ym(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,ZL.prototype.dispose.call(this)},ew}(ny);ny.registerComponent("ResizeManager",Ob);var Rb=function(ZL){var ew=ZL.el();if(ew.hasAttribute("src"))return ZL.triggerSourceset(ew.src),!0;var tw=ZL.$$("source"),aw=[],rw="";if(!tw.length)return!1;for(var nw=0,ow;nw<tw.length;nw++)ow=tw[nw].src,ow&&-1===aw.indexOf(ow)&&aw.push(ow);return!!aw.length&&(1===aw.length&&(rw=aw[0]),ZL.triggerSourceset(rw),!0)},Ub=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(ZL){var ew=hg.createElement(this.nodeName.toLowerCase());ew.innerHTML=ZL;for(var tw=hg.createDocumentFragment();ew.childNodes.length;)tw.appendChild(ew.childNodes[0]);return this.innerText="",pg.Element.prototype.appendChild.call(this,tw),this.innerHTML}}),Mb=function(ZL,ew){for(var tw={},aw=0;aw<ZL.length&&!((tw=Object.getOwnPropertyDescriptor(ZL[aw],ew))&&tw.set&&tw.get);aw++);return tw.enumerable=!0,tw.configurable=!0,tw},Bb=function(ZL){var ew=ZL.el();if(!ew.resetSourceWatch_){var tw={},aw=Mb([ZL.el(),pg.HTMLMediaElement.prototype,pg.Element.prototype,Ub],"innerHTML"),rw=function(nw){return function(){for(var ow=arguments.length,sw=Array(ow),iw=0;iw<ow;iw++)sw[iw]=arguments[iw];var lw=nw.apply(ew,sw);return Rb(ZL),lw}};["append","appendChild","insertAdjacentHTML"].forEach(function(nw){ew[nw]&&(tw[nw]=ew[nw],ew[nw]=rw(tw[nw]))}),Object.defineProperty(ew,"innerHTML",km(aw,{set:rw(aw.set)})),ew.resetSourceWatch_=function(){ew.resetSourceWatch_=null,Object.keys(tw).forEach(function(nw){ew[nw]=tw[nw]}),Object.defineProperty(ew,"innerHTML",aw)},ZL.one("sourceset",ew.resetSourceWatch_)}},Nb=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?rf(pg.Element.prototype.getAttribute.call(this,"src")):""},set:function(ZL){return pg.Element.prototype.setAttribute.call(this,"src",ZL),ZL}}),Fb=function(ZL){if(ZL.featuresSourceset){var ew=ZL.el();if(!ew.resetSourceset_){var tw=Mb([ZL.el(),pg.HTMLMediaElement.prototype,Nb],"src"),aw=ew.setAttribute,rw=ew.load;Object.defineProperty(ew,"src",km(tw,{set:function(nw){var ow=tw.set.call(ew,nw);return ZL.triggerSourceset(ew.src),ow}})),ew.setAttribute=function(nw,ow){var sw=aw.call(ew,nw,ow);return /src/i.test(nw)&&ZL.triggerSourceset(ew.src),sw},ew.load=function(){var nw=rw.call(ew);return Rb(ZL)||(ZL.triggerSourceset(""),Bb(ZL)),nw},ew.currentSrc?ZL.triggerSourceset(ew.currentSrc):Rb(ZL)||Bb(ZL),ew.resetSourceset_=function(){ew.resetSourceset_=null,ew.load=rw,ew.setAttribute=aw,Object.defineProperty(ew,"src",tw),ew.resetSourceWatch_&&ew.resetSourceWatch_()}}}},jb=Pg(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Hb=function(ZL){function ew(tw,aw){kg(this,ew);var rw=Eg(this,ZL.call(this,tw,aw)),nw=tw.source,ow=!1;if(nw&&(rw.el_.currentSrc!==nw.src||tw.tag&&3===tw.tag.initNetworkState_)?rw.setSource(nw):rw.handleLateInit_(rw.el_),tw.enableSourceset&&rw.setupSourcesetHandling_(),rw.el_.hasChildNodes()){for(var sw=rw.el_.childNodes,iw=sw.length,lw=[],dw;iw--;)dw=sw[iw],"track"===dw.nodeName.toLowerCase()&&(rw.featuresNativeTextTracks?(rw.remoteTextTrackEls().addTrackElement_(dw),rw.remoteTextTracks().addTrack(dw.track),rw.textTracks().addTrack(dw.track),ow||rw.el_.hasAttribute("crossorigin")||!of(dw.src)||(ow=!0)):lw.push(dw));for(var pw=0;pw<lw.length;pw++)rw.el_.removeChild(lw[pw])}return rw.proxyNativeTracks_(),rw.featuresNativeTextTracks&&ow&&Tg.warn(Sg(jb)),rw.restoreMetadataTracksInIOSNativePlayer_(),(Ly||my||by)&&!0===tw.nativeControlsForTouch&&rw.setControls(!0),rw.proxyWebkitFullscreen_(),rw.triggerReady(),rw}return Cg(ew,ZL),ew.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),ew.disposeMediaElement(this.el_),this.options_=null,ZL.prototype.dispose.call(this)},ew.prototype.setupSourcesetHandling_=function(){Fb(this)},ew.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var tw=this.textTracks(),aw,rw=function(){aw=[];for(var ow=0,sw;ow<tw.length;ow++)sw=tw[ow],"metadata"===sw.kind&&aw.push({track:sw,storedMode:sw.mode})};rw(),tw.addEventListener("change",rw),this.on("dispose",function(){return tw.removeEventListener("change",rw)});var nw=function ow(){for(var sw=0,iw;sw<aw.length;sw++)iw=aw[sw],"disabled"===iw.track.mode&&iw.track.mode!==iw.storedMode&&(iw.track.mode=iw.storedMode);tw.removeEventListener("change",ow)};this.on("webkitbeginfullscreen",function(){tw.removeEventListener("change",rw),tw.removeEventListener("change",nw),tw.addEventListener("change",nw)}),this.on("webkitendfullscreen",function(){tw.removeEventListener("change",rw),tw.addEventListener("change",rw),tw.removeEventListener("change",nw)})},ew.prototype.overrideNative_=function(tw,aw){var rw=this;if(aw===this["featuresNative"+tw+"Tracks"]){var nw=tw.toLowerCase();this[nw+"TracksListeners_"]&&Object.keys(this[nw+"TracksListeners_"]).forEach(function(ow){rw.el()[nw+"Tracks"].removeEventListener(ow,rw[nw+"TracksListeners_"][ow])}),this["featuresNative"+tw+"Tracks"]=!aw,this[nw+"TracksListeners_"]=null,this.proxyNativeTracksForType_(nw)}},ew.prototype.overrideNativeAudioTracks=function(tw){this.overrideNative_("Audio",tw)},ew.prototype.overrideNativeVideoTracks=function(tw){this.overrideNative_("Video",tw)},ew.prototype.proxyNativeTracksForType_=function(tw){var aw=this,rw=Nf[tw],nw=this.el()[rw.getterName],ow=this[rw.getterName]();if(this["featuresNative"+rw.capitalName+"Tracks"]&&nw&&nw.addEventListener){var sw={change:function(){ow.trigger({type:"change",target:ow,currentTarget:ow,srcElement:ow})},addtrack:function(lw){ow.addTrack(lw.track)},removetrack:function(lw){ow.removeTrack(lw.track)}},iw=function(){for(var lw=[],dw=0;dw<ow.length;dw++){for(var pw=!1,uw=0;uw<nw.length;uw++)if(nw[uw]===ow[dw]){pw=!0;break}pw||lw.push(ow[dw])}for(;lw.length;)ow.removeTrack(lw.shift())};this[rw.getterName+"Listeners_"]=sw,Object.keys(sw).forEach(function(lw){var dw=sw[lw];nw.addEventListener(lw,dw),aw.on("dispose",function(){return nw.removeEventListener(lw,dw)})}),this.on("loadstart",iw),this.on("dispose",function(){return aw.off("loadstart",iw)})}},ew.prototype.proxyNativeTracks_=function(){var tw=this;Nf.names.forEach(function(aw){tw.proxyNativeTracksForType_(aw)})},ew.prototype.createEl=function(){var tw=this.options_.tag;if(!tw||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(tw){var aw=tw.cloneNode(!0);tw.parentNode&&tw.parentNode.insertBefore(aw,tw),ew.disposeMediaElement(tw),tw=aw}else{tw=hg.createElement("video");var rw=km({},this.options_.tag&&Yp(this.options_.tag));Ly&&!0===this.options_.nativeControlsForTouch||delete rw.controls,Gp(tw,xp(rw,{id:this.options_.techId,class:"vjs-tech"}))}tw.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&Kp(tw,"preload",this.options_.preload);for(var nw=["loop","muted","playsinline","autoplay"],ow=0;ow<nw.length;ow++){var sw=nw[ow],iw=this.options_[sw];"undefined"!=typeof iw&&(iw?Kp(tw,sw,sw):$p(tw,sw),tw[sw]=iw)}return tw},ew.prototype.handleLateInit_=function(tw){if(0!==tw.networkState&&3!==tw.networkState){if(0===tw.readyState){var aw=!1,rw=function(){aw=!0};this.on("loadstart",rw);var nw=function(){aw||this.trigger("loadstart")};return this.on("loadedmetadata",nw),void this.ready(function(){this.off("loadstart",rw),this.off("loadedmetadata",nw),aw||this.trigger("loadstart")})}var ow=["loadstart"];ow.push("loadedmetadata"),2<=tw.readyState&&ow.push("loadeddata"),3<=tw.readyState&&ow.push("canplay"),4<=tw.readyState&&ow.push("canplaythrough"),this.ready(function(){ow.forEach(function(sw){this.trigger(sw)},this)})}},ew.prototype.setCurrentTime=function(tw){try{this.el_.currentTime=tw}catch(aw){Tg(aw,"Video is not ready. (Video.js)")}},ew.prototype.duration=function(){var tw=this;return this.el_.duration===1/0&&fy&&vy&&0===this.el_.currentTime?(this.on("timeupdate",function aw(){0<tw.el_.currentTime&&(tw.el_.duration===1/0&&tw.trigger("durationchange"),tw.off("timeupdate",aw))}),NaN):this.el_.duration||NaN},ew.prototype.width=function(){return this.el_.offsetWidth},ew.prototype.height=function(){return this.el_.offsetHeight},ew.prototype.proxyWebkitFullscreen_=function(){var tw=this;if("webkitDisplayingFullscreen"in this.el_){var aw=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},rw=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",aw),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",rw),this.on("dispose",function(){tw.off("webkitbeginfullscreen",rw),tw.off("webkitendfullscreen",aw)})}},ew.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var tw=pg.navigator&&pg.navigator.userAgent||"";if(/Android/.test(tw)||!/Chrome|Mac OS X 10.5/.test(tw))return!0}return!1},ew.prototype.enterFullScreen=function(){var tw=this.el_;tw.paused&&tw.networkState<=tw.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){tw.pause(),tw.webkitEnterFullScreen()},0)):tw.webkitEnterFullScreen()},ew.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},ew.prototype.src=function(tw){return void 0===tw?this.el_.src:void this.setSrc(tw)},ew.prototype.reset=function(){ew.resetMediaElement(this.el_)},ew.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},ew.prototype.setControls=function(tw){this.el_.controls=!!tw},ew.prototype.addTextTrack=function(tw,aw,rw){return this.featuresNativeTextTracks?this.el_.addTextTrack(tw,aw,rw):ZL.prototype.addTextTrack.call(this,tw,aw,rw)},ew.prototype.createRemoteTextTrack=function(tw){if(!this.featuresNativeTextTracks)return ZL.prototype.createRemoteTextTrack.call(this,tw);var aw=hg.createElement("track");return tw.kind&&(aw.kind=tw.kind),tw.label&&(aw.label=tw.label),(tw.language||tw.srclang)&&(aw.srclang=tw.language||tw.srclang),tw.default&&(aw.default=tw.default),tw.id&&(aw.id=tw.id),tw.src&&(aw.src=tw.src),aw},ew.prototype.addRemoteTextTrack=function(tw,aw){var rw=ZL.prototype.addRemoteTextTrack.call(this,tw,aw);return this.featuresNativeTextTracks&&this.el().appendChild(rw),rw},ew.prototype.removeRemoteTextTrack=function(tw){if(ZL.prototype.removeRemoteTextTrack.call(this,tw),this.featuresNativeTextTracks)for(var aw=this.$$("track"),rw=aw.length;rw--;)tw!==aw[rw]&&tw!==aw[rw].track||this.el().removeChild(aw[rw])},ew.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var tw={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(tw.droppedVideoFrames=this.el().webkitDroppedFrameCount,tw.totalVideoFrames=this.el().webkitDecodedFrameCount),pg.performance&&"function"==typeof pg.performance.now?tw.creationTime=pg.performance.now():pg.performance&&pg.performance.timing&&"number"==typeof pg.performance.timing.navigationStart&&(tw.creationTime=pg.Date.now()-pg.performance.timing.navigationStart),tw},ew}(i_);if(Up()){Hb.TEST_VID=hg.createElement("video");var Vb=hg.createElement("track");Vb.kind="captions",Vb.srclang="en",Vb.label="English",Hb.TEST_VID.appendChild(Vb)}Hb.isSupported=function(){try{Hb.TEST_VID.volume=.5}catch(ZL){return!1}return Hb.TEST_VID&&Hb.TEST_VID.canPlayType},Hb.canPlayType=function(ZL){return Hb.TEST_VID.canPlayType(ZL)},Hb.canPlaySource=function(ZL){return Hb.canPlayType(ZL.type)},Hb.canControlVolume=function(){try{var ZL=Hb.TEST_VID.volume;return Hb.TEST_VID.volume=ZL/2+.1,ZL!==Hb.TEST_VID.volume}catch(ew){return!1}},Hb.canMuteVolume=function(){try{var ZL=Hb.TEST_VID.muted;return Hb.TEST_VID.muted=!ZL,Hb.TEST_VID.muted?Kp(Hb.TEST_VID,"muted","muted"):$p(Hb.TEST_VID,"muted"),ZL!==Hb.TEST_VID.muted}catch(ew){return!1}},Hb.canControlPlaybackRate=function(){if(fy&&vy&&58>ky)return!1;try{var ZL=Hb.TEST_VID.playbackRate;return Hb.TEST_VID.playbackRate=ZL/2+.1,ZL!==Hb.TEST_VID.playbackRate}catch(ew){return!1}},Hb.canOverrideAttributes=function(){try{var ZL=function(){};Object.defineProperty(hg.createElement("video"),"src",{get:ZL,set:ZL}),Object.defineProperty(hg.createElement("audio"),"src",{get:ZL,set:ZL}),Object.defineProperty(hg.createElement("video"),"innerHTML",{get:ZL,set:ZL}),Object.defineProperty(hg.createElement("audio"),"innerHTML",{get:ZL,set:ZL})}catch(ew){return!1}return!0},Hb.supportsNativeTextTracks=function(){return Py||hy&&vy},Hb.supportsNativeVideoTracks=function(){return Hb.TEST_VID&&Hb.TEST_VID.videoTracks},Hb.supportsNativeAudioTracks=function(){return Hb.TEST_VID&&Hb.TEST_VID.audioTracks},Hb.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Hb.prototype.featuresVolumeControl=Hb.canControlVolume(),Hb.prototype.featuresMuteControl=Hb.canMuteVolume(),Hb.prototype.featuresPlaybackRate=Hb.canControlPlaybackRate(),Hb.prototype.featuresSourceset=Hb.canOverrideAttributes(),Hb.prototype.movingMediaElementInDOM=!hy,Hb.prototype.featuresFullscreenResize=!0,Hb.prototype.featuresProgressEvents=!0,Hb.prototype.featuresTimeupdateEvents=!0,Hb.prototype.featuresNativeTextTracks=Hb.supportsNativeTextTracks(),Hb.prototype.featuresNativeVideoTracks=Hb.supportsNativeVideoTracks(),Hb.prototype.featuresNativeAudioTracks=Hb.supportsNativeAudioTracks();var zb=Hb.TEST_VID&&Hb.TEST_VID.constructor.prototype.canPlayType,qb=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;Hb.patchCanPlayType=function(){!(4<=_y)||Ty||vy||(Hb.TEST_VID.constructor.prototype.canPlayType=function(ZL){return ZL&&qb.test(ZL)?"maybe":zb.call(this,ZL)})},Hb.unpatchCanPlayType=function(){var ZL=Hb.TEST_VID.constructor.prototype.canPlayType;return Hb.TEST_VID.constructor.prototype.canPlayType=zb,ZL},Hb.patchCanPlayType(),Hb.disposeMediaElement=function(ZL){if(ZL){for(ZL.parentNode&&ZL.parentNode.removeChild(ZL);ZL.hasChildNodes();)ZL.removeChild(ZL.firstChild);ZL.removeAttribute("src"),"function"==typeof ZL.load&&function(){try{ZL.load()}catch(ew){}}()}},Hb.resetMediaElement=function(ZL){if(ZL){for(var ew=ZL.querySelectorAll("source"),tw=ew.length;tw--;)ZL.removeChild(ew[tw]);ZL.removeAttribute("src"),"function"==typeof ZL.load&&function(){try{ZL.load()}catch(aw){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(ZL){Hb.prototype[ZL]=function(){return this.el_[ZL]||this.el_.hasAttribute(ZL)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(ZL){Hb.prototype["set"+vm(ZL)]=function(ew){(this.el_[ZL]=ew)?this.el_.setAttribute(ZL,ZL):this.el_.removeAttribute(ZL)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(ZL){Hb.prototype[ZL]=function(){return this.el_[ZL]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(ZL){Hb.prototype["set"+vm(ZL)]=function(ew){this.el_[ZL]=ew}}),["pause","load","play"].forEach(function(ZL){Hb.prototype[ZL]=function(){return this.el_[ZL]()}}),i_.withSourceHandlers(Hb),Hb.nativeSourceHandler={},Hb.nativeSourceHandler.canPlayType=function(ZL){try{return Hb.TEST_VID.canPlayType(ZL)}catch(ew){return""}},Hb.nativeSourceHandler.canHandleSource=function(ZL){if(ZL.type)return Hb.nativeSourceHandler.canPlayType(ZL.type);if(ZL.src){var tw=nf(ZL.src);return Hb.nativeSourceHandler.canPlayType("video/"+tw)}return""},Hb.nativeSourceHandler.handleSource=function(ZL,ew){ew.setSrc(ZL.src)},Hb.nativeSourceHandler.dispose=function(){},Hb.registerSourceHandler(Hb.nativeSourceHandler),i_.registerTech("Html5",Hb);var Wb=Pg(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Gb=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Yb={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Xb=function(ZL){function ew(tw,aw,rw){if(kg(this,ew),tw.id=tw.id||aw.id||"vjs_video_"+lm(),(aw=xp(ew.getTagSettings(tw),aw)).initChildren=!1,aw.createEl=!1,aw.evented=!1,aw.reportTouchActivity=!1,!aw.language)if("function"==typeof tw.closest){var nw=tw.closest("[lang]");nw&&nw.getAttribute&&(aw.language=nw.getAttribute("lang"))}else for(var ow=tw;ow&&1===ow.nodeType;){if(Yp(ow).hasOwnProperty("lang")){aw.language=ow.getAttribute("lang");break}ow=ow.parentNode}var sw=Eg(this,ZL.call(this,null,aw,rw));if(sw.isPosterFromTech_=!1,sw.queuedCallbacks_=[],sw.isReady_=!1,sw.hasStarted_=!1,sw.userActive_=!1,!sw.options_||!sw.options_.techOrder||!sw.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(sw.tag=tw,sw.tagAttributes=tw&&Yp(tw),sw.language(sw.options_.language),aw.languages){var iw={};Object.getOwnPropertyNames(aw.languages).forEach(function(uw){iw[uw.toLowerCase()]=aw.languages[uw]}),sw.languages_=iw}else sw.languages_=ew.prototype.options_.languages;sw.cache_={},sw.poster_=aw.poster||"",sw.controls_=!!aw.controls,sw.cache_.lastVolume=1,tw.controls=!1,tw.removeAttribute("controls"),tw.hasAttribute("autoplay")?sw.options_.autoplay=!0:sw.autoplay(sw.options_.autoplay),sw.scrubbing_=!1,sw.el_=sw.createEl(),sw.cache_.lastPlaybackRate=sw.defaultPlaybackRate(),Tm(sw,{eventBusKey:"el_"});var lw=km(sw.options_);if(aw.plugins){var dw=aw.plugins;Object.keys(dw).forEach(function(uw){if("function"!=typeof this[uw])throw new Error("plugin \""+uw+"\" does not exist");this[uw](dw[uw])},sw)}sw.options_.playerOptions=lw,sw.middleware_=[],sw.initChildren(),sw.isAudio("audio"===tw.nodeName.toLowerCase()),sw.controls()?sw.addClass("vjs-controls-enabled"):sw.addClass("vjs-controls-disabled"),sw.el_.setAttribute("role","region"),sw.isAudio()?sw.el_.setAttribute("aria-label",sw.localize("Audio Player")):sw.el_.setAttribute("aria-label",sw.localize("Video Player")),sw.isAudio()&&sw.addClass("vjs-audio"),sw.flexNotSupported_()&&sw.addClass("vjs-no-flex"),hy||sw.addClass("vjs-workinghover"),ew.players[sw.id_]=sw;var pw=ig.split(".")[0];return sw.addClass("vjs-v"+pw),sw.userActive(!0),sw.reportUserActivity(),sw.one("play",sw.listenForUserActivity_),sw.on("fullscreenchange",sw.handleFullscreenChange_),sw.on("stageclick",sw.handleStageClick_),sw.changingSrc_=!1,sw.playWaitingForReady_=!1,sw.playOnLoadstart_=null,sw}return Cg(ew,ZL),ew.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),ew.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),d_[this.id()]=null,ZL.prototype.dispose.call(this)},ew.prototype.createEl=function(){var tw=this.tag,aw,rw=this.playerElIngest_=tw.parentNode&&tw.parentNode.hasAttribute&&tw.parentNode.hasAttribute("data-vjs-player"),nw="video-js"===this.tag.tagName.toLowerCase();rw?aw=this.el_=tw.parentNode:nw||(aw=this.el_=ZL.prototype.createEl.call(this,"div"));var ow=Yp(tw);if(nw){for(aw=this.el_=tw,tw=this.tag=hg.createElement("video");aw.children.length;)tw.appendChild(aw.firstChild);Vp(aw,"video-js")||zp(aw,"video-js"),aw.appendChild(tw),rw=this.playerElIngest_=aw,Object.keys(aw).forEach(function(uw){tw[uw]=aw[uw]})}if(tw.setAttribute("tabindex","-1"),Cy&&tw.setAttribute("role","application"),tw.removeAttribute("width"),tw.removeAttribute("height"),Object.getOwnPropertyNames(ow).forEach(function(uw){nw&&"class"===uw||aw.setAttribute(uw,ow[uw]),nw&&tw.setAttribute(uw,ow[uw])}),tw.playerId=tw.id,tw.id+="_html5_api",tw.className="vjs-tech",tw.player=aw.player=this,this.addClass("vjs-paused"),!0!==pg.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Vg("vjs-styles-dimensions");var sw=Ag(".vjs-styles-defaults"),iw=Ag("head");iw.insertBefore(this.styleEl_,sw?sw.nextSibling:iw.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var lw=tw.getElementsByTagName("a"),dw=0,pw;dw<lw.length;dw++)pw=lw.item(dw),zp(pw,"vjs-hidden"),pw.setAttribute("hidden","hidden");return tw.initNetworkState_=tw.networkState,tw.parentNode&&!rw&&tw.parentNode.insertBefore(aw,tw),Hp(tw,aw),this.children_.unshift(tw),this.el_.setAttribute("lang",this.language_),this.el_=aw},ew.prototype.width=function(tw){return this.dimension("width",tw)},ew.prototype.height=function(tw){return this.dimension("height",tw)},ew.prototype.dimension=function(tw,aw){var rw=tw+"_";if(void 0===aw)return this[rw]||0;if(""===aw)return this[rw]=void 0,void this.updateStyleEl_();var nw=parseFloat(aw);isNaN(nw)?Tg.error("Improper value \""+aw+"\" supplied for for "+tw):(this[rw]=nw,this.updateStyleEl_())},ew.prototype.fluid=function(tw){return void 0===tw?!!this.fluid_:void(this.fluid_=!!tw,tw?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_())},ew.prototype.aspectRatio=function(tw){if(void 0===tw)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(tw))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=tw,this.fluid(!0),this.updateStyleEl_()},ew.prototype.updateStyleEl_=function(){if(!0!==pg.VIDEOJS_NO_DYNAMIC_STYLE){var tw,aw,rw,nw=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),ow=nw[1]/nw[0];tw=void 0===this.width_?void 0===this.height_?this.videoWidth()||300:this.height_/ow:this.width_,aw=void 0===this.height_?tw*ow:this.height_,rw=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(rw),zg(this.styleEl_,"\n      ."+rw+" {\n        width: "+tw+"px;\n        height: "+aw+"px;\n      }\n\n      ."+rw+".vjs-fluid {\n        padding-top: "+100*ow+"%;\n      }\n    ")}else{var sw="number"==typeof this.width_?this.width_:this.options_.width,iw="number"==typeof this.height_?this.height_:this.options_.height,lw=this.tech_&&this.tech_.el();lw&&(0<=sw&&(lw.width=sw),0<=iw&&(lw.height=iw))}},ew.prototype.loadTech_=function(tw,aw){var rw=this;this.tech_&&this.unloadTech_();var nw=vm(tw),ow=tw.charAt(0).toLowerCase()+tw.slice(1);"Html5"!==nw&&this.tag&&(i_.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=nw,this.isReady_=!1;var sw={source:aw,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+nw+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};jf.names.forEach(function(lw){var dw=jf[lw];sw[dw.getterName]=rw[dw.privateName]}),xp(sw,this.options_[nw]),xp(sw,this.options_[ow]),xp(sw,this.options_[tw.toLowerCase()]),this.tag&&(sw.tag=this.tag),aw&&aw.src===this.cache_.src&&0<this.cache_.currentTime&&(sw.startTime=this.cache_.currentTime);var iw=i_.getTech(tw);if(!iw)throw new Error("No Tech named '"+nw+"' exists! '"+nw+"' should be registered using videojs.registerTech()'");this.tech_=new iw(sw),this.tech_.ready(qg(this,this.handleTechReady_),!0),Fy(this.textTracksJson_||[],this.tech_),Gb.forEach(function(lw){rw.on(rw.tech_,lw,rw["handleTech"+vm(lw)+"_"])}),Object.keys(Yb).forEach(function(lw){rw.on(rw.tech_,lw,function(dw){0===rw.tech_.playbackRate()&&rw.tech_.seeking()?rw.queuedCallbacks_.push({callback:rw["handleTech"+Yb[lw]+"_"].bind(rw),event:dw}):rw["handleTech"+Yb[lw]+"_"](dw)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===nw&&this.tag||Hp(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},ew.prototype.unloadTech_=function(){var tw=this;jf.names.forEach(function(aw){var rw=jf[aw];tw[rw.privateName]=tw[rw.getterName]()}),this.textTracksJson_=Ny(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},ew.prototype.tech=function(tw){return void 0===tw&&Tg.warn(Sg(Wb)),this.tech_},ew.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},ew.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},ew.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},ew.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},ew.prototype.manualAutoplay_=function(tw){var aw=this;if(this.tech_&&"string"==typeof tw){var rw=function(){var ow=aw.muted();aw.muted(!0);var sw=aw.play();if(sw&&sw.then&&sw.catch)return sw.catch(function(){aw.muted(ow)})},nw;if("any"===tw?(nw=this.play())&&nw.then&&nw.catch&&nw.catch(function(){return rw()}):nw="muted"===tw?rw():this.play(),nw&&nw.then&&nw.catch)return nw.then(function(){aw.trigger({type:"autoplay-success",autoplay:tw})}).catch(function(){aw.trigger({type:"autoplay-failure",autoplay:tw})})}},ew.prototype.updateSourceCaches_=function(){var tw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",aw=tw,rw="";if("string"!=typeof aw&&(aw=tw.src,rw=tw.type),!/^blob:/.test(aw)){this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],aw&&!rw&&(rw=function(pw,uw){if(!uw)return"";if(pw.cache_.source.src===uw&&pw.cache_.source.type)return pw.cache_.source.type;var cw=pw.cache_.sources.filter(function(yw){return yw.src===uw});if(cw.length)return cw[0].type;for(var mw=pw.$$("source"),gw=0,hw;gw<mw.length;gw++)if(hw=mw[gw],hw.type&&hw.src&&hw.src===uw)return hw.type;return h_(uw)}(this,aw)),this.cache_.source=km({},tw,{src:aw,type:rw});for(var nw=this.cache_.sources.filter(function(pw){return pw.src&&pw.src===aw}),ow=[],sw=this.$$("source"),iw=[],lw=0,dw;lw<sw.length;lw++)dw=Yp(sw[lw]),ow.push(dw),dw.src&&dw.src===aw&&iw.push(dw.src);iw.length&&!nw.length?this.cache_.sources=ow:nw.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=aw}},ew.prototype.handleTechSourceset_=function(tw){var aw=this;!this.changingSrc_&&(this.updateSourceCaches_(tw.src),!tw.src)&&this.tech_.one(["sourceset","loadstart"],function rw(nw){"sourceset"!==nw.type&&aw.updateSourceCaches_(aw.techGet_("currentSrc")),aw.tech_.off(["sourceset","loadstart"],rw)}),this.trigger({src:tw.src,type:"sourceset"})},ew.prototype.hasStarted=function(tw){return void 0===tw?this.hasStarted_:void(tw!==this.hasStarted_&&(this.hasStarted_=tw,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")))},ew.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},ew.prototype.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(tw){return tw.callback(tw.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},ew.prototype.handleTechWaiting_=function(){var tw=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return tw.removeClass("vjs-waiting")})},ew.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},ew.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},ew.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},ew.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},ew.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},ew.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(Tg.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},ew.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},ew.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},ew.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},ew.prototype.handleTechClick_=function(tw){im(tw)&&this.controls_&&(this.paused()?Am(this.play()):this.pause())},ew.prototype.handleTechDoubleClick_=function(tw){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(aw){return aw.contains(tw.target)})||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},ew.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},ew.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},ew.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},ew.prototype.handleTechTouchEnd_=function(tw){tw.preventDefault()},ew.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},ew.prototype.handleStageClick_=function(){this.reportUserActivity()},ew.prototype.handleTechFullscreenChange_=function(tw,aw){aw&&this.isFullscreen(aw.isFullscreen),this.trigger("fullscreenchange")},ew.prototype.handleTechError_=function(){var tw=this.tech_.error();this.error(tw)},ew.prototype.handleTechTextData_=function(){var tw=null;1<arguments.length&&(tw=arguments[1]),this.trigger("textdata",tw)},ew.prototype.getCache=function(){return this.cache_},ew.prototype.techCall_=function(tw,aw){this.ready(function(){if(tw in c_)return rw=this.middleware_,nw=this.tech_,sw=aw,nw[ow=tw](rw.reduce(Qm(ow),sw));if(tw in m_)return $m(this.middleware_,this.tech_,tw,aw);var rw,nw,ow,sw;try{this.tech_&&this.tech_[tw](aw)}catch(iw){throw Tg(iw),iw}},!0)},ew.prototype.techGet_=function(tw){if(this.tech_&&this.tech_.isReady_){if(tw in u_)return aw=this.middleware_,rw=this.tech_,nw=tw,aw.reduceRight(Qm(nw),rw[nw]());if(tw in m_)return $m(this.middleware_,this.tech_,tw);var aw,rw,nw;try{return this.tech_[tw]()}catch(ow){if(void 0===this.tech_[tw])throw Tg("Video.js: "+tw+" method not defined for "+this.techName_+" playback technology.",ow),ow;if("TypeError"===ow.name)throw Tg("Video.js: "+tw+" unavailable on "+this.techName_+" playback technology element.",ow),this.tech_.isReady_=!1,ow;throw Tg(ow),ow}}},ew.prototype.play=function(){var tw=this,aw=this.options_.Promise||pg.Promise;return aw?new aw(function(rw){tw.play_(rw)}):this.play_()},ew.prototype.play_=function(){var tw=this,aw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Am;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void aw(this.techGet_("play"));this.playOnLoadstart_=function(){tw.playOnLoadstart_=null,aw(tw.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){tw.playWaitingForReady_=!1,aw(tw.play())})}},ew.prototype.pause=function(){this.techCall_("pause")},ew.prototype.paused=function(){return!1!==this.techGet_("paused")},ew.prototype.played=function(){return this.techGet_("played")||Pm(0,0)},ew.prototype.scrubbing=function(tw){return"undefined"==typeof tw?this.scrubbing_:void(this.scrubbing_=!!tw,tw?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"))},ew.prototype.currentTime=function(tw){return"undefined"==typeof tw?(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime):(0>tw&&(tw=0),void this.techCall_("setCurrentTime",tw))},ew.prototype.duration=function(tw){return void 0===tw?void 0===this.cache_.duration?NaN:this.cache_.duration:void(0>(tw=parseFloat(tw))&&(tw=1/0),tw!==this.cache_.duration&&((this.cache_.duration=tw)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")))},ew.prototype.remainingTime=function(){return this.duration()-this.currentTime()},ew.prototype.remainingTimeDisplay=function(){return _Mathfloor(this.duration())-_Mathfloor(this.currentTime())},ew.prototype.buffered=function(){var tw=this.techGet_("buffered");return tw&&tw.length||(tw=Pm(0,0)),tw},ew.prototype.bufferedPercent=function(){return Lm(this.buffered(),this.duration())},ew.prototype.bufferedEnd=function(){var tw=this.buffered(),aw=this.duration(),rw=tw.end(tw.length-1);return aw<rw&&(rw=aw),rw},ew.prototype.volume=function(tw){var aw;return void 0===tw?(aw=parseFloat(this.techGet_("volume")),isNaN(aw)?1:aw):(aw=_Mathmax(0,_Mathmin(1,parseFloat(tw))),this.cache_.volume=aw,this.techCall_("setVolume",aw),void(0<aw&&this.lastVolume_(aw)))},ew.prototype.muted=function(tw){return void 0===tw?this.techGet_("muted")||!1:void this.techCall_("setMuted",tw)},ew.prototype.defaultMuted=function(tw){return void 0===tw?this.techGet_("defaultMuted")||!1:this.techCall_("setDefaultMuted",tw)},ew.prototype.lastVolume_=function(tw){return void 0===tw||0===tw?this.cache_.lastVolume:void(this.cache_.lastVolume=tw)},ew.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},ew.prototype.isFullscreen=function(tw){return void 0===tw?!!this.isFullscreen_:void(this.isFullscreen_=!!tw)},ew.prototype.requestFullscreen=function(){var tw=xy;this.isFullscreen(!0),tw.requestFullscreen?(hm(hg,tw.fullscreenchange,qg(this,function aw(){this.isFullscreen(hg[tw.fullscreenElement]),!1===this.isFullscreen()&&ym(hg,tw.fullscreenchange,aw),this.trigger("fullscreenchange")})),this.el_[tw.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},ew.prototype.exitFullscreen=function(){var tw=xy;this.isFullscreen(!1),tw.requestFullscreen?hg[tw.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},ew.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=hg.documentElement.style.overflow,hm(hg,"keydown",qg(this,this.fullWindowOnEscKey)),hg.documentElement.style.overflow="hidden",zp(hg.body,"vjs-full-window"),this.trigger("enterFullWindow")},ew.prototype.fullWindowOnEscKey=function(tw){27===tw.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},ew.prototype.exitFullWindow=function(){this.isFullWindow=!1,ym(hg,"keydown",this.fullWindowOnEscKey),hg.documentElement.style.overflow=this.docOrigOverflow,qp(hg.body,"vjs-full-window"),this.trigger("exitFullWindow")},ew.prototype.canPlayType=function(tw){for(var aw=void 0,rw=0,nw=this.options_.techOrder;rw<nw.length;rw++){var ow=nw[rw],sw=i_.getTech(ow);if(!(sw||(sw=ny.getComponent(ow)),sw))Tg.error("The \""+ow+"\" tech is undefined. Skipped browser support check for that tech.");else if(sw.isSupported()&&(aw=sw.canPlayType(tw)))return aw}return""},ew.prototype.selectSource=function(tw){var rw=this,nw=this.options_.techOrder.map(function(iw){return[iw,i_.getTech(iw)]}).filter(function(iw){var lw=iw[0],dw=iw[1];return dw?dw.isSupported():(Tg.error("The \""+lw+"\" tech is undefined. Skipped browser support check for that tech."),!1)}),ow=function(iw,lw,dw){var pw;return iw.some(function(uw){return lw.some(function(cw){if(pw=dw(uw,cw))return!0})}),pw},sw=function(iw,lw){var dw=iw[0];if(iw[1].canPlaySource(lw,rw.options_[dw.toLowerCase()]))return{source:lw,tech:dw}},aw;return(this.options_.sourceOrder?ow(tw,nw,(aw=sw,function(iw,lw){return aw(lw,iw)})):ow(nw,tw,sw))||!1},ew.prototype.src=function(tw){var aw=this;if("undefined"==typeof tw)return this.cache_.src||"";var rw=function nw(ow){if(Array.isArray(ow)){var sw=[];ow.forEach(function(iw){iw=nw(iw),Array.isArray(iw)?sw=sw.concat(iw):Ap(iw)&&sw.push(iw)}),ow=sw}else ow="string"==typeof ow&&ow.trim()?[Jm({src:ow})]:Ap(ow)&&"string"==typeof ow.src&&ow.src&&ow.src.trim()?[Jm(ow)]:[];return ow}(tw);rw.length?(this.changingSrc_=!0,this.cache_.sources=rw,this.updateSourceCaches_(rw[0]),Km(this,rw[0],function(nw,ow){var sw,iw;return(aw.middleware_=ow,aw.cache_.sources=rw,aw.updateSourceCaches_(nw),aw.src_(nw))?1<rw.length?aw.src(rw.slice(1)):(aw.changingSrc_=!1,aw.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void aw.triggerReady()):void(sw=ow,iw=aw.tech_,sw.forEach(function(lw){return lw.setTech&&lw.setTech(iw)}))})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},ew.prototype.src_=function(tw){var nw=this,ow=this.selectSource([tw]),aw,rw;return!ow||(aw=ow.tech,rw=this.techName_,vm(aw)===vm(rw)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",tw):this.techCall_("src",tw.src),this.changingSrc_=!1},!0):(this.changingSrc_=!0,this.loadTech_(ow.tech,ow.source),this.tech_.ready(function(){nw.changingSrc_=!1})),!1)},ew.prototype.load=function(){this.techCall_("load")},ew.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},ew.prototype.currentSources=function(){var tw=this.currentSource(),aw=[];return 0!==Object.keys(tw).length&&aw.push(tw),this.cache_.sources||aw},ew.prototype.currentSource=function(){return this.cache_.source||{}},ew.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},ew.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},ew.prototype.preload=function(tw){return void 0===tw?this.techGet_("preload"):(this.techCall_("setPreload",tw),void(this.options_.preload=tw))},ew.prototype.autoplay=function(tw){if(void 0===tw)return this.options_.autoplay||!1;var aw;"string"==typeof tw&&/(any|play|muted)/.test(tw)?(this.options_.autoplay=tw,this.manualAutoplay_(tw),aw=!1):this.options_.autoplay=!!tw,aw=aw||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",aw)},ew.prototype.playsinline=function(tw){return void 0===tw?this.techGet_("playsinline"):(this.techCall_("setPlaysinline",tw),this.options_.playsinline=tw,this)},ew.prototype.loop=function(tw){return void 0===tw?this.techGet_("loop"):(this.techCall_("setLoop",tw),void(this.options_.loop=tw))},ew.prototype.poster=function(tw){return void 0===tw?this.poster_:void(tw||(tw=""),tw!==this.poster_&&(this.poster_=tw,this.techCall_("setPoster",tw),this.isPosterFromTech_=!1,this.trigger("posterchange")))},ew.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var tw=this.tech_.poster()||"";tw!==this.poster_&&(this.poster_=tw,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},ew.prototype.controls=function(tw){return void 0===tw?!!this.controls_:void(tw=!!tw,this.controls_!==tw&&(this.controls_=tw,this.usingNativeControls()&&this.techCall_("setControls",tw),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())))},ew.prototype.usingNativeControls=function(tw){return void 0===tw?!!this.usingNativeControls_:void(tw=!!tw,this.usingNativeControls_!==tw&&(this.usingNativeControls_=tw,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))))},ew.prototype.error=function(tw){return void 0===tw?this.error_||null:null===tw?(this.error_=tw,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new wm(tw),this.addClass("vjs-error"),Tg.error("(CODE:"+this.error_.code+" "+wm.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},ew.prototype.reportUserActivity=function(){this.userActivity_=!0},ew.prototype.userActive=function(tw){if(void 0===tw)return this.userActive_;if((tw=!!tw)!==this.userActive_){if(this.userActive_=tw,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(aw){aw.stopPropagation(),aw.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},ew.prototype.listenForUserActivity_=function(){var tw,aw,rw,nw=qg(this,this.reportUserActivity);this.on("mousedown",function(){nw(),this.clearInterval(tw),tw=this.setInterval(nw,250)}),this.on("mousemove",function(sw){sw.screenX===aw&&sw.screenY===rw||(aw=sw.screenX,rw=sw.screenY,nw())}),this.on("mouseup",function(){nw(),this.clearInterval(tw)}),this.on("keydown",nw),this.on("keyup",nw);var ow;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(ow);var sw=this.options_.inactivityTimeout;0>=sw||(ow=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},sw))}},250)},ew.prototype.playbackRate=function(tw){return void 0===tw?this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1:void this.techCall_("setPlaybackRate",tw)},ew.prototype.defaultPlaybackRate=function(tw){return void 0===tw?this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1:this.techCall_("setDefaultPlaybackRate",tw)},ew.prototype.isAudio=function(tw){return void 0===tw?!!this.isAudio_:void(this.isAudio_=!!tw)},ew.prototype.addTextTrack=function(tw,aw,rw){if(this.tech_)return this.tech_.addTextTrack(tw,aw,rw)},ew.prototype.addRemoteTextTrack=function(tw,aw){if(this.tech_)return this.tech_.addRemoteTextTrack(tw,aw)},ew.prototype.removeRemoteTextTrack=function(){var tw=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).track,aw=void 0===tw?arguments[0]:tw;if(this.tech_)return this.tech_.removeRemoteTextTrack(aw)},ew.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},ew.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},ew.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},ew.prototype.language=function(tw){return void 0===tw?this.language_:void(this.language_=(tw+"").toLowerCase())},ew.prototype.languages=function(){return km(ew.prototype.options_.languages,this.languages_)},ew.prototype.toJSON=function(){var tw=km(this.options_),aw=tw.tracks;tw.tracks=[];for(var rw=0,nw;rw<aw.length;rw++)nw=aw[rw],(nw=km(nw)).player=void 0,tw.tracks[rw]=nw;return tw},ew.prototype.createModal=function(tw,aw){var rw=this;(aw=aw||{}).content=tw||"";var nw=new Hy(this,aw);return this.addChild(nw),nw.on("dispose",function(){rw.removeChild(nw)}),nw.open(),nw},ew.getTagSettings=function(tw){var aw={sources:[],tracks:[]},rw=Yp(tw),nw=rw["data-setup"];if(Vp(tw,"vjs-fluid")&&(rw.fluid=!0),null!==nw){var ow=My(nw||"{}"),sw=ow[0],iw=ow[1];sw&&Tg.error(sw),xp(rw,iw)}if(xp(aw,rw),tw.hasChildNodes())for(var lw=tw.childNodes,dw=0,pw=lw.length;dw<pw;dw++){var uw=lw[dw],cw=uw.nodeName.toLowerCase();"source"===cw?aw.sources.push(Yp(uw)):"track"===cw&&aw.tracks.push(Yp(uw))}return aw},ew.prototype.flexNotSupported_=function(){var tw=hg.createElement("i");return!("flexBasis"in tw.style||"webkitFlexBasis"in tw.style||"mozFlexBasis"in tw.style||"msFlexBasis"in tw.style||"msFlexOrder"in tw.style)},ew}(ny);jf.names.forEach(function(ZL){var ew=jf[ZL];Xb.prototype[ew.getterName]=function(){return this.tech_?this.tech_[ew.getterName]():(this[ew.privateName]=this[ew.privateName]||new ew.ListClass,this[ew.privateName])}}),Xb.players={};var Kb=pg.navigator;Xb.prototype.options_={techOrder:i_.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Kb&&(Kb.languages&&Kb.languages[0]||Kb.userLanguage||Kb.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(ZL){Xb.prototype[ZL]=function(){return this.techGet_(ZL)}}),Gb.forEach(function(ZL){Xb.prototype["handleTech"+vm(ZL)+"_"]=function(){return this.trigger(ZL)}}),ny.registerComponent("Player",Xb);var $b="plugin",Qb="activePlugins_",Jb={},Zb=function(ZL){return Jb.hasOwnProperty(ZL)},eT=function(ZL){return Zb(ZL)?Jb[ZL]:void 0},tT=function(ZL,ew){ZL[Qb]=ZL[Qb]||{},ZL[Qb][ew]=!0},aT=function(ZL,ew,tw){var aw=(tw?"before":"")+"pluginsetup";ZL.trigger(aw,ew),ZL.trigger(aw+":"+ew.name,ew)},rT=function(ZL,ew){return ew.prototype.name=ZL,function(){aT(this,{name:ZL,plugin:ew,instance:null},!0);for(var tw=arguments.length,aw=Array(tw),rw=0;rw<tw;rw++)aw[rw]=arguments[rw];var nw=new(Function.prototype.bind.apply(ew,[null].concat([this].concat(aw))));return this[ZL]=function(){return nw},aT(this,nw.getEventHash()),nw}},nT=function(){function ZL(ew){if(kg(this,ZL),this.constructor===ZL)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=ew,Tm(this),delete this.trigger,Sm(this,this.constructor.defaultState),tT(ew,this.name),this.dispose=qg(this,this.dispose),ew.on("dispose",this.dispose)}return ZL.prototype.version=function(){return this.constructor.VERSION},ZL.prototype.getEventHash=function(){var ew=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ew.name=this.name,ew.plugin=this.constructor,ew.instance=this,ew},ZL.prototype.trigger=function(ew){var tw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return fm(this.eventBusEl_,ew,this.getEventHash(tw))},ZL.prototype.handleStateChanged=function(){},ZL.prototype.dispose=function(){var ew=this.name,tw=this.player;this.trigger("dispose"),this.off(),tw.off("dispose",this.dispose),tw[Qb][ew]=!1,this.player=this.state=null,tw[ew]=rT(ew,Jb[ew])},ZL.isBasic=function(ew){var tw="string"==typeof ew?eT(ew):ew;return"function"==typeof tw&&!ZL.prototype.isPrototypeOf(tw.prototype)},ZL.registerPlugin=function(ew,tw){if("string"!=typeof ew)throw new Error("Illegal plugin name, \""+ew+"\", must be a string, was "+("undefined"==typeof ew?"undefined":vg(ew))+".");if(Zb(ew))Tg.warn("A plugin named \""+ew+"\" already exists. You may want to avoid re-registering plugins!");else if(Xb.prototype.hasOwnProperty(ew))throw new Error("Illegal plugin name, \""+ew+"\", cannot share a name with an existing player method!");if("function"!=typeof tw)throw new Error("Illegal plugin for \""+ew+"\", must be a function, was "+("undefined"==typeof tw?"undefined":vg(tw))+".");var aw,rw,nw;return Jb[ew]=tw,ew!==$b&&(ZL.isBasic(tw)?Xb.prototype[ew]=(aw=ew,rw=tw,nw=function(){aT(this,{name:aw,plugin:rw,instance:null},!0);var ow=rw.apply(this,arguments);return tT(this,aw),aT(this,{name:aw,plugin:rw,instance:ow}),ow},Object.keys(rw).forEach(function(ow){nw[ow]=rw[ow]}),nw):Xb.prototype[ew]=rT(ew,tw)),tw},ZL.deregisterPlugin=function(ew){if(ew===$b)throw new Error("Cannot de-register base plugin.");Zb(ew)&&(delete Jb[ew],delete Xb.prototype[ew])},ZL.getPlugins=function(){var ew=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object.keys(Jb),tw;return ew.forEach(function(aw){var rw=eT(aw);rw&&((tw=tw||{})[aw]=rw)}),tw},ZL.getPluginVersion=function(ew){var tw=eT(ew);return tw&&tw.VERSION||""},ZL}();nT.getPlugin=eT,nT.BASE_PLUGIN_NAME=$b,nT.registerPlugin($b,nT),Xb.prototype.usingPlugin=function(ZL){return!!this[Qb]&&!0===this[Qb][ZL]},Xb.prototype.hasPlugin=function(ZL){return!!Zb(ZL)};var oT=function(ZL){return 0===ZL.indexOf("#")?ZL.slice(1):ZL};if(rg.hooks_={},rg.hooks=function(ZL,ew){return rg.hooks_[ZL]=rg.hooks_[ZL]||[],ew&&(rg.hooks_[ZL]=rg.hooks_[ZL].concat(ew)),rg.hooks_[ZL]},rg.hook=function(ZL,ew){rg.hooks(ZL,ew)},rg.hookOnce=function(ZL,ew){rg.hooks(ZL,[].concat(ew).map(function(tw){return function aw(){return rg.removeHook(ZL,aw),tw.apply(void 0,arguments)}}))},rg.removeHook=function(ZL,ew){var tw=rg.hooks(ZL).indexOf(ew);return!(-1>=tw)&&(rg.hooks_[ZL]=rg.hooks_[ZL].slice(),rg.hooks_[ZL].splice(tw,1),!0)},!0!==pg.VIDEOJS_NO_DYNAMIC_STYLE&&Up()){var sT=Ag(".vjs-styles-defaults");if(!sT){sT=Vg("vjs-styles-defaults");var iT=Ag("head");iT&&iT.insertBefore(sT,iT.firstChild),zg(sT,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}bm(1,rg),rg.VERSION=ig,rg.options=Xb.prototype.options_,rg.getPlayers=function(){return Xb.players},rg.getPlayer=function(ZL){var ew=Xb.players,tw;if("string"==typeof ZL){var aw=oT(ZL),rw=ew[aw];if(rw)return rw;tw=Ag("#"+aw)}else tw=ZL;if(Mp(tw)){var nw=tw,ow=nw.player,sw=nw.playerId;if(ow||ew[sw])return ow||ew[sw]}},rg.getAllPlayers=function(){return Object.keys(Xb.players).map(function(ZL){return Xb.players[ZL]}).filter(Boolean)},rg.players=Xb.players,rg.getComponent=ny.getComponent,rg.registerComponent=function(ZL,ew){i_.isTech(ew)&&Tg.warn("The "+ZL+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ny.registerComponent.call(ny,ZL,ew)},rg.getTech=i_.getTech,rg.registerTech=i_.registerTech,rg.use=function(ZL,ew){l_[ZL]=l_[ZL]||[],l_[ZL].push(ew)},Object.defineProperty(rg,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(rg.middleware,"TERMINATOR",{value:p_,writeable:!1,enumerable:!0}),rg.browser=wy,rg.TOUCH_ENABLED=Ly,rg.extend=function(ZL){var ew=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},tw=function(){ZL.apply(this,arguments)},aw={};for(var rw in"object"===("undefined"==typeof ew?"undefined":vg(ew))?(ew.constructor!==Object.prototype.constructor&&(tw=ew.constructor),aw=ew):"function"==typeof ew&&(tw=ew),function(nw,ow){if("function"!=typeof ow&&null!==ow)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof ow?"undefined":vg(ow)));nw.prototype=Object.create(ow&&ow.prototype,{constructor:{value:nw,enumerable:!1,writable:!0,configurable:!0}}),ow&&(nw.super_=ow)}(tw,ZL),aw)aw.hasOwnProperty(rw)&&(tw.prototype[rw]=aw[rw]);return tw},rg.mergeOptions=km,rg.bind=qg,rg.registerPlugin=nT.registerPlugin,rg.deregisterPlugin=nT.deregisterPlugin,rg.plugin=function(ZL,ew){return Tg.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),nT.registerPlugin(ZL,ew)},rg.getPlugins=nT.getPlugins,rg.getPlugin=nT.getPlugin,rg.getPluginVersion=nT.getPluginVersion,rg.addLanguage=function(ZL,ew){var tw;return ZL=(""+ZL).toLowerCase(),rg.options.languages=km(rg.options.languages,((tw={})[ZL]=ew,tw)),rg.options.languages[ZL]},rg.log=Tg,rg.createTimeRange=rg.createTimeRanges=Pm,rg.formatTime=tg,rg.setFormatTime=function(ZL){w_=ZL},rg.resetFormatTime=function(){w_=L_},rg.parseUrl=af,rg.isCrossOrigin=of,rg.EventTarget=Yg,rg.on=hm,rg.one=_m,rg.off=ym,rg.trigger=fm,rg.xhr=xf,rg.TextTrack=Df,rg.AudioTrack=Of,rg.VideoTrack=Rf,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(ZL){rg[ZL]=function(){return Tg.warn("videojs."+ZL+"() is deprecated; use videojs.dom."+ZL+"() instead"),Dg[ZL].apply(null,arguments)}}),rg.computedStyle=Dp,rg.dom=Dg,rg.url=sf;var lT=Pp(function(ZL){var tw,aw,rw,nw,ow;tw=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,aw=/^([^\/;?#]*)(.*)$/,rw=/(?:\/|^)\.(?=\/)/g,nw=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,ow={buildAbsoluteURL:function(sw,iw,lw){if(lw=lw||{},sw=sw.trim(),!(iw=iw.trim())){if(!lw.alwaysNormalize)return sw;var dw=ow.parseURL(sw);if(!dw)throw new Error("Error trying to parse base URL.");return dw.path=ow.normalizePath(dw.path),ow.buildURLFromParts(dw)}var pw=ow.parseURL(iw);if(!pw)throw new Error("Error trying to parse relative URL.");if(pw.scheme)return lw.alwaysNormalize?(pw.path=ow.normalizePath(pw.path),ow.buildURLFromParts(pw)):iw;var uw=ow.parseURL(sw);if(!uw)throw new Error("Error trying to parse base URL.");if(!uw.netLoc&&uw.path&&"/"!==uw.path[0]){var cw=aw.exec(uw.path);uw.netLoc=cw[1],uw.path=cw[2]}uw.netLoc&&!uw.path&&(uw.path="/");var mw={scheme:uw.scheme,netLoc:pw.netLoc,path:null,params:pw.params,query:pw.query,fragment:pw.fragment};if(!pw.netLoc&&(mw.netLoc=uw.netLoc,"/"!==pw.path[0]))if(pw.path){var gw=uw.path,hw=gw.substring(0,gw.lastIndexOf("/")+1)+pw.path;mw.path=ow.normalizePath(hw)}else mw.path=uw.path,pw.params||(mw.params=uw.params,pw.query||(mw.query=uw.query));return null===mw.path&&(mw.path=lw.alwaysNormalize?ow.normalizePath(pw.path):pw.path),ow.buildURLFromParts(mw)},parseURL:function(sw){var iw=tw.exec(sw);return iw?{scheme:iw[1]||"",netLoc:iw[2]||"",path:iw[3]||"",params:iw[4]||"",query:iw[5]||"",fragment:iw[6]||""}:null},normalizePath:function(sw){for(sw=sw.split("").reverse().join("").replace(rw,"");sw.length!==(sw=sw.replace(nw,"")).length;);return sw.split("").reverse().join("")},buildURLFromParts:function(sw){return sw.scheme+sw.netLoc+sw.path+sw.params+sw.query+sw.fragment}},ZL.exports=ow}),dT=function(ZL,ew){if(!(ZL instanceof ew))throw new TypeError("Cannot call a class as a function")},pT=Object.assign||function(ZL){for(var ew=1,tw;ew<arguments.length;ew++)for(var aw in tw=arguments[ew],tw)Object.prototype.hasOwnProperty.call(tw,aw)&&(ZL[aw]=tw[aw]);return ZL},uT=function(ZL,ew){if("function"!=typeof ew&&null!==ew)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof ew?"undefined":vg(ew)));ZL.prototype=Object.create(ew&&ew.prototype,{constructor:{value:ZL,enumerable:!1,writable:!0,configurable:!0}}),ew&&(Object.setPrototypeOf?Object.setPrototypeOf(ZL,ew):ZL.__proto__=ew)},cT=function(ZL,ew){if(!ZL)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ew&&("object"===("undefined"==typeof ew?"undefined":vg(ew))||"function"==typeof ew)?ew:ZL},mT=function(){function ZL(){dT(this,ZL),this.listeners={}}return ZL.prototype.on=function(ew,tw){this.listeners[ew]||(this.listeners[ew]=[]),this.listeners[ew].push(tw)},ZL.prototype.off=function(ew,tw){if(!this.listeners[ew])return!1;var aw=this.listeners[ew].indexOf(tw);return this.listeners[ew].splice(aw,1),-1<aw},ZL.prototype.trigger=function(ew){var tw=this.listeners[ew],aw=void 0,rw,nw;if(tw)if(2===arguments.length)for(rw=tw.length,aw=0;aw<rw;++aw)tw[aw].call(this,arguments[1]);else for(nw=Array.prototype.slice.call(arguments,1),rw=tw.length,aw=0;aw<rw;++aw)tw[aw].apply(this,nw)},ZL.prototype.dispose=function(){this.listeners={}},ZL.prototype.pipe=function(ew){this.on("data",function(tw){ew.push(tw)})},ZL}(),gT=function(ZL){function ew(){dT(this,ew);var tw=cT(this,ZL.call(this));return tw.buffer="",tw}return uT(ew,ZL),ew.prototype.push=function(tw){var aw;for(this.buffer+=tw,aw=this.buffer.indexOf("\n");-1<aw;aw=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,aw)),this.buffer=this.buffer.substring(aw+1)},ew}(mT),hT=function(ZL){for(var ew=ZL.split(/(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))/),tw={},aw=ew.length,rw=void 0;aw--;)""!==ew[aw]&&((rw=/([^=]*)=(.*)/.exec(ew[aw]).slice(1))[0]=rw[0].replace(/^\s+|\s+$/g,""),rw[1]=rw[1].replace(/^\s+|\s+$/g,""),rw[1]=rw[1].replace(/^['"](.*)['"]$/g,"$1"),tw[rw[0]]=rw[1]);return tw},yT=function(ZL){function ew(){dT(this,ew);var tw=cT(this,ZL.call(this));return tw.customParsers=[],tw}return uT(ew,ZL),ew.prototype.push=function(tw){var aw,rw;if(0!==(tw=tw.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===tw[0]){for(var nw=0;nw<this.customParsers.length;nw++)if(this.customParsers[nw].call(this,tw))return;if(!(0===tw.indexOf("#EXT")))this.trigger("data",{type:"comment",text:tw.slice(1)});else if(tw=tw.replace("\r",""),aw=/^#EXTM3U/.exec(tw))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(aw=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(tw))return rw={type:"tag",tagType:"inf"},aw[1]&&(rw.duration=parseFloat(aw[1])),aw[2]&&(rw.title=aw[2]),void this.trigger("data",rw);if(aw=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(tw))return rw={type:"tag",tagType:"targetduration"},aw[1]&&(rw.duration=parseInt(aw[1],10)),void this.trigger("data",rw);if(aw=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(tw))return rw={type:"tag",tagType:"totalduration"},aw[1]&&(rw.duration=parseInt(aw[1],10)),void this.trigger("data",rw);if(aw=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(tw))return rw={type:"tag",tagType:"version"},aw[1]&&(rw.version=parseInt(aw[1],10)),void this.trigger("data",rw);if(aw=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(tw))return rw={type:"tag",tagType:"media-sequence"},aw[1]&&(rw.number=parseInt(aw[1],10)),void this.trigger("data",rw);if(aw=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(tw))return rw={type:"tag",tagType:"discontinuity-sequence"},aw[1]&&(rw.number=parseInt(aw[1],10)),void this.trigger("data",rw);if(aw=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(tw))return rw={type:"tag",tagType:"playlist-type"},aw[1]&&(rw.playlistType=aw[1]),void this.trigger("data",rw);if(aw=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(tw))return rw={type:"tag",tagType:"byterange"},aw[1]&&(rw.length=parseInt(aw[1],10)),aw[2]&&(rw.offset=parseInt(aw[2],10)),void this.trigger("data",rw);if(aw=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(tw))return rw={type:"tag",tagType:"allow-cache"},aw[1]&&(rw.allowed=!/NO/.test(aw[1])),void this.trigger("data",rw);if(aw=/^#EXT-X-MAP:?(.*)$/.exec(tw)){if(rw={type:"tag",tagType:"map"},aw[1]){var ow=hT(aw[1]);if(ow.URI&&(rw.uri=ow.URI),ow.BYTERANGE){var sw=ow.BYTERANGE.split("@"),iw=sw[0],lw=sw[1];rw.byterange={},iw&&(rw.byterange.length=parseInt(iw,10)),lw&&(rw.byterange.offset=parseInt(lw,10))}}this.trigger("data",rw)}else if(aw=/^#EXT-X-STREAM-INF:?(.*)$/.exec(tw)){if(rw={type:"tag",tagType:"stream-inf"},aw[1]){if(rw.attributes=hT(aw[1]),rw.attributes.RESOLUTION){var dw=rw.attributes.RESOLUTION.split("x"),pw={};dw[0]&&(pw.width=parseInt(dw[0],10)),dw[1]&&(pw.height=parseInt(dw[1],10)),rw.attributes.RESOLUTION=pw}rw.attributes.BANDWIDTH&&(rw.attributes.BANDWIDTH=parseInt(rw.attributes.BANDWIDTH,10)),rw.attributes["PROGRAM-ID"]&&(rw.attributes["PROGRAM-ID"]=parseInt(rw.attributes["PROGRAM-ID"],10))}this.trigger("data",rw)}else{if(aw=/^#EXT-X-MEDIA:?(.*)$/.exec(tw))return rw={type:"tag",tagType:"media"},aw[1]&&(rw.attributes=hT(aw[1])),void this.trigger("data",rw);if(aw=/^#EXT-X-ENDLIST/.exec(tw))this.trigger("data",{type:"tag",tagType:"endlist"});else if(aw=/^#EXT-X-DISCONTINUITY/.exec(tw))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(aw=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(tw))return rw={type:"tag",tagType:"program-date-time"},aw[1]&&(rw.dateTimeString=aw[1],rw.dateTimeObject=new Date(aw[1])),void this.trigger("data",rw);if(aw=/^#EXT-X-KEY:?(.*)$/.exec(tw))return rw={type:"tag",tagType:"key"},aw[1]&&(rw.attributes=hT(aw[1]),rw.attributes.IV&&("0x"===rw.attributes.IV.substring(0,2).toLowerCase()&&(rw.attributes.IV=rw.attributes.IV.substring(2)),rw.attributes.IV=rw.attributes.IV.match(/.{8}/g),rw.attributes.IV[0]=parseInt(rw.attributes.IV[0],16),rw.attributes.IV[1]=parseInt(rw.attributes.IV[1],16),rw.attributes.IV[2]=parseInt(rw.attributes.IV[2],16),rw.attributes.IV[3]=parseInt(rw.attributes.IV[3],16),rw.attributes.IV=new Uint32Array(rw.attributes.IV))),void this.trigger("data",rw);if(aw=/^#EXT-X-START:?(.*)$/.exec(tw))return rw={type:"tag",tagType:"start"},aw[1]&&(rw.attributes=hT(aw[1]),rw.attributes["TIME-OFFSET"]=parseFloat(rw.attributes["TIME-OFFSET"]),rw.attributes.PRECISE=/YES/.test(rw.attributes.PRECISE)),void this.trigger("data",rw);if(aw=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(tw))return rw={type:"tag",tagType:"cue-out-cont"},rw.data=aw[1]?aw[1]:"",void this.trigger("data",rw);if(aw=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(tw))return rw={type:"tag",tagType:"cue-out"},rw.data=aw[1]?aw[1]:"",void this.trigger("data",rw);if(aw=/^#EXT-X-CUE-IN:?(.*)?$/.exec(tw))return rw={type:"tag",tagType:"cue-in"},rw.data=aw[1]?aw[1]:"",void this.trigger("data",rw);this.trigger("data",{type:"tag",data:tw.slice(4)})}}}}else this.trigger("data",{type:"uri",uri:tw})},ew.prototype.addParser=function(tw){var aw=this,rw=tw.expression,nw=tw.customType,ow=tw.dataParser,sw=tw.segment;"function"!=typeof ow&&(ow=function(iw){return iw}),this.customParsers.push(function(iw){if(rw.exec(iw))return aw.trigger("data",{type:"custom",data:ow(iw),customType:nw,segment:sw}),!0})},ew}(mT),fT=function(ZL){function ew(){dT(this,ew);var tw=cT(this,ZL.call(this));tw.lineStream=new gT,tw.parseStream=new yT,tw.lineStream.pipe(tw.parseStream);var aw=tw,rw=[],nw={},ow,sw,iw={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},lw=0;return tw.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},tw.parseStream.on("data",function(dw){var pw,uw;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=dw.allowed,"allowed"in dw||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var cw={};"length"in dw&&((nw.byterange=cw).length=dw.length,"offset"in dw||(this.trigger("info",{message:"defaulting offset to zero"}),dw.offset=0)),"offset"in dw&&((nw.byterange=cw).offset=dw.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<dw.duration&&(nw.duration=dw.duration),0===dw.duration&&(nw.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=rw},key:function(){dw.attributes?"NONE"===dw.attributes.METHOD?sw=null:dw.attributes.URI?(dw.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),sw={method:dw.attributes.METHOD||"AES-128",uri:dw.attributes.URI},"undefined"!=typeof dw.attributes.IV&&(sw.iv=dw.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(dw.number)?this.manifest.mediaSequence=dw.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+dw.number})},"discontinuity-sequence":function(){isFinite(dw.number)?(this.manifest.discontinuitySequence=dw.number,lw=dw.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+dw.number})},"playlist-type":function(){/VOD|EVENT/.test(dw.playlistType)?this.manifest.playlistType=dw.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+dw.playlist})},map:function(){ow={},dw.uri&&(ow.uri=dw.uri),dw.byterange&&(ow.byterange=dw.byterange)},"stream-inf":function(){this.manifest.playlists=rw,this.manifest.mediaGroups=this.manifest.mediaGroups||iw,dw.attributes?(nw.attributes||(nw.attributes={}),pT(nw.attributes,dw.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||iw,dw.attributes&&dw.attributes.TYPE&&dw.attributes["GROUP-ID"]&&dw.attributes.NAME){var cw=this.manifest.mediaGroups[dw.attributes.TYPE];cw[dw.attributes["GROUP-ID"]]=cw[dw.attributes["GROUP-ID"]]||{},pw=cw[dw.attributes["GROUP-ID"]],uw.autoselect=!!(uw={default:/yes/i.test(dw.attributes.DEFAULT)}).default||/yes/i.test(dw.attributes.AUTOSELECT),dw.attributes.LANGUAGE&&(uw.language=dw.attributes.LANGUAGE),dw.attributes.URI&&(uw.uri=dw.attributes.URI),dw.attributes["INSTREAM-ID"]&&(uw.instreamId=dw.attributes["INSTREAM-ID"]),dw.attributes.CHARACTERISTICS&&(uw.characteristics=dw.attributes.CHARACTERISTICS),dw.attributes.FORCED&&(uw.forced=/yes/i.test(dw.attributes.FORCED)),pw[dw.attributes.NAME]=uw}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){lw+=1,nw.discontinuity=!0,this.manifest.discontinuityStarts.push(rw.length)},"program-date-time":function(){"undefined"==typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=dw.dateTimeString,this.manifest.dateTimeObject=dw.dateTimeObject),nw.dateTimeString=dw.dateTimeString,nw.dateTimeObject=dw.dateTimeObject},targetduration:function(){!isFinite(dw.duration)||0>dw.duration?this.trigger("warn",{message:"ignoring invalid target duration: "+dw.duration}):this.manifest.targetDuration=dw.duration},totalduration:function(){!isFinite(dw.duration)||0>dw.duration?this.trigger("warn",{message:"ignoring invalid total duration: "+dw.duration}):this.manifest.totalDuration=dw.duration},start:function(){dw.attributes&&!isNaN(dw.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:dw.attributes["TIME-OFFSET"],precise:dw.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){nw.cueOut=dw.data},"cue-out-cont":function(){nw.cueOutCont=dw.data},"cue-in":function(){nw.cueIn=dw.data}})[dw.tagType]||function(){}).call(aw)},uri:function(){nw.uri=dw.uri,rw.push(nw),!this.manifest.targetDuration||"duration"in nw||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),nw.duration=this.manifest.targetDuration),sw&&(nw.key=sw),nw.timeline=lw,ow&&(nw.map=ow),nw={}},comment:function(){},custom:function(){dw.segment?(nw.custom=nw.custom||{},nw.custom[dw.customType]=dw.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[dw.customType]=dw.data)}})[dw.type].call(aw)}),tw}return uT(ew,ZL),ew.prototype.push=function(tw){this.lineStream.push(tw)},ew.prototype.end=function(){this.lineStream.push("\n")},ew.prototype.addParser=function(tw){this.parseStream.addParser(tw)},ew}(mT),_T=function(ZL){var tw=ZL.attributes,aw=ZL.segments,rw={attributes:(ew={NAME:tw.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:tw.width,height:tw.height},CODECS:tw.codecs,BANDWIDTH:tw.bandwidth},ew["PROGRAM-ID"]=1,ew),uri:"",endList:"static"===(tw.type||"static"),timeline:tw.periodIndex,resolvedUri:"",targetDuration:tw.duration,segments:aw,mediaSequence:aw.length?aw[0].number:1},ew;return tw.contentProtection&&(rw.contentProtection=tw.contentProtection),rw},bT="function"==typeof Symbol&&"symbol"===vg(Symbol.iterator)?function(ZL){return"undefined"==typeof ZL?"undefined":vg(ZL)}:function(ZL){return ZL&&"function"==typeof Symbol&&ZL.constructor===Symbol&&ZL!==Symbol.prototype?"symbol":"undefined"==typeof ZL?"undefined":vg(ZL)},TT=function(ZL){return!!ZL&&"object"===("undefined"==typeof ZL?"undefined":bT(ZL))},ST=function ZL(){for(var ew=arguments.length,tw=Array(ew),aw=0;aw<ew;aw++)tw[aw]=arguments[aw];return tw.reduce(function(rw,nw){return Object.keys(nw).forEach(function(ow){rw[ow]=Array.isArray(rw[ow])&&Array.isArray(nw[ow])?rw[ow].concat(nw[ow]):TT(rw[ow])&&TT(nw[ow])?ZL(rw[ow],nw[ow]):nw[ow]}),rw},{})},vT=function(ZL,ew){return /^[a-z]+:/i.test(ew)?ew:(/\/\//i.test(ZL)||(ZL=lT.buildAbsoluteURL(pg.location.href,ZL)),lT.buildAbsoluteURL(ZL,ew))},kT=function(ZL){var ew=ZL.baseUrl,tw=void 0===ew?"":ew,aw=ZL.source,rw=void 0===aw?"":aw,nw=ZL.range,ow=void 0===nw?"":nw,sw={uri:rw,resolvedUri:vT(tw||"",rw)};if(ow){var iw=ow.split("-"),lw=parseInt(iw[0],10),dw=parseInt(iw[1],10);sw.byterange={length:dw-lw,offset:lw}}return sw},CT=function(ZL,ew){for(var mw=ZL.type,gw=void 0===mw?"static":mw,hw=ZL.minimumUpdatePeriod,yw=void 0===hw?0:hw,fw=ZL.media,_w=void 0===fw?"":fw,bw=ZL.sourceDuration,Tw=ZL.timescale,Sw=void 0===Tw?1:Tw,vw=ZL.startNumber,kw=void 0===vw?1:vw,Cw=ZL.periodIndex,Ew=[],Pw=-1,Lw=0,tw,aw,rw,nw,ow,sw,iw,lw,dw,pw,uw,cw;Lw<ew.length;Lw++){var ww=ew[Lw],xw=ww.d,Aw=ww.r||0,Iw=ww.t||0;0>Pw&&(Pw=Iw),Iw&&Pw<Iw&&(Pw=Iw);var Dw=void 0;if(0>Aw){var Ow=Lw+1;Ow===ew.length?"dynamic"===gw&&0<yw&&0<_w.indexOf("$Number$")?(aw=Pw,rw=xw,nw=(tw=ZL).NOW,ow=tw.clientOffset,sw=tw.availabilityStartTime,iw=tw.timescale,lw=void 0===iw?1:iw,dw=tw.start,pw=void 0===dw?0:dw,uw=tw.minimumUpdatePeriod,cw=(nw+ow)/1e3+(void 0===uw?0:uw)-(sw+pw),Dw=_Mathceil((cw*lw-aw)/rw)):Dw=(bw*Sw-Pw)/xw:Dw=(ew[Ow].t-Pw)/xw}else Dw=Aw+1;for(var Rw=kw+Ew.length+Dw,Uw=kw+Ew.length;Uw<Rw;)Ew.push({number:Uw,duration:xw/Sw,time:Pw,timeline:Cw}),Pw+=xw,Uw++}return Ew},ET=function(ZL){return ZL.reduce(function(ew,tw){return ew.concat(tw)},[])},PT=function(ZL){if(!ZL.length)return[];for(var ew=[],tw=0;tw<ZL.length;tw++)ew.push(ZL[tw]);return ew},LT={static:function(ZL){var ew=ZL.duration,tw=ZL.timescale,aw=void 0===tw?1:tw,rw=ZL.sourceDuration;return{start:0,end:_Mathceil(rw/(ew/aw))}},dynamic:function(ZL){var ew=ZL.NOW,tw=ZL.clientOffset,aw=ZL.availabilityStartTime,rw=ZL.timescale,nw=void 0===rw?1:rw,ow=ZL.duration,sw=ZL.start,iw=void 0===sw?0:sw,lw=ZL.minimumUpdatePeriod,dw=void 0===lw?0:lw,pw=ZL.timeShiftBufferDepth,uw=void 0===pw?1/0:pw,cw=(ew+tw)/1e3,mw=aw+iw,hw=_Mathceil((cw+dw-mw)*nw/ow),yw=_Mathfloor((cw-mw-uw)*nw/ow),fw=_Mathfloor((cw-mw)*nw/ow);return{start:_Mathmax(0,yw),end:_Mathmin(hw,fw)}}},wT=function(ZL){var tw=ZL.type,aw=void 0===tw?"static":tw,rw=ZL.duration,nw=ZL.timescale,ow=void 0===nw?1:nw,sw=ZL.sourceDuration,iw=LT[aw](ZL),lw=function(pw,uw){for(var cw=[],mw=pw;mw<uw;mw++)cw.push(mw);return cw}(iw.start,iw.end).map((ew=ZL,function(pw,uw){var cw=ew.duration,mw=ew.timescale,gw=void 0===mw?1:mw,hw=ew.periodIndex,yw=ew.startNumber;return{number:(void 0===yw?1:yw)+pw,duration:cw/gw,timeline:hw,time:uw*cw}})),ew;if("static"===aw){var dw=lw.length-1;lw[dw].duration=sw-rw/ow*dw}return lw},xT=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,AT=function(ZL,ew){return ZL.replace(xT,(tw=ew,function(aw,rw,nw,ow){if("$$"===aw)return"$";if("undefined"==typeof tw[rw])return aw;var sw=""+tw[rw];return"RepresentationID"===rw?sw:(ow=nw?parseInt(ow,10):1)<=sw.length?sw:""+Array(ow-sw.length+1).join("0")+sw}));var tw},IT=function(ZL,ew){var rw={RepresentationID:ZL.id,Bandwidth:ZL.bandwidth||0},nw=ZL.initialization,ow=void 0===nw?{sourceURL:"",range:""}:nw,sw=kT({baseUrl:ZL.baseUrl,source:AT(ow.sourceURL,rw),range:ow.range}),tw,aw;return(aw=ew,(tw=ZL).duration||aw?tw.duration?wT(tw):CT(tw,aw):[{number:tw.startNumber||1,duration:tw.sourceDuration,time:0,timeline:tw.periodIndex}]).map(function(iw){rw.Number=iw.number,rw.Time=iw.time;var lw=AT(ZL.media||"",rw);return{uri:lw,timeline:iw.timeline,duration:iw.duration,resolvedUri:vT(ZL.baseUrl||"",lw),map:sw,number:iw.number}})},NT=function(ZL,ew){var tw=ZL.duration,aw=ZL.segmentUrls,rw=void 0===aw?[]:aw;if(!tw&&!ew||tw&&ew)throw new Error("SEGMENT_TIME_UNSPECIFIED");var nw=rw.map(function(sw){return lw=sw,dw=(iw=ZL).baseUrl,pw=iw.initialization,cw=kT({baseUrl:dw,source:(uw=void 0===pw?{}:pw).sourceURL,range:uw.range}),(mw=kT({baseUrl:dw,source:lw.media,range:lw.mediaRange})).map=cw,mw;var iw,lw,dw,pw,uw,cw,mw}),ow;return tw&&(ow=wT(ZL)),ew&&(ow=CT(ZL,ew)),ow.map(function(sw,iw){if(nw[iw]){var lw=nw[iw];return lw.timeline=sw.timeline,lw.duration=sw.duration,lw.number=sw.number,lw}}).filter(function(sw){return sw})},FT=function(ZL){var ew=ZL.baseUrl,tw=ZL.initialization,aw=void 0===tw?{}:tw,rw=ZL.sourceDuration,nw=ZL.timescale,ow=void 0===nw?1:nw,sw=ZL.indexRange,iw=void 0===sw?"":sw,lw=ZL.duration;if(!ew)throw new Error("NO_BASE_URL");var dw=kT({baseUrl:ew,source:aw.sourceURL,range:aw.range}),pw=kT({baseUrl:ew,source:ew,range:iw});if(pw.map=dw,lw){var uw=wT(ZL);uw.length&&(pw.duration=uw[0].duration,pw.timeline=uw[0].timeline)}else rw&&(pw.duration=rw/ow,pw.timeline=0);return pw.number=0,[pw]},jT=function(ZL){var ew=ZL.attributes,tw=ZL.segmentInfo,aw,rw;if(tw.template?(rw=IT,aw=ST(ew,tw.template)):tw.base?(rw=FT,aw=ST(ew,tw.base)):tw.list&&(rw=NT,aw=ST(ew,tw.list)),!rw)return{attributes:ew};var nw=rw(aw,tw.timeline);if(aw.duration){var ow=aw,sw=ow.duration,iw=ow.timescale,lw=void 0===iw?1:iw;aw.duration=sw/lw}else aw.duration=nw.length?nw.reduce(function(dw,pw){return _Mathmax(dw,_Mathceil(pw.duration))},0):0;return{attributes:aw,segments:nw}},HT=function(ZL,ew){return PT(ZL.childNodes).filter(function(tw){return tw.tagName===ew})},VT=function(ZL){return ZL.textContent.trim()},zT=function(ZL){var ew=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(ZL);if(!ew)return 0;var tw=ew.slice(1),aw=tw[0],rw=tw[1],nw=tw[2],ow=tw[3],sw=tw[4],iw=tw[5];return 31536e3*parseFloat(aw||0)+2592e3*parseFloat(rw||0)+86400*parseFloat(nw||0)+3600*parseFloat(ow||0)+60*parseFloat(sw||0)+parseFloat(iw||0)},qT={mediaPresentationDuration:function(ZL){return zT(ZL)},availabilityStartTime:function(ZL){return /^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(ew=ZL)&&(ew+="Z"),Date.parse(ew)/1e3;var ew},minimumUpdatePeriod:function(ZL){return zT(ZL)},timeShiftBufferDepth:function(ZL){return zT(ZL)},start:function(ZL){return zT(ZL)},width:function(ZL){return parseInt(ZL,10)},height:function(ZL){return parseInt(ZL,10)},bandwidth:function(ZL){return parseInt(ZL,10)},startNumber:function(ZL){return parseInt(ZL,10)},timescale:function(ZL){return parseInt(ZL,10)},duration:function(ZL){var ew=parseInt(ZL,10);return isNaN(ew)?zT(ZL):ew},d:function(ZL){return parseInt(ZL,10)},t:function(ZL){return parseInt(ZL,10)},r:function(ZL){return parseInt(ZL,10)},DEFAULT:function(ZL){return ZL}},WT=function(ZL){return ZL&&ZL.attributes?PT(ZL.attributes).reduce(function(ew,tw){var aw=qT[tw.name]||qT.DEFAULT;return ew[tw.name]=aw(tw.value),ew},{}):{}},GT,YT,XT,KT,$T,QT,JT,ZT,eS,tS,aS,rS,nS,oS,sS,iS,lS,dS,pS,uS,cS,mS,gS,hS,yS,fS,_S,bS,TS,SS,vS,kS,CS,ES,PS,LS,wS,xS,AS,IS,DS,OS,RS={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},US=function(ZL,ew){return ew.length?ET(ZL.map(function(tw){return ew.map(function(aw){return vT(tw,VT(aw))})})):ZL},MS=function(ZL){var ew=HT(ZL,"SegmentTemplate")[0],tw=HT(ZL,"SegmentList")[0],aw=tw&&HT(tw,"SegmentURL").map(function(pw){return ST({tag:"SegmentURL"},WT(pw))}),rw=HT(ZL,"SegmentBase")[0],nw=tw||ew,ow=nw&&HT(nw,"SegmentTimeline")[0],sw=tw||rw||ew,iw=sw&&HT(sw,"Initialization")[0],lw=ew&&WT(ew);lw&&iw?lw.initialization=iw&&WT(iw):lw&&lw.initialization&&(lw.initialization={sourceURL:lw.initialization});var dw={template:lw,timeline:ow&&HT(ow,"S").map(function(pw){return WT(pw)}),list:tw&&ST(WT(tw),{segmentUrls:aw,initialization:WT(iw)}),base:rw&&ST(WT(rw),{initialization:WT(iw)})};return Object.keys(dw).forEach(function(pw){dw[pw]||delete dw[pw]}),dw},BS=function(ZL){return ZL.reduce(function(ew,tw){var aw=WT(tw),rw=RS[aw.schemeIdUri];if(rw){ew[rw]={attributes:aw};var nw=HT(tw,"cenc:pssh")[0];if(nw){var ow=VT(nw),sw=ow&&function(iw){for(var lw=pg.atob(iw),dw=new Uint8Array(lw.length),pw=0;pw<lw.length;pw++)dw[pw]=lw.charCodeAt(pw);return dw}(ow);ew[rw].pssh=sw}}return ew},{})},NS=function(ZL,ew,tw){return function(aw){var rw=WT(aw),nw=US(ew,HT(aw,"BaseURL")),ow=HT(aw,"Role")[0],sw={role:WT(ow)},iw=ST(ZL,rw,sw),lw=BS(HT(aw,"ContentProtection"));Object.keys(lw).length&&(iw=ST(iw,{contentProtection:lw}));var cw=MS(aw),mw=HT(aw,"Representation"),gw=ST(tw,cw),dw,pw,uw;return ET(mw.map((dw=iw,pw=nw,uw=gw,function(hw){var yw=HT(hw,"BaseURL"),fw=US(pw,yw),_w=ST(dw,WT(hw)),bw=MS(hw);return fw.map(function(Tw){return{segmentInfo:ST(uw,bw),attributes:ST(_w,{baseUrl:Tw})}})})))}},FS=function(ZL){var ew=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},tw=ew.manifestUri,aw=void 0===tw?"":tw,rw=ew.NOW,nw=void 0===rw?Date.now():rw,ow=ew.clientOffset,sw=void 0===ow?0:ow,iw=HT(ZL,"Period");if(1!==iw.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var pw=WT(ZL),uw=US([aw],HT(ZL,"BaseURL")),lw,dw;return pw.sourceDuration=pw.mediaPresentationDuration||0,pw.NOW=nw,pw.clientOffset=sw,ET(iw.map((lw=pw,dw=uw,function(cw,mw){var gw=US(dw,HT(cw,"BaseURL")),hw=WT(cw),yw=ST(lw,hw,{periodIndex:mw}),fw=HT(cw,"AdaptationSet"),_w=MS(cw);return ET(fw.map(NS(yw,gw,_w)))})))},jS=function(ZL){if(""===ZL)throw new Error("DASH_EMPTY_MANIFEST");var ew=new pg.DOMParser().parseFromString(ZL,"application/xml"),tw=ew&&"MPD"===ew.documentElement.tagName?ew.documentElement:null;if(!tw||tw&&0<tw.getElementsByTagName("parsererror").length)throw new Error("DASH_INVALID_XML");return tw},HS=function(ZL,ew){return function(tw){var aw;if(!tw.length)return{};var rw=tw[0].attributes,nw=rw.sourceDuration,ow=rw.minimumUpdatePeriod,sw=void 0===ow?0:ow,iw=tw.filter(function(uw){var cw=uw.attributes;return"video/mp4"===cw.mimeType||"video"===cw.contentType}).map(_T),lw=tw.filter(function(uw){var cw=uw.attributes;return"audio/mp4"===cw.mimeType||"audio"===cw.contentType}),dw=tw.filter(function(uw){var cw=uw.attributes;return"text/vtt"===cw.mimeType||"text"===cw.contentType}),pw={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(aw={AUDIO:{},VIDEO:{}},aw["CLOSED-CAPTIONS"]={},aw.SUBTITLES={},aw),uri:"",duration:nw,playlists:iw,minimumUpdatePeriod:1e3*sw};return lw.length&&(pw.mediaGroups.AUDIO.audio=lw.reduce(function(uw,cw){var _w=cw.attributes.role&&cw.attributes.role.value||"main",bw=cw.attributes.lang||"",Tw="main",mw,gw,hw,yw,fw;return bw&&(Tw=cw.attributes.lang+" ("+_w+")"),uw[Tw]&&uw[Tw].playlists[0].attributes.BANDWIDTH>cw.attributes.bandwidth||(uw[Tw]={language:bw,autoselect:!0,default:"main"===_w,playlists:[(mw=cw,hw=mw.attributes,yw=mw.segments,fw={attributes:(gw={NAME:hw.id,BANDWIDTH:hw.bandwidth,CODECS:hw.codecs},gw["PROGRAM-ID"]=1,gw),uri:"",endList:"static"===(hw.type||"static"),timeline:hw.periodIndex,resolvedUri:"",targetDuration:hw.duration,segments:yw,mediaSequence:yw.length?yw[0].number:1},hw.contentProtection&&(fw.contentProtection=hw.contentProtection),fw)],uri:""}),uw},{})),dw.length&&(pw.mediaGroups.SUBTITLES.subs=dw.reduce(function(uw,cw){var fw=cw.attributes.lang||"text",mw,gw,hw,yw;return uw[fw]||(uw[fw]={language:fw,default:!1,autoselect:!1,playlists:[(mw=cw,hw=mw.attributes,yw=mw.segments,"undefined"==typeof yw&&(yw=[{uri:hw.baseUrl,timeline:hw.periodIndex,resolvedUri:hw.baseUrl||"",duration:hw.sourceDuration,number:0}],hw.duration=hw.sourceDuration),{attributes:(gw={NAME:hw.id,BANDWIDTH:hw.bandwidth},gw["PROGRAM-ID"]=1,gw),uri:"",endList:"static"===(hw.type||"static"),timeline:hw.periodIndex,resolvedUri:hw.baseUrl||"",targetDuration:hw.duration,segments:yw,mediaSequence:yw.length?yw[0].number:1})],uri:""}),uw},{})),pw}(FS(jS(ZL),ew).map(jT))},VS=function(ZL){return function(ew){var tw=HT(ew,"UTCTiming")[0];if(!tw)return null;var aw=WT(tw);switch(aw.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":aw.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":aw.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":aw.method="DIRECT",aw.value=Date.parse(aw.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME");}return aw}(jS(ZL))},zS={toUnsigned:function(ZL){return ZL>>>0}},qS=zS.toUnsigned,WS=Object.freeze({default:zS,__moduleExports:zS,toUnsigned:qS}),GS=(WS&&zS||WS).toUnsigned,YS={findBox:GT=function(ZL,ew){var sw=[],tw,aw,rw,nw,ow;if(!ew.length)return null;for(tw=0;tw<ZL.byteLength;)aw=GS(ZL[tw]<<24|ZL[tw+1]<<16|ZL[tw+2]<<8|ZL[tw+3]),rw=YT(ZL.subarray(tw+4,tw+8)),nw=1<aw?tw+aw:ZL.byteLength,rw===ew[0]&&(1===ew.length?sw.push(ZL.subarray(tw+8,nw)):(ow=GT(ZL.subarray(tw+8,nw),ew.slice(1))).length&&(sw=sw.concat(ow))),tw=nw;return sw},parseType:YT=function(ZL){var ew="";return ew+=_StringfromCharCode(ZL[0]),ew+=_StringfromCharCode(ZL[1]),ew+=_StringfromCharCode(ZL[2]),ew+=_StringfromCharCode(ZL[3])},timescale:function(ZL){return GT(ZL,["moov","trak"]).reduce(function(ew,tw){var aw,rw,nw,ow,sw;return(aw=GT(tw,["tkhd"])[0])?(rw=aw[0],ow=GS(aw[nw=0===rw?12:20]<<24|aw[nw+1]<<16|aw[nw+2]<<8|aw[nw+3]),(sw=GT(tw,["mdia","mdhd"])[0])?(nw=0===(rw=sw[0])?12:20,ew[ow]=GS(sw[nw]<<24|sw[nw+1]<<16|sw[nw+2]<<8|sw[nw+3]),ew):null):null},{})},startTime:function(ZL,ew){var tw,aw,rw;return tw=GT(ew,["moof","traf"]),aw=[].concat.apply([],tw.map(function(nw){return GT(nw,["tfhd"]).map(function(ow){var sw,iw;return sw=GS(ow[4]<<24|ow[5]<<16|ow[6]<<8|ow[7]),iw=ZL[sw]||9e4,(GT(nw,["tfdt"]).map(function(lw){var dw,pw;return dw=lw[0],pw=GS(lw[4]<<24|lw[5]<<16|lw[6]<<8|lw[7]),1===dw&&(pw*=4294967296,pw+=GS(lw[8]<<24|lw[9]<<16|lw[10]<<8|lw[11])),pw})[0]||1/0)/iw})})),rw=_Mathmin.apply(null,aw),isFinite(rw)?rw:0},videoTrackIds:function(ZL){var ew=GT(ZL,["moov","trak"]),tw=[];return ew.forEach(function(aw){var rw=GT(aw,["mdia","hdlr"]),nw=GT(aw,["tkhd"]);rw.forEach(function(ow,sw){var dw=YT(ow.subarray(8,12)),pw=nw[sw],iw,lw;"vide"===dw&&(lw=0===(iw=new DataView(pw.buffer,pw.byteOffset,pw.byteLength)).getUint8(0)?iw.getUint32(12):iw.getUint32(20),tw.push(lw))})}),tw}},XS=4294967295;!function(){if(hS={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var ZL in hS)hS.hasOwnProperty(ZL)&&(hS[ZL]=[ZL.charCodeAt(0),ZL.charCodeAt(1),ZL.charCodeAt(2),ZL.charCodeAt(3)]);yS=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),_S=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),fS=new Uint8Array([0,0,0,1]),bS=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),TS=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),SS={video:bS,audio:TS},CS=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),kS=new Uint8Array([0,0,0,0,0,0,0,0]),ES=new Uint8Array([0,0,0,0,0,0,0,0]),PS=ES,LS=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),wS=ES,vS=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),XT=function(ZL){var aw=[],rw=0,ew,tw;for(ew=1;ew<arguments.length;ew++)aw.push(arguments[ew]);for(ew=aw.length;ew--;)rw+=aw[ew].byteLength;for(tw=new Uint8Array(rw+8),new DataView(tw.buffer,tw.byteOffset,tw.byteLength).setUint32(0,tw.byteLength),tw.set(ZL,4),ew=0,rw=8;ew<aw.length;ew++)tw.set(aw[ew],rw),rw+=aw[ew].byteLength;return tw},KT=function(){return XT(hS.dinf,XT(hS.dref,CS))},$T=function(ZL){return XT(hS.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,ZL.audioobjecttype<<3|ZL.samplingfrequencyindex>>>1,ZL.samplingfrequencyindex<<7|ZL.channelcount<<3,6,1,2]))},lS=function(ZL){return XT(hS.hdlr,SS[ZL])},iS=function(ZL){var ew=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,255&ZL.duration>>>24,255&ZL.duration>>>16,255&ZL.duration>>>8,255&ZL.duration,85,196,0,0]);return ZL.samplerate&&(ew[12]=255&ZL.samplerate>>>24,ew[13]=255&ZL.samplerate>>>16,ew[14]=255&ZL.samplerate>>>8,ew[15]=255&ZL.samplerate),XT(hS.mdhd,ew)},sS=function(ZL){return XT(hS.mdia,iS(ZL),lS(ZL.type),ZT(ZL))},JT=function(ZL){return XT(hS.mfhd,new Uint8Array([0,0,0,0,(4278190080&ZL)>>24,(16711680&ZL)>>16,(65280&ZL)>>8,255&ZL]))},ZT=function(ZL){return XT(hS.minf,"video"===ZL.type?XT(hS.vmhd,vS):XT(hS.smhd,kS),KT(),pS(ZL))},eS=function(ZL,ew){for(var tw=[],aw=ew.length;aw--;)tw[aw]=cS(ew[aw]);return XT.apply(null,[hS.moof,JT(ZL)].concat(tw))},tS=function(ZL){for(var ew=ZL.length,tw=[];ew--;)tw[ew]=nS(ZL[ew]);return XT.apply(null,[hS.moov,rS(4294967295)].concat(tw).concat(aS(ZL)))},aS=function(ZL){for(var ew=ZL.length,tw=[];ew--;)tw[ew]=mS(ZL[ew]);return XT.apply(null,[hS.mvex].concat(tw))},rS=function(ZL){var ew=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&ZL)>>24,(16711680&ZL)>>16,(65280&ZL)>>8,255&ZL,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return XT(hS.mvhd,ew)},dS=function(ZL){var aw=ZL.samples||[],rw=new Uint8Array(4+aw.length),ew,tw;for(tw=0;tw<aw.length;tw++)ew=aw[tw].flags,rw[tw+4]=ew.dependsOn<<4|ew.isDependedOn<<2|ew.hasRedundancy;return XT(hS.sdtp,rw)},pS=function(ZL){return XT(hS.stbl,uS(ZL),XT(hS.stts,wS),XT(hS.stsc,PS),XT(hS.stsz,LS),XT(hS.stco,ES))},uS=function(ZL){return XT(hS.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===ZL.type?xS(ZL):AS(ZL))},xS=function(ZL){var tw=ZL.sps||[],aw=ZL.pps||[],rw=[],nw=[],ew;for(ew=0;ew<tw.length;ew++)rw.push((65280&tw[ew].byteLength)>>>8),rw.push(255&tw[ew].byteLength),rw=rw.concat(Array.prototype.slice.call(tw[ew]));for(ew=0;ew<aw.length;ew++)nw.push((65280&aw[ew].byteLength)>>>8),nw.push(255&aw[ew].byteLength),nw=nw.concat(Array.prototype.slice.call(aw[ew]));return XT(hS.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&ZL.width)>>8,255&ZL.width,(65280&ZL.height)>>8,255&ZL.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),XT(hS.avcC,new Uint8Array([1,ZL.profileIdc,ZL.profileCompatibility,ZL.levelIdc,255].concat([tw.length]).concat(rw).concat([aw.length]).concat(nw))),XT(hS.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},AS=function(ZL){return XT(hS.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&ZL.channelcount)>>8,255&ZL.channelcount,(65280&ZL.samplesize)>>8,255&ZL.samplesize,0,0,0,0,(65280&ZL.samplerate)>>8,255&ZL.samplerate,0,0]),$T(ZL))},oS=function(ZL){var ew=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&ZL.id)>>24,(16711680&ZL.id)>>16,(65280&ZL.id)>>8,255&ZL.id,0,0,0,0,(4278190080&ZL.duration)>>24,(16711680&ZL.duration)>>16,(65280&ZL.duration)>>8,255&ZL.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&ZL.width)>>8,255&ZL.width,0,0,(65280&ZL.height)>>8,255&ZL.height,0,0]);return XT(hS.tkhd,ew)},cS=function(ZL){var ew,tw,aw,rw,nw,ow;return ew=XT(hS.tfhd,new Uint8Array([0,0,0,58,(4278190080&ZL.id)>>24,(16711680&ZL.id)>>16,(65280&ZL.id)>>8,255&ZL.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),nw=_Mathfloor(ZL.baseMediaDecodeTime/(XS+1)),ow=_Mathfloor(ZL.baseMediaDecodeTime%(XS+1)),tw=XT(hS.tfdt,new Uint8Array([1,0,0,0,255&nw>>>24,255&nw>>>16,255&nw>>>8,255&nw,255&ow>>>24,255&ow>>>16,255&ow>>>8,255&ow])),92,"audio"===ZL.type?(aw=gS(ZL,92),XT(hS.traf,ew,tw,aw)):(rw=dS(ZL),aw=gS(ZL,rw.length+92),XT(hS.traf,ew,tw,aw,rw))},nS=function(ZL){return ZL.duration=ZL.duration||4294967295,XT(hS.trak,oS(ZL),sS(ZL))},mS=function(ZL){var ew=new Uint8Array([0,0,0,0,(4278190080&ZL.id)>>24,(16711680&ZL.id)>>16,(65280&ZL.id)>>8,255&ZL.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==ZL.type&&(ew[ew.length-1]=0),XT(hS.trex,ew)},OS=function(ZL,ew){var tw=0,aw=0,rw=0,nw=0;return ZL.length&&(void 0!==ZL[0].duration&&(tw=1),void 0!==ZL[0].size&&(aw=2),void 0!==ZL[0].flags&&(rw=4),void 0!==ZL[0].compositionTimeOffset&&(nw=8)),[0,0,tw|aw|rw|nw,1,(4278190080&ZL.length)>>>24,(16711680&ZL.length)>>>16,(65280&ZL.length)>>>8,255&ZL.length,(4278190080&ew)>>>24,(16711680&ew)>>>16,(65280&ew)>>>8,255&ew]},DS=function(ZL,ew){var tw,aw,rw,nw;for(ew+=20+16*(aw=ZL.samples||[]).length,tw=OS(aw,ew),nw=0;nw<aw.length;nw++)rw=aw[nw],tw=tw.concat([(4278190080&rw.duration)>>>24,(16711680&rw.duration)>>>16,(65280&rw.duration)>>>8,255&rw.duration,(4278190080&rw.size)>>>24,(16711680&rw.size)>>>16,(65280&rw.size)>>>8,255&rw.size,rw.flags.isLeading<<2|rw.flags.dependsOn,rw.flags.isDependedOn<<6|rw.flags.hasRedundancy<<4|rw.flags.paddingValue<<1|rw.flags.isNonSyncSample,61440&rw.flags.degradationPriority,15&rw.flags.degradationPriority,(4278190080&rw.compositionTimeOffset)>>>24,(16711680&rw.compositionTimeOffset)>>>16,(65280&rw.compositionTimeOffset)>>>8,255&rw.compositionTimeOffset]);return XT(hS.trun,new Uint8Array(tw))},IS=function(ZL,ew){var tw,aw,rw,nw;for(ew+=20+8*(aw=ZL.samples||[]).length,tw=OS(aw,ew),nw=0;nw<aw.length;nw++)rw=aw[nw],tw=tw.concat([(4278190080&rw.duration)>>>24,(16711680&rw.duration)>>>16,(65280&rw.duration)>>>8,255&rw.duration,(4278190080&rw.size)>>>24,(16711680&rw.size)>>>16,(65280&rw.size)>>>8,255&rw.size]);return XT(hS.trun,new Uint8Array(tw))},gS=function(ZL,ew){return"audio"===ZL.type?IS(ZL,ew):DS(ZL,ew)};var KS={ftyp:QT=function(){return XT(hS.ftyp,yS,fS,yS,_S)},mdat:function(ZL){return XT(hS.mdat,ZL)},moof:eS,moov:tS,initSegment:function(ZL){var tw=QT(),aw=tS(ZL),ew;return(ew=new Uint8Array(tw.byteLength+aw.byteLength)).set(tw),ew.set(aw,tw.byteLength),ew}},$S=KS.ftyp,QS=KS.mdat,JS=KS.moof,ZS=KS.moov,ev=KS.initSegment,tv=Object.freeze({default:KS,__moduleExports:KS,ftyp:$S,mdat:QS,moof:JS,moov:ZS,initSegment:ev}),av=function(){this.init=function(){var ZL={};this.on=function(ew,tw){ZL[ew]||(ZL[ew]=[]),ZL[ew]=ZL[ew].concat(tw)},this.off=function(ew,tw){var aw;return!!ZL[ew]&&(aw=ZL[ew].indexOf(tw),ZL[ew]=ZL[ew].slice(),ZL[ew].splice(aw,1),-1<aw)},this.trigger=function(ew){var tw,aw,rw,nw;if(tw=ZL[ew])if(2===arguments.length)for(rw=tw.length,aw=0;aw<rw;++aw)tw[aw].call(this,arguments[1]);else{for(nw=[],aw=arguments.length,aw=1;aw<arguments.length;++aw)nw.push(arguments[aw]);for(rw=tw.length,aw=0;aw<rw;++aw)tw[aw].apply(this,nw)}},this.dispose=function(){ZL={}}}};av.prototype.pipe=function(ZL){return this.on("data",function(ew){ZL.push(ew)}),this.on("done",function(ew){ZL.flush(ew)}),ZL},av.prototype.push=function(ZL){this.trigger("data",ZL)},av.prototype.flush=function(ZL){this.trigger("done",ZL)};var rv=av,nv=Object.freeze({default:rv,__moduleExports:rv}),ov={groupNalsIntoFrames:function(ZL){var aw=[],rw=[],ew,tw;for(ew=aw.byteLength=0;ew<ZL.length;ew++)"access_unit_delimiter_rbsp"===(tw=ZL[ew]).nalUnitType?(aw.length&&(aw.duration=tw.dts-aw.dts,rw.push(aw)),(aw=[tw]).byteLength=tw.data.byteLength,aw.pts=tw.pts,aw.dts=tw.dts):("slice_layer_without_partitioning_rbsp_idr"===tw.nalUnitType&&(aw.keyFrame=!0),aw.duration=tw.dts-aw.dts,aw.byteLength+=tw.data.byteLength,aw.push(tw));return rw.length&&(!aw.duration||0>=aw.duration)&&(aw.duration=rw[rw.length-1].duration),rw.push(aw),rw},groupFramesIntoGops:function(ZL){var aw=[],rw=[],ew,tw;for(aw.byteLength=0,aw.nalCount=0,aw.duration=0,aw.pts=ZL[0].pts,aw.dts=ZL[0].dts,rw.byteLength=0,rw.nalCount=0,rw.duration=0,rw.pts=ZL[0].pts,rw.dts=ZL[0].dts,ew=0;ew<ZL.length;ew++)(tw=ZL[ew]).keyFrame?(aw.length&&(rw.push(aw),rw.byteLength+=aw.byteLength,rw.nalCount+=aw.nalCount,rw.duration+=aw.duration),(aw=[tw]).nalCount=tw.length,aw.byteLength=tw.byteLength,aw.pts=tw.pts,aw.dts=tw.dts,aw.duration=tw.duration):(aw.duration+=tw.duration,aw.nalCount+=tw.length,aw.byteLength+=tw.byteLength,aw.push(tw));return rw.length&&0>=aw.duration&&(aw.duration=rw[rw.length-1].duration),rw.byteLength+=aw.byteLength,rw.nalCount+=aw.nalCount,rw.duration+=aw.duration,rw.push(aw),rw},extendFirstKeyFrame:function(ZL){var ew;return!ZL[0][0].keyFrame&&1<ZL.length&&(ew=ZL.shift(),ZL.byteLength-=ew.byteLength,ZL.nalCount-=ew.nalCount,ZL[0][0].dts=ew.dts,ZL[0][0].pts=ew.pts,ZL[0][0].duration+=ew.duration),ZL},generateSampleTable:function(ZL,ew){var lw=ew||0,dw=[],tw,aw,rw,nw,ow,sw,iw;for(tw=0;tw<ZL.length;tw++)for(nw=ZL[tw],aw=0;aw<nw.length;aw++)ow=nw[aw],sw=ow,iw=void 0,(iw={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}).dataOffset=lw,iw.compositionTimeOffset=sw.pts-sw.dts,iw.duration=sw.duration,iw.size=4*sw.length,iw.size+=sw.byteLength,sw.keyFrame&&(iw.flags.dependsOn=2,iw.flags.isNonSyncSample=0),lw+=(rw=iw).size,dw.push(rw);return dw},concatenateNalData:function(ZL){var sw=0,iw=ZL.byteLength,lw=ZL.nalCount,dw=new Uint8Array(iw+4*lw),pw=new DataView(dw.buffer),ew,tw,aw,rw,nw,ow;for(ew=0;ew<ZL.length;ew++)for(rw=ZL[ew],tw=0;tw<rw.length;tw++)for(nw=rw[tw],aw=0;aw<nw.length;aw++)ow=nw[aw],pw.setUint32(sw,ow.data.byteLength),sw+=4,dw.set(ow.data,sw),sw+=ow.data.byteLength;return dw}},sv=ov.groupNalsIntoFrames,iv=ov.groupFramesIntoGops,lv=ov.extendFirstKeyFrame,dv=ov.generateSampleTable,pv=ov.concatenateNalData,uv=Object.freeze({default:ov,__moduleExports:ov,groupNalsIntoFrames:sv,groupFramesIntoGops:iv,extendFirstKeyFrame:lv,generateSampleTable:dv,concatenateNalData:pv}),cv={clearDtsInfo:function(ZL){delete ZL.minSegmentDts,delete ZL.maxSegmentDts,delete ZL.minSegmentPts,delete ZL.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(ZL,ew){var aw=ZL.minSegmentDts,tw;return ew||(aw-=ZL.timelineStartInfo.dts),tw=ZL.timelineStartInfo.baseMediaDecodeTime,tw+=aw,tw=_Mathmax(0,tw),"audio"===ZL.type&&(tw*=ZL.samplerate/9e4,tw=_Mathfloor(tw)),tw},collectDtsInfo:function(ZL,ew){"number"==typeof ew.pts&&(void 0===ZL.timelineStartInfo.pts&&(ZL.timelineStartInfo.pts=ew.pts),ZL.minSegmentPts=void 0===ZL.minSegmentPts?ew.pts:_Mathmin(ZL.minSegmentPts,ew.pts),ZL.maxSegmentPts=void 0===ZL.maxSegmentPts?ew.pts:_Mathmax(ZL.maxSegmentPts,ew.pts)),"number"==typeof ew.dts&&(void 0===ZL.timelineStartInfo.dts&&(ZL.timelineStartInfo.dts=ew.dts),ZL.minSegmentDts=void 0===ZL.minSegmentDts?ew.dts:_Mathmin(ZL.minSegmentDts,ew.dts),ZL.maxSegmentDts=void 0===ZL.maxSegmentDts?ew.dts:_Mathmax(ZL.maxSegmentDts,ew.dts))}},mv=cv.clearDtsInfo,gv=cv.calculateTrackBaseMediaDecodeTime,hv=cv.collectDtsInfo,yv=Object.freeze({default:cv,__moduleExports:cv,clearDtsInfo:mv,calculateTrackBaseMediaDecodeTime:gv,collectDtsInfo:hv}),fv={parseSei:function(ZL){for(var ew=0,tw={payloadType:-1,payloadSize:0},aw=0,rw=0;ew<ZL.byteLength&&128!==ZL[ew];){for(;255===ZL[ew];)aw+=255,ew++;for(aw+=ZL[ew++];255===ZL[ew];)rw+=255,ew++;if(rw+=ZL[ew++],!tw.payload&&4===aw){tw.payloadType=aw,tw.payloadSize=rw,tw.payload=ZL.subarray(ew,ew+rw);break}ew+=rw,rw=aw=0}return tw},parseUserData:function(ZL){return 181===ZL.payload[0]?49==(ZL.payload[1]<<8|ZL.payload[2])?"GA94"===_StringfromCharCode(ZL.payload[3],ZL.payload[4],ZL.payload[5],ZL.payload[6])?3===ZL.payload[7]?ZL.payload.subarray(8,ZL.payload.length-1):null:null:null:null},parseCaptionPackets:function(ZL,ew){var ow=[],tw,aw,rw,nw;if(!(64&ew[0]))return ow;for(aw=31&ew[0],tw=0;tw<aw;tw++)nw={type:3&ew[2+(rw=3*tw)],pts:ZL},4&ew[rw+2]&&(nw.ccData=ew[rw+3]<<8|ew[rw+4],ow.push(nw));return ow},discardEmulationPreventionBytes:function(ZL){for(var aw=ZL.byteLength,rw=[],nw=1,ew,tw;nw<aw-2;)0===ZL[nw]&&0===ZL[nw+1]&&3===ZL[nw+2]?(rw.push(nw+2),nw+=2):nw++;if(0===rw.length)return ZL;ew=aw-rw.length,tw=new Uint8Array(ew);var ow=0;for(nw=0;nw<ew;ow++,nw++)ow===rw[0]&&(ow++,rw.shift()),tw[nw]=ZL[ow];return tw},USER_DATA_REGISTERED_ITU_T_T35:4},_v=fv.parseSei,bv=fv.parseUserData,Tv=fv.parseCaptionPackets,Sv=fv.discardEmulationPreventionBytes,vv=fv.USER_DATA_REGISTERED_ITU_T_T35,kv=Object.freeze({default:fv,__moduleExports:fv,parseSei:_v,parseUserData:bv,parseCaptionPackets:Tv,discardEmulationPreventionBytes:Sv,USER_DATA_REGISTERED_ITU_T_T35:vv}),Cv=nv&&rv||nv,Ev=kv&&fv||kv,Pv=function ZL(){ZL.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Iv(0,0),new Iv(0,1),new Iv(1,0),new Iv(1,1)],this.reset(),this.ccStreams_.forEach(function(ew){ew.on("data",this.trigger.bind(this,"data")),ew.on("done",this.trigger.bind(this,"done"))},this)};(Pv.prototype=new Cv).push=function(ZL){var ew,tw,aw;if("sei_rbsp"===ZL.nalUnitType&&(ew=Ev.parseSei(ZL.escapedRBSP)).payloadType===Ev.USER_DATA_REGISTERED_ITU_T_T35&&(tw=Ev.parseUserData(ew)))if(ZL.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(ZL.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));aw=Ev.parseCaptionPackets(ZL.pts,tw),this.captionPackets_=this.captionPackets_.concat(aw),this.latestDts_!==ZL.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=ZL.dts}},Pv.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(ZL,ew){ZL.presortIndex=ew}),this.captionPackets_.sort(function(ZL,ew){return ZL.pts===ew.pts?ZL.presortIndex-ew.presortIndex:ZL.pts-ew.pts}),this.captionPackets_.forEach(function(ZL){2>ZL.type&&this.dispatchCea608Packet(ZL)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(ZL){ZL.flush()},this)):this.ccStreams_.forEach(function(ZL){ZL.flush()},this)},Pv.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(ZL){ZL.reset()})},Pv.prototype.dispatchCea608Packet=function(ZL){this.setsChannel1Active(ZL)?this.activeCea608Channel_[ZL.type]=0:this.setsChannel2Active(ZL)&&(this.activeCea608Channel_[ZL.type]=1),null!==this.activeCea608Channel_[ZL.type]&&this.ccStreams_[(ZL.type<<1)+this.activeCea608Channel_[ZL.type]].push(ZL)},Pv.prototype.setsChannel1Active=function(ZL){return 4096==(30720&ZL.ccData)},Pv.prototype.setsChannel2Active=function(ZL){return 6144==(30720&ZL.ccData)};var Lv={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},wv=function(ZL){return null===ZL?"":(ZL=Lv[ZL]||ZL,_StringfromCharCode(ZL))},xv=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Av=function(){for(var ZL=[],ew=15;ew--;)ZL.push("");return ZL},Iv=function ZL(ew,tw){ZL.prototype.init.call(this),this.field_=ew||0,this.dataChannel_=tw||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(aw){var rw,nw,ow,sw,iw;if(!((rw=32639&aw.ccData)!==this.lastControlCode_))this.lastControlCode_=null;else if(4096==(61440&rw)?this.lastControlCode_=rw:rw!==this.PADDING_&&(this.lastControlCode_=null),ow=rw>>>8,sw=255&rw,rw!==this.PADDING_)if(rw===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(rw===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(aw.pts),this.flushDisplayed(aw.pts),nw=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=nw,this.startPts_=aw.pts;else if(rw===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(aw.pts);else if(rw===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(aw.pts);else if(rw===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(aw.pts);else if(rw===this.CARRIAGE_RETURN_)this.clearFormatting(aw.pts),this.flushDisplayed(aw.pts),this.shiftRowsUp_(),this.startPts_=aw.pts;else if(rw===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(rw===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(aw.pts),this.displayed_=Av();else if(rw===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Av();else if(rw===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(aw.pts),this.displayed_=Av()),this.mode_="paintOn",this.startPts_=aw.pts;else if(this.isSpecialCharacter(ow,sw))iw=wv((ow=(3&ow)<<8)|sw),this[this.mode_](aw.pts,iw),this.column_++;else if(this.isExtCharacter(ow,sw))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),iw=wv((ow=(3&ow)<<8)|sw),this[this.mode_](aw.pts,iw),this.column_++;else if(this.isMidRowCode(ow,sw))this.clearFormatting(aw.pts),this[this.mode_](aw.pts," "),this.column_++,14==(14&sw)&&this.addFormatting(aw.pts,["i"]),1==(1&sw)&&this.addFormatting(aw.pts,["u"]);else if(this.isOffsetControlCode(ow,sw))this.column_+=3&sw;else if(this.isPAC(ow,sw)){var lw=xv.indexOf(7968&rw);"rollUp"===this.mode_&&this.setRollUp(aw.pts,lw),lw!==this.row_&&(this.clearFormatting(aw.pts),this.row_=lw),1&sw&&-1===this.formatting_.indexOf("u")&&this.addFormatting(aw.pts,["u"]),16==(16&rw)&&(this.column_=4*((14&rw)>>1)),this.isColorPAC(sw)&&14==(14&sw)&&this.addFormatting(aw.pts,["i"])}else this.isNormalChar(ow)&&(0===sw&&(sw=null),iw=wv(ow),iw+=wv(sw),this[this.mode_](aw.pts,iw),this.column_+=iw.length)}};Iv.prototype=new Cv,Iv.prototype.flushDisplayed=function(ZL){var ew=this.displayed_.map(function(tw){return tw.trim()}).join("\n").replace(/^\n+|\n+$/g,"");ew.length&&this.trigger("data",{startPts:this.startPts_,endPts:ZL,text:ew,stream:this.name_})},Iv.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Av(),this.nonDisplayed_=Av(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Iv.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Iv.prototype.isSpecialCharacter=function(ZL,ew){return ZL===this.EXT_&&48<=ew&&63>=ew},Iv.prototype.isExtCharacter=function(ZL,ew){return(ZL===this.EXT_+1||ZL===this.EXT_+2)&&32<=ew&&63>=ew},Iv.prototype.isMidRowCode=function(ZL,ew){return ZL===this.EXT_&&32<=ew&&47>=ew},Iv.prototype.isOffsetControlCode=function(ZL,ew){return ZL===this.OFFSET_&&33<=ew&&35>=ew},Iv.prototype.isPAC=function(ZL,ew){return ZL>=this.BASE_&&ZL<this.BASE_+8&&64<=ew&&127>=ew},Iv.prototype.isColorPAC=function(ZL){return 64<=ZL&&79>=ZL||96<=ZL&&127>=ZL},Iv.prototype.isNormalChar=function(ZL){return 32<=ZL&&127>=ZL},Iv.prototype.setRollUp=function(ZL,ew){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(ZL),this.nonDisplayed_=Av(),this.displayed_=Av()),void 0!==ew&&ew!==this.row_)for(var tw=0;tw<this.rollUpRows_;tw++)this.displayed_[ew-tw]=this.displayed_[this.row_-tw],this.displayed_[this.row_-tw]="";void 0===ew&&(ew=this.row_),this.topRow_=ew-this.rollUpRows_+1},Iv.prototype.addFormatting=function(ZL,ew){this.formatting_=this.formatting_.concat(ew);var tw=ew.reduce(function(aw,rw){return aw+"<"+rw+">"},"");this[this.mode_](ZL,tw)},Iv.prototype.clearFormatting=function(ZL){if(this.formatting_.length){var ew=this.formatting_.reverse().reduce(function(tw,aw){return tw+"</"+aw+">"},"");this.formatting_=[],this[this.mode_](ZL,ew)}},Iv.prototype.popOn=function(ZL,ew){var tw=this.nonDisplayed_[this.row_];tw+=ew,this.nonDisplayed_[this.row_]=tw},Iv.prototype.rollUp=function(ZL,ew){var tw=this.displayed_[this.row_];tw+=ew,this.displayed_[this.row_]=tw},Iv.prototype.shiftRowsUp_=function(){var ZL;for(ZL=0;ZL<this.topRow_;ZL++)this.displayed_[ZL]="";for(ZL=this.row_+1;15>ZL;ZL++)this.displayed_[ZL]="";for(ZL=this.topRow_;ZL<this.row_;ZL++)this.displayed_[ZL]=this.displayed_[ZL+1];this.displayed_[this.row_]=""},Iv.prototype.paintOn=function(ZL,ew){var tw=this.displayed_[this.row_];tw+=ew,this.displayed_[this.row_]=tw};var Dv={CaptionStream:Pv,Cea608Stream:Iv},Ov=Dv.CaptionStream,Rv=Dv.Cea608Stream,Uv=Object.freeze({default:Dv,__moduleExports:Dv,CaptionStream:Ov,Cea608Stream:Rv}),Mv={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Bv=Mv.H264_STREAM_TYPE,Nv=Mv.ADTS_STREAM_TYPE,Fv=Mv.METADATA_STREAM_TYPE,jv=Object.freeze({default:Mv,__moduleExports:Mv,H264_STREAM_TYPE:Bv,ADTS_STREAM_TYPE:Nv,METADATA_STREAM_TYPE:Fv}),Hv=function(ZL,ew){var tw=1;for(ew<ZL&&(tw=-1);4294967296<_Mathabs(ew-ZL);)ZL+=8589934592*tw;return ZL},Vv=function ZL(ew){var tw,aw;ZL.prototype.init.call(this),this.type_=ew,this.push=function(rw){rw.type===this.type_&&(void 0==aw&&(aw=rw.dts),rw.dts=Hv(rw.dts,aw),rw.pts=Hv(rw.pts,aw),tw=rw.dts,this.trigger("data",rw))},this.flush=function(){aw=tw,this.trigger("done")},this.discontinuity=function(){tw=aw=void 0}};Vv.prototype=new Cv;var qv={TimestampRolloverStream:Vv,handleRollover:Hv},Wv=qv.TimestampRolloverStream,Gv=qv.handleRollover,Yv=Object.freeze({default:qv,__moduleExports:qv,TimestampRolloverStream:Wv,handleRollover:Gv}),Xv=jv&&Mv||jv,Kv=function(ZL,ew,tw){var rw="",aw;for(aw=ew;aw<tw;aw++)rw+="%"+("00"+ZL[aw].toString(16)).slice(-2);return rw},$v=function(ZL,ew,tw){return decodeURIComponent(Kv(ZL,ew,tw))},Qv=function(ZL){return ZL[0]<<21|ZL[1]<<14|ZL[2]<<7|ZL[3]},Jv={TXXX:function(ZL){var ew;if(3===ZL.data[0]){for(ew=1;ew<ZL.data.length;ew++)if(0===ZL.data[ew]){ZL.description=$v(ZL.data,1,ew),ZL.value=$v(ZL.data,ew+1,ZL.data.length).replace(/\0*$/,"");break}ZL.data=ZL.value}},WXXX:function(ZL){var ew;if(3===ZL.data[0])for(ew=1;ew<ZL.data.length;ew++)if(0===ZL.data[ew]){ZL.description=$v(ZL.data,1,ew),ZL.url=$v(ZL.data,ew+1,ZL.data.length);break}},PRIV:function(ZL){var ew,tw;for(ew=0;ew<ZL.data.length;ew++)if(0===ZL.data[ew]){ZL.owner=(tw=ZL.data,unescape(Kv(tw,0,ew)));break}ZL.privateData=ZL.data.subarray(ew+1),ZL.data=ZL.privateData}},zv;(zv=function(ZL){var tw={debug:ZL&&ZL.debug,descriptor:ZL&&ZL.descriptor},aw=0,rw=[],nw=0,ew;if(zv.prototype.init.call(this),this.dispatchType=Xv.METADATA_STREAM_TYPE.toString(16),tw.descriptor)for(ew=0;ew<tw.descriptor.length;ew++)this.dispatchType+=("00"+tw.descriptor[ew].toString(16)).slice(-2);this.push=function(ow){var sw,iw,lw,dw,pw;if("timed-metadata"===ow.type)if(ow.dataAlignmentIndicator&&(nw=0,rw.length=0),0===rw.length&&(10>ow.data.length||ow.data[0]!=="I".charCodeAt(0)||ow.data[1]!=="D".charCodeAt(0)||ow.data[2]!=="3".charCodeAt(0)))tw.debug;else if(rw.push(ow),nw+=ow.data.byteLength,1===rw.length&&(aw=Qv(ow.data.subarray(6,10)),aw+=10),!(nw<aw)){for(sw={data:new Uint8Array(aw),frames:[],pts:rw[0].pts,dts:rw[0].dts},pw=0;pw<aw;)sw.data.set(rw[0].data.subarray(0,aw-pw),pw),pw+=rw[0].data.byteLength,nw-=rw[0].data.byteLength,rw.shift();iw=10,64&sw.data[5]&&(iw+=4,iw+=Qv(sw.data.subarray(10,14)),aw-=Qv(sw.data.subarray(16,20)));do{if(1>(lw=Qv(sw.data.subarray(iw+4,iw+8))))return;if((dw={id:_StringfromCharCode(sw.data[iw],sw.data[iw+1],sw.data[iw+2],sw.data[iw+3]),data:sw.data.subarray(iw+10,iw+lw+10)}).key=dw.id,Jv[dw.id]&&(Jv[dw.id](dw),"com.apple.streaming.transportStreamTimestamp"===dw.owner)){var uw=dw.data,cw=(1&uw[3])<<30|uw[4]<<22|uw[5]<<14|uw[6]<<6|uw[7]>>>2;cw*=4,cw+=3&uw[7],dw.timeStamp=cw,void 0===sw.pts&&void 0===sw.dts&&(sw.pts=dw.timeStamp,sw.dts=dw.timeStamp),this.trigger("timestamp",dw)}sw.frames.push(dw),iw+=10,iw+=lw}while(iw<aw);this.trigger("data",sw)}}}).prototype=new Cv;var ak=zv,rk=Object.freeze({default:ak,__moduleExports:ak}),nk=Uv&&Dv||Uv,ok=Yv&&qv||Yv,ik=ok.TimestampRolloverStream,Zv,ek,tk;(Zv=function(){var ZL=new Uint8Array(188),ew=0;Zv.prototype.init.call(this),this.push=function(tw){var rw=0,nw=188,aw;for(ew?((aw=new Uint8Array(tw.byteLength+ew)).set(ZL.subarray(0,ew)),aw.set(tw,ew),ew=0):aw=tw;nw<aw.byteLength;)71!==aw[rw]||71!==aw[nw]?(rw++,nw++):(this.trigger("data",aw.subarray(rw,nw)),rw+=188,nw+=188);rw<aw.byteLength&&(ZL.set(aw.subarray(rw),0),ew=aw.byteLength-rw)},this.flush=function(){188==ew&&71===ZL[0]&&(this.trigger("data",ZL),ew=0),this.trigger("done")}}).prototype=new Cv,(ek=function(){var ZL,ew,tw,aw;ek.prototype.init.call(this),(aw=this).packetsWaitingForPmt=[],this.programMapTable=void 0,ZL=function(rw,nw){var ow=0;nw.payloadUnitStartIndicator&&(ow+=rw[ow]+1),"pat"===nw.type?ew(rw.subarray(ow),nw):tw(rw.subarray(ow),nw)},ew=function(rw,nw){nw.section_number=rw[7],nw.last_section_number=rw[8],aw.pmtPid=(31&rw[10])<<8|rw[11],nw.pmtPid=aw.pmtPid},tw=function(rw,nw){var ow,sw;if(1&rw[5]){for(aw.programMapTable={video:null,audio:null,"timed-metadata":{}},ow=3+((15&rw[1])<<8|rw[2])-4,sw=12+((15&rw[10])<<8|rw[11]);sw<ow;){var iw=rw[sw],lw=(31&rw[sw+1])<<8|rw[sw+2];iw===Xv.H264_STREAM_TYPE&&null===aw.programMapTable.video?aw.programMapTable.video=lw:iw===Xv.ADTS_STREAM_TYPE&&null===aw.programMapTable.audio?aw.programMapTable.audio=lw:iw===Xv.METADATA_STREAM_TYPE&&(aw.programMapTable["timed-metadata"][lw]=iw),sw+=5+((15&rw[sw+3])<<8|rw[sw+4])}nw.programMapTable=aw.programMapTable}},this.push=function(rw){var nw={},ow=4;if(nw.payloadUnitStartIndicator=!!(64&rw[1]),nw.pid=31&rw[1],nw.pid<<=8,nw.pid|=rw[2],1<(48&rw[3])>>>4&&(ow+=rw[ow]+1),0===nw.pid)nw.type="pat",ZL(rw.subarray(ow),nw),this.trigger("data",nw);else if(nw.pid===this.pmtPid)for(nw.type="pmt",ZL(rw.subarray(ow),nw),this.trigger("data",nw);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([rw,ow,nw]):this.processPes_(rw,ow,nw)},this.processPes_=function(rw,nw,ow){ow.streamType=ow.pid===this.programMapTable.video?Xv.H264_STREAM_TYPE:ow.pid===this.programMapTable.audio?Xv.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][ow.pid],ow.type="pes",ow.data=rw.subarray(nw),this.trigger("data",ow)}}).prototype=new Cv,ek.STREAM_TYPES={h264:27,adts:15},(tk=function(){var ZL=this,ew={data:[],size:0},tw={data:[],size:0},aw={data:[],size:0},rw=function(nw,ow,sw){var dw=new Uint8Array(nw.size),pw={type:ow},uw=0,cw=0,iw,lw;if(nw.data.length&&!(9>nw.size)){for(pw.trackId=nw.data[0].pid,uw=0;uw<nw.data.length;uw++)lw=nw.data[uw],dw.set(lw.data,cw),cw+=lw.data.byteLength;var mw,gw,hw;mw=dw,(gw=pw).packetLength=6+(mw[4]<<8|mw[5]),gw.dataAlignmentIndicator=0!=(4&mw[6]),192&(hw=mw[7])&&(gw.pts=(14&mw[9])<<27|(255&mw[10])<<20|(254&mw[11])<<12|(255&mw[12])<<5|(254&mw[13])>>>3,gw.pts*=4,gw.pts+=(6&mw[13])>>>1,gw.dts=gw.pts,64&hw&&(gw.dts=(14&mw[14])<<27|(255&mw[15])<<20|(254&mw[16])<<12|(255&mw[17])<<5|(254&mw[18])>>>3,gw.dts*=4,gw.dts+=(6&mw[18])>>>1)),gw.data=mw.subarray(9+mw[8]),iw="video"===ow||pw.packetLength<=nw.size,(sw||iw)&&(nw.size=0,nw.data.length=0),iw&&ZL.trigger("data",pw)}};tk.prototype.init.call(this),this.push=function(nw){({pat:function(){},pes:function(){var ow,sw;switch(nw.streamType){case Xv.H264_STREAM_TYPE:case Xv.H264_STREAM_TYPE:ow=ew,sw="video";break;case Xv.ADTS_STREAM_TYPE:ow=tw,sw="audio";break;case Xv.METADATA_STREAM_TYPE:ow=aw,sw="timed-metadata";break;default:return;}nw.payloadUnitStartIndicator&&rw(ow,sw,!0),ow.data.push(nw),ow.size+=nw.data.byteLength},pmt:function(){var ow={type:"metadata",tracks:[]},sw=nw.programMapTable;null!==sw.video&&ow.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+sw.video,codec:"avc",type:"video"}),null!==sw.audio&&ow.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+sw.audio,codec:"adts",type:"audio"}),ZL.trigger("data",ow)}})[nw.type]()},this.flush=function(){rw(ew,"video"),rw(tw,"audio"),rw(aw,"timed-metadata"),this.trigger("done")}}).prototype=new Cv;var lk={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Zv,TransportParseStream:ek,ElementaryStream:tk,TimestampRolloverStream:ik,CaptionStream:nk.CaptionStream,Cea608Stream:nk.Cea608Stream,MetadataStream:rk&&ak||rk};for(var dk in Xv)Xv.hasOwnProperty(dk)&&(lk[dk]=Xv[dk]);var uk=lk,ck=Object.freeze({default:uk,__moduleExports:uk}),mk=[96000,88200,64000,48000,44100,32000,24000,22050,16000,12000,11025,8000,7350],pk;(pk=function(){var ZL;pk.prototype.init.call(this),this.push=function(ew){var iw=0,lw=0,tw,aw,rw,nw,ow,sw;if("audio"===ew.type)for(ZL?(nw=ZL,(ZL=new Uint8Array(nw.byteLength+ew.data.byteLength)).set(nw),ZL.set(ew.data,nw.byteLength)):ZL=ew.data;iw+5<ZL.length;)if(255===ZL[iw]&&240==(246&ZL[iw+1])){if(aw=2*(1&~ZL[iw+1]),tw=(3&ZL[iw+3])<<11|ZL[iw+4]<<3|(224&ZL[iw+5])>>5,sw=9e4*(ow=1024*(1+(3&ZL[iw+6])))/mk[(60&ZL[iw+2])>>>2],rw=iw+tw,ZL.byteLength<rw)return;if(this.trigger("data",{pts:ew.pts+lw*sw,dts:ew.dts+lw*sw,sampleCount:ow,audioobjecttype:1+(3&ZL[iw+2]>>>6),channelcount:(1&ZL[iw+2])<<2|(192&ZL[iw+3])>>>6,samplerate:mk[(60&ZL[iw+2])>>>2],samplingfrequencyindex:(60&ZL[iw+2])>>>2,samplesize:16,data:ZL.subarray(iw+7+aw,rw)}),ZL.byteLength===rw)return void(ZL=void 0);lw++,ZL=ZL.subarray(rw)}else iw++},this.flush=function(){this.trigger("done")}}).prototype=new Cv;var fk=pk,_k=Object.freeze({default:fk,__moduleExports:fk}),bk=function(ZL){var ew=ZL.byteLength,tw=0,aw=0;this.length=function(){return 8*ew},this.bitsAvailable=function(){return 8*ew+aw},this.loadWord=function(){var rw=ZL.byteLength-ew,nw=new Uint8Array(4),ow=_Mathmin(4,ew);if(0===ow)throw new Error("no bytes available");nw.set(ZL.subarray(rw,rw+ow)),tw=new DataView(nw.buffer).getUint32(0),aw=8*ow,ew-=ow},this.skipBits=function(rw){var nw;rw<aw||(rw-=aw,rw-=8*(nw=_Mathfloor(rw/8)),ew-=nw,this.loadWord()),tw<<=rw,aw-=rw},this.readBits=function(rw){var nw=_Mathmin(aw,rw),ow=tw>>>32-nw;return 0<(aw-=nw)?tw<<=nw:0<ew&&this.loadWord(),0<(nw=rw-nw)?ow<<nw|this.readBits(nw):ow},this.skipLeadingZeros=function(){var rw;for(rw=0;rw<aw;++rw)if(0!=(tw&2147483648>>>rw))return tw<<=rw,aw-=rw,rw;return this.loadWord(),rw+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var rw=this.skipLeadingZeros();return this.readBits(rw+1)-1},this.readExpGolomb=function(){var rw=this.readUnsignedExpGolomb();return 1&rw?1+rw>>>1:-1*(rw>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},Tk=Object.freeze({default:bk,__moduleExports:bk}),gk,hk,yk;(hk=function(){var tw=0,ZL,ew;hk.prototype.init.call(this),this.push=function(aw){var rw;for(ew?((rw=new Uint8Array(ew.byteLength+aw.data.byteLength)).set(ew),rw.set(aw.data,ew.byteLength),ew=rw):ew=aw.data;tw<ew.byteLength-3;tw++)if(1===ew[tw+2]){ZL=tw+5;break}for(;ZL<ew.byteLength;)switch(ew[ZL]){case 0:if(0!==ew[ZL-1]){ZL+=2;break}if(0!==ew[ZL-2]){ZL++;break}for(tw+3!=ZL-2&&this.trigger("data",ew.subarray(tw+3,ZL-2));1!==ew[++ZL]&&ZL<ew.length;);tw=ZL-2,ZL+=3;break;case 1:if(0!==ew[ZL-1]||0!==ew[ZL-2]){ZL+=3;break}this.trigger("data",ew.subarray(tw+3,ZL-2)),tw=ZL-2,ZL+=3;break;default:ZL+=3;}ew=ew.subarray(tw),ZL-=tw,tw=0},this.flush=function(){ew&&3<ew.byteLength&&this.trigger("data",ew.subarray(tw+3)),ew=null,tw=0,this.trigger("done")}}).prototype=new Cv,yk={44:!0,83:!0,86:!0,100:!0,110:!0,118:!0,122:!0,128:!0,134:!0,138:!0,139:!0,244:!0},(gk=function(){var sw=new hk,ZL,ew,tw,aw,rw,nw,ow;gk.prototype.init.call(this),(ZL=this).push=function(iw){"video"===iw.type&&(ew=iw.trackId,tw=iw.pts,aw=iw.dts,sw.push(iw))},sw.on("data",function(iw){var lw={trackId:ew,pts:tw,dts:aw,data:iw};switch(31&iw[0]){case 5:lw.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:lw.nalUnitType="sei_rbsp",lw.escapedRBSP=rw(iw.subarray(1));break;case 7:lw.nalUnitType="seq_parameter_set_rbsp",lw.escapedRBSP=rw(iw.subarray(1)),lw.config=nw(lw.escapedRBSP);break;case 8:lw.nalUnitType="pic_parameter_set_rbsp";break;case 9:lw.nalUnitType="access_unit_delimiter_rbsp";}ZL.trigger("data",lw)}),sw.on("done",function(){ZL.trigger("done")}),this.flush=function(){sw.flush()},ow=function(iw,lw){var pw=8,uw=8,dw;for(dw=0;dw<iw;dw++)0!=uw&&(uw=(pw+lw.readExpGolomb()+256)%256),pw=0==uw?pw:uw},rw=function(iw){for(var pw=iw.byteLength,uw=[],cw=1,lw,dw;cw<pw-2;)0===iw[cw]&&0===iw[cw+1]&&3===iw[cw+2]?(uw.push(cw+2),cw+=2):cw++;if(0===uw.length)return iw;lw=pw-uw.length,dw=new Uint8Array(lw);var mw=0;for(cw=0;cw<lw;mw++,cw++)mw===uw[0]&&(mw++,uw.shift()),dw[cw]=iw[mw];return dw},nw=function(iw){var Sw=0,vw=0,kw=0,Cw=0,Ew=1,lw,dw,pw,uw,cw,mw,gw,hw,yw,fw,_w,bw,Tw;if(dw=(lw=new(Tk&&bk||Tk)(iw)).readUnsignedByte(),uw=lw.readUnsignedByte(),pw=lw.readUnsignedByte(),lw.skipUnsignedExpGolomb(),yk[dw]&&(3===(cw=lw.readUnsignedExpGolomb())&&lw.skipBits(1),lw.skipUnsignedExpGolomb(),lw.skipUnsignedExpGolomb(),lw.skipBits(1),lw.readBoolean()))for(_w=3===cw?12:8,Tw=0;Tw<_w;Tw++)lw.readBoolean()&&ow(6>Tw?16:64,lw);if(lw.skipUnsignedExpGolomb(),0===(mw=lw.readUnsignedExpGolomb()))lw.readUnsignedExpGolomb();else if(1===mw)for(lw.skipBits(1),lw.skipExpGolomb(),lw.skipExpGolomb(),gw=lw.readUnsignedExpGolomb(),Tw=0;Tw<gw;Tw++)lw.skipExpGolomb();if(lw.skipUnsignedExpGolomb(),lw.skipBits(1),hw=lw.readUnsignedExpGolomb(),yw=lw.readUnsignedExpGolomb(),0===(fw=lw.readBits(1))&&lw.skipBits(1),lw.skipBits(1),lw.readBoolean()&&(Sw=lw.readUnsignedExpGolomb(),vw=lw.readUnsignedExpGolomb(),kw=lw.readUnsignedExpGolomb(),Cw=lw.readUnsignedExpGolomb()),lw.readBoolean()&&lw.readBoolean()){switch(lw.readUnsignedByte()){case 1:bw=[1,1];break;case 2:bw=[12,11];break;case 3:bw=[10,11];break;case 4:bw=[16,11];break;case 5:bw=[40,33];break;case 6:bw=[24,11];break;case 7:bw=[20,11];break;case 8:bw=[32,11];break;case 9:bw=[80,33];break;case 10:bw=[18,11];break;case 11:bw=[15,11];break;case 12:bw=[64,33];break;case 13:bw=[160,99];break;case 14:bw=[4,3];break;case 15:bw=[3,2];break;case 16:bw=[2,1];break;case 255:bw=[lw.readUnsignedByte()<<8|lw.readUnsignedByte(),lw.readUnsignedByte()<<8|lw.readUnsignedByte()];}bw&&(Ew=bw[0]/bw[1])}return{profileIdc:dw,levelIdc:pw,profileCompatibility:uw,width:_Mathceil((16*(hw+1)-2*Sw-2*vw)*Ew),height:16*((2-fw)*(yw+1))-2*kw-2*Cw}}}).prototype=new Cv;var kk={H264Stream:gk,NalByteStream:hk},Ck=kk.H264Stream,Ek=kk.NalByteStream,Pk=Object.freeze({default:kk,__moduleExports:kk,H264Stream:Ck,NalByteStream:Ek}),vk;(vk=function(){var ZL=new Uint8Array,ew=0;vk.prototype.init.call(this),this.setTimestamp=function(tw){ew=tw},this.parseId3TagSize=function(tw,aw){var rw=tw[aw+6]<<21|tw[aw+7]<<14|tw[aw+8]<<7|tw[aw+9];return(16&tw[aw+5])>>4?rw+20:rw+10},this.parseAdtsSize=function(tw,aw){var rw=(224&tw[aw+5])>>5,nw=tw[aw+4]<<3;return 6144&tw[aw+3]|nw|rw},this.push=function(tw){var sw=0,iw=0,aw,rw,nw,ow;for(ZL.length?(ow=ZL.length,(ZL=new Uint8Array(tw.byteLength+ow)).set(ZL.subarray(0,ow)),ZL.set(tw,ow)):ZL=tw;3<=ZL.length-iw;)if(!(ZL[iw]!=="I".charCodeAt(0)||ZL[iw+1]!=="D".charCodeAt(0)||ZL[iw+2]!=="3".charCodeAt(0))){if(10>ZL.length-iw)break;if((sw=this.parseId3TagSize(ZL,iw))>ZL.length)break;rw={type:"timed-metadata",data:ZL.subarray(iw,iw+sw)},this.trigger("data",rw),iw+=sw}else if(!0&ZL[iw]&&240==(240&ZL[iw+1])){if(7>ZL.length-iw)break;if((sw=this.parseAdtsSize(ZL,iw))>ZL.length)break;nw={type:"audio",data:ZL.subarray(iw,iw+sw),pts:ew,dts:ew},this.trigger("data",nw),iw+=sw}else iw++;aw=ZL.length-iw,ZL=0<aw?ZL.subarray(iw):new Uint8Array}}).prototype=new Cv;var Fk=vk,jk=Object.freeze({default:Fk,__moduleExports:Fk}),Hk=[33,16,5,32,164,27],Vk=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],zk=function(ZL){for(var ew=[];ZL--;)ew.push(0);return ew},qk={96000:[Hk,[227,64],zk(154),[56]],88200:[Hk,[231],zk(170),[56]],64000:[Hk,[248,192],zk(240),[56]],48000:[Hk,[255,192],zk(268),[55,148,128],zk(54),[112]],44100:[Hk,[255,192],zk(268),[55,163,128],zk(84),[112]],32000:[Hk,[255,192],zk(268),[55,234],zk(226),[112]],24000:[Hk,[255,192],zk(268),[55,255,128],zk(268),[111,112],zk(126),[224]],16000:[Hk,[255,192],zk(268),[55,255,128],zk(268),[111,255],zk(269),[223,108],zk(195),[1,192]],12000:[Vk,zk(268),[3,127,248],zk(268),[6,255,240],zk(268),[13,255,224],zk(268),[27,253,128],zk(259),[56]],11025:[Vk,zk(268),[3,127,248],zk(268),[6,255,240],zk(268),[13,255,224],zk(268),[27,255,192],zk(268),[55,175,128],zk(108),[112]],8e3:[Vk,zk(268),[3,121,16],zk(47),[7]]},Wk=(Lk=qk,Object.keys(Lk).reduce(function(ZL,ew){return ZL[ew]=new Uint8Array(Lk[ew].reduce(function(tw,aw){return tw.concat(aw)},[])),ZL},{})),Gk=Object.freeze({default:Wk,__moduleExports:Wk}),Yk={secondsToVideoTs:wk=function(ZL){return 9e4*ZL},secondsToAudioTs:xk=function(ZL,ew){return ZL*ew},videoTsToSeconds:Ak=function(ZL){return ZL/9e4},audioTsToSeconds:Ik=function(ZL,ew){return ZL/ew},audioTsToVideoTs:function(ZL,ew){return wk(Ik(ZL,ew))},videoTsToAudioTs:function(ZL,ew){return xk(Ak(ZL),ew)}},Xk=Yk.secondsToVideoTs,Kk=Yk.secondsToAudioTs,$k=Yk.videoTsToSeconds,Qk=Yk.audioTsToSeconds,Jk=Yk.audioTsToVideoTs,Zk=Yk.videoTsToAudioTs,eC=Object.freeze({default:Yk,__moduleExports:Yk,secondsToVideoTs:Xk,secondsToAudioTs:Kk,videoTsToSeconds:$k,audioTsToSeconds:Qk,audioTsToVideoTs:Jk,videoTsToAudioTs:Zk}),tC=tv&&KS||tv,aC=uv&&ov||uv,rC=yv&&cv||yv,nC=ck&&uk||ck,oC=_k&&fk||_k,lC=eC&&Yk||eC,dC=(Pk&&kk||Pk).H264Stream,pC=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],uC=["width","height","profileIdc","levelIdc","profileCompatibility"],Lk,wk,xk,Ak,Ik,Dk,Ok,Rk,Uk,Mk,Bk,Nk;Mk=function(ZL){return ZL[0]==="I".charCodeAt(0)&&ZL[1]==="D".charCodeAt(0)&&ZL[2]==="3".charCodeAt(0)},Bk=function(ZL,ew){var tw;if(ZL.length!==ew.length)return!1;for(tw=0;tw<ZL.length;tw++)if(ZL[tw]!==ew[tw])return!1;return!0},Nk=function(ZL){var tw=0,ew;for(ew=0;ew<ZL.length;ew++)tw+=ZL[ew].data.byteLength;return tw},(Ok=function(ZL,ew){var tw=[],aw=0,rw=0,nw=0,ow=1/0;ew=ew||{},Ok.prototype.init.call(this),this.push=function(sw){rC.collectDtsInfo(ZL,sw),ZL&&pC.forEach(function(iw){ZL[iw]=sw[iw]}),tw.push(sw)},this.setEarliestDts=function(sw){rw=sw-ZL.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(sw){ow=sw},this.setAudioAppendStart=function(sw){nw=sw},this.flush=function(){var sw,iw,lw,dw;0!==tw.length&&(sw=this.trimAdtsFramesByEarliestDts_(tw),ZL.baseMediaDecodeTime=rC.calculateTrackBaseMediaDecodeTime(ZL,ew.keepOriginalTimestamps),this.prefixWithSilence_(ZL,sw),ZL.samples=this.generateSampleTable_(sw),lw=tC.mdat(this.concatenateFrameData_(sw)),tw=[],iw=tC.moof(aw,[ZL]),dw=new Uint8Array(iw.byteLength+lw.byteLength),aw++,dw.set(iw),dw.set(lw,iw.byteLength),rC.clearDtsInfo(ZL),this.trigger("data",{track:ZL,boxes:dw})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(sw,iw){var cw=0,mw=0,gw=0,lw,dw,pw,uw;if(iw.length&&(lw=lC.audioTsToVideoTs(sw.baseMediaDecodeTime,sw.samplerate),dw=_Mathceil(9e4/(sw.samplerate/1024)),nw&&ow&&(cw=lw-_Mathmax(nw,ow),gw=(mw=_Mathfloor(cw/dw))*dw),!(1>mw||45e3<gw))){for((pw=(Gk&&Wk||Gk)[sw.samplerate])||(pw=iw[0].data),uw=0;uw<mw;uw++)iw.splice(uw,0,{data:pw});sw.baseMediaDecodeTime-=_Mathfloor(lC.videoTsToAudioTs(gw,sw.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(sw){return ZL.minSegmentDts>=rw?sw:(ZL.minSegmentDts=1/0,sw.filter(function(iw){return iw.dts>=rw&&(ZL.minSegmentDts=_Mathmin(ZL.minSegmentDts,iw.dts),ZL.minSegmentPts=ZL.minSegmentDts,!0)}))},this.generateSampleTable_=function(sw){var dw=[],iw,lw;for(iw=0;iw<sw.length;iw++)lw=sw[iw],dw.push({size:lw.data.byteLength,duration:1024});return dw},this.concatenateFrameData_=function(sw){var dw=0,pw=new Uint8Array(Nk(sw)),iw,lw;for(iw=0;iw<sw.length;iw++)lw=sw[iw],pw.set(lw.data,dw),dw+=lw.data.byteLength;return pw}}).prototype=new Cv,(Dk=function(ZL,ew){var rw=0,nw=[],ow=[],tw,aw;ew=ew||{},Dk.prototype.init.call(this),delete ZL.minPTS,this.gopCache_=[],this.push=function(sw){rC.collectDtsInfo(ZL,sw),"seq_parameter_set_rbsp"!==sw.nalUnitType||tw||(tw=sw.config,ZL.sps=[sw.data],uC.forEach(function(iw){ZL[iw]=tw[iw]},this)),"pic_parameter_set_rbsp"!==sw.nalUnitType||aw||(aw=sw.data,ZL.pps=[sw.data]),nw.push(sw)},this.flush=function(){for(var sw,iw,lw,dw,pw,uw;nw.length&&"access_unit_delimiter_rbsp"!==nw[0].nalUnitType;)nw.shift();if(0===nw.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(sw=aC.groupNalsIntoFrames(nw),(lw=aC.groupFramesIntoGops(sw))[0][0].keyFrame||((iw=this.getGopForFusion_(nw[0],ZL))?(lw.unshift(iw),lw.byteLength+=iw.byteLength,lw.nalCount+=iw.nalCount,lw.pts=iw.pts,lw.dts=iw.dts,lw.duration+=iw.duration):lw=aC.extendFirstKeyFrame(lw)),ow.length){var cw;if(!(cw=ew.alignGopsAtEnd?this.alignGopsAtEnd_(lw):this.alignGopsAtStart_(lw)))return this.gopCache_.unshift({gop:lw.pop(),pps:ZL.pps,sps:ZL.sps}),this.gopCache_.length=_Mathmin(6,this.gopCache_.length),nw=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");rC.clearDtsInfo(ZL),lw=cw}rC.collectDtsInfo(ZL,lw),ZL.samples=aC.generateSampleTable(lw),pw=tC.mdat(aC.concatenateNalData(lw)),ZL.baseMediaDecodeTime=rC.calculateTrackBaseMediaDecodeTime(ZL,ew.keepOriginalTimestamps),this.trigger("processedGopsInfo",lw.map(function(mw){return{pts:mw.pts,dts:mw.dts,byteLength:mw.byteLength}})),this.gopCache_.unshift({gop:lw.pop(),pps:ZL.pps,sps:ZL.sps}),this.gopCache_.length=_Mathmin(6,this.gopCache_.length),nw=[],this.trigger("baseMediaDecodeTime",ZL.baseMediaDecodeTime),this.trigger("timelineStartInfo",ZL.timelineStartInfo),dw=tC.moof(rw,[ZL]),uw=new Uint8Array(dw.byteLength+pw.byteLength),rw++,uw.set(dw),uw.set(pw,dw.byteLength),this.trigger("data",{track:ZL,boxes:uw}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){rC.clearDtsInfo(ZL),aw=tw=void 0},this.getGopForFusion_=function(sw){var cw=1/0,iw,lw,dw,pw,uw;for(uw=0;uw<this.gopCache_.length;uw++)dw=(pw=this.gopCache_[uw]).gop,ZL.pps&&Bk(ZL.pps[0],pw.pps[0])&&ZL.sps&&Bk(ZL.sps[0],pw.sps[0])&&(dw.dts<ZL.timelineStartInfo.dts||-1e4<=(iw=sw.dts-dw.dts-dw.duration)&&45e3>=iw&&(!lw||iw<cw)&&(lw=pw,cw=iw));return lw?lw.gop:null},this.alignGopsAtStart_=function(sw){var iw,lw,dw,pw,uw,cw,mw,gw;for(uw=sw.byteLength,cw=sw.nalCount,mw=sw.duration,iw=lw=0;iw<ow.length&&lw<sw.length&&(dw=ow[iw],pw=sw[lw],dw.pts!==pw.pts);)pw.pts>dw.pts?iw++:(lw++,uw-=pw.byteLength,cw-=pw.nalCount,mw-=pw.duration);return 0===lw?sw:lw===sw.length?null:((gw=sw.slice(lw)).byteLength=uw,gw.duration=mw,gw.nalCount=cw,gw.pts=gw[0].pts,gw.dts=gw[0].dts,gw)},this.alignGopsAtEnd_=function(sw){var iw,lw,dw,pw,uw,cw,mw;for(iw=ow.length-1,lw=sw.length-1,uw=null,cw=!1;0<=iw&&0<=lw;){if(dw=ow[iw],pw=sw[lw],dw.pts===pw.pts){cw=!0;break}dw.pts>pw.pts?iw--:(iw===ow.length-1&&(uw=lw),lw--)}if(!cw&&null===uw)return null;if(0===(mw=cw?lw:uw))return sw;var gw=sw.slice(mw),hw=gw.reduce(function(yw,fw){return yw.byteLength+=fw.byteLength,yw.duration+=fw.duration,yw.nalCount+=fw.nalCount,yw},{byteLength:0,duration:0,nalCount:0});return gw.byteLength=hw.byteLength,gw.duration=hw.duration,gw.nalCount=hw.nalCount,gw.pts=gw[0].pts,gw.dts=gw[0].dts,gw},this.alignGopsWith=function(sw){ow=sw}}).prototype=new Cv,(Uk=function(ZL,ew){this.numberOfTracks=0,this.metadataStream=ew,this.remuxTracks=!("undefined"!=typeof ZL.remux)||!!ZL.remux,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Uk.prototype.init.call(this),this.push=function(tw){return tw.text?this.pendingCaptions.push(tw):tw.frames?this.pendingMetadata.push(tw):(this.pendingTracks.push(tw.track),this.pendingBoxes.push(tw.boxes),this.pendingBytes+=tw.boxes.byteLength,"video"===tw.track.type&&(this.videoTrack=tw.track),void("audio"===tw.track.type&&(this.audioTrack=tw.track)))}}).prototype=new Cv,Uk.prototype.flush=function(ZL){var nw=0,ow={captions:[],captionStreams:{},metadata:[],info:{}},sw=0,ew,tw,aw,rw;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==ZL&&"AudioSegmentStream"!==ZL)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(sw=this.videoTrack.timelineStartInfo.pts,uC.forEach(function(iw){ow.info[iw]=this.videoTrack[iw]},this)):this.audioTrack&&(sw=this.audioTrack.timelineStartInfo.pts,pC.forEach(function(iw){ow.info[iw]=this.audioTrack[iw]},this)),ow.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,aw=tC.initSegment(this.pendingTracks),ow.initSegment=new Uint8Array(aw.byteLength),ow.initSegment.set(aw),ow.data=new Uint8Array(this.pendingBytes),rw=0;rw<this.pendingBoxes.length;rw++)ow.data.set(this.pendingBoxes[rw],nw),nw+=this.pendingBoxes[rw].byteLength;for(rw=0;rw<this.pendingCaptions.length;rw++)(ew=this.pendingCaptions[rw]).startTime=ew.startPts-sw,ew.startTime/=9e4,ew.endTime=ew.endPts-sw,ew.endTime/=9e4,ow.captionStreams[ew.stream]=!0,ow.captions.push(ew);for(rw=0;rw<this.pendingMetadata.length;rw++)(tw=this.pendingMetadata[rw]).cueTime=tw.pts-sw,tw.cueTime/=9e4,ow.metadata.push(tw);ow.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",ow),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Rk=function(ZL){var aw=this,rw=!0,ew,tw;Rk.prototype.init.call(this),ZL=ZL||{},this.baseMediaDecodeTime=ZL.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var nw={};(this.transmuxPipeline_=nw).type="aac",nw.metadataStream=new nC.MetadataStream,nw.aacStream=new(jk&&Fk||jk),nw.audioTimestampRolloverStream=new nC.TimestampRolloverStream("audio"),nw.timedMetadataTimestampRolloverStream=new nC.TimestampRolloverStream("timed-metadata"),nw.adtsStream=new oC,nw.coalesceStream=new Uk(ZL,nw.metadataStream),nw.headOfPipeline=nw.aacStream,nw.aacStream.pipe(nw.audioTimestampRolloverStream).pipe(nw.adtsStream),nw.aacStream.pipe(nw.timedMetadataTimestampRolloverStream).pipe(nw.metadataStream).pipe(nw.coalesceStream),nw.metadataStream.on("timestamp",function(ow){nw.aacStream.setTimestamp(ow.timeStamp)}),nw.aacStream.on("data",function(ow){"timed-metadata"!==ow.type||nw.audioSegmentStream||(tw=tw||{timelineStartInfo:{baseMediaDecodeTime:aw.baseMediaDecodeTime},codec:"adts",type:"audio"},nw.coalesceStream.numberOfTracks++,nw.audioSegmentStream=new Ok(tw,ZL),nw.adtsStream.pipe(nw.audioSegmentStream).pipe(nw.coalesceStream))}),nw.coalesceStream.on("data",this.trigger.bind(this,"data")),nw.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var nw={};(this.transmuxPipeline_=nw).type="ts",nw.metadataStream=new nC.MetadataStream,nw.packetStream=new nC.TransportPacketStream,nw.parseStream=new nC.TransportParseStream,nw.elementaryStream=new nC.ElementaryStream,nw.videoTimestampRolloverStream=new nC.TimestampRolloverStream("video"),nw.audioTimestampRolloverStream=new nC.TimestampRolloverStream("audio"),nw.timedMetadataTimestampRolloverStream=new nC.TimestampRolloverStream("timed-metadata"),nw.adtsStream=new oC,nw.h264Stream=new dC,nw.captionStream=new nC.CaptionStream,nw.coalesceStream=new Uk(ZL,nw.metadataStream),nw.headOfPipeline=nw.packetStream,nw.packetStream.pipe(nw.parseStream).pipe(nw.elementaryStream),nw.elementaryStream.pipe(nw.videoTimestampRolloverStream).pipe(nw.h264Stream),nw.elementaryStream.pipe(nw.audioTimestampRolloverStream).pipe(nw.adtsStream),nw.elementaryStream.pipe(nw.timedMetadataTimestampRolloverStream).pipe(nw.metadataStream).pipe(nw.coalesceStream),nw.h264Stream.pipe(nw.captionStream).pipe(nw.coalesceStream),nw.elementaryStream.on("data",function(ow){var sw;if("metadata"===ow.type){for(sw=ow.tracks.length;sw--;)ew||"video"!==ow.tracks[sw].type?tw||"audio"!==ow.tracks[sw].type||((tw=ow.tracks[sw]).timelineStartInfo.baseMediaDecodeTime=aw.baseMediaDecodeTime):(ew=ow.tracks[sw]).timelineStartInfo.baseMediaDecodeTime=aw.baseMediaDecodeTime;ew&&!nw.videoSegmentStream&&(nw.coalesceStream.numberOfTracks++,nw.videoSegmentStream=new Dk(ew,ZL),nw.videoSegmentStream.on("timelineStartInfo",function(iw){tw&&(tw.timelineStartInfo=iw,nw.audioSegmentStream.setEarliestDts(iw.dts))}),nw.videoSegmentStream.on("processedGopsInfo",aw.trigger.bind(aw,"gopInfo")),nw.videoSegmentStream.on("baseMediaDecodeTime",function(iw){tw&&nw.audioSegmentStream.setVideoBaseMediaDecodeTime(iw)}),nw.h264Stream.pipe(nw.videoSegmentStream).pipe(nw.coalesceStream)),tw&&!nw.audioSegmentStream&&(nw.coalesceStream.numberOfTracks++,nw.audioSegmentStream=new Ok(tw,ZL),nw.adtsStream.pipe(nw.audioSegmentStream).pipe(nw.coalesceStream))}}),nw.coalesceStream.on("data",this.trigger.bind(this,"data")),nw.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(nw){var ow=this.transmuxPipeline_;this.baseMediaDecodeTime=nw,tw&&(tw.timelineStartInfo.dts=void 0,tw.timelineStartInfo.pts=void 0,rC.clearDtsInfo(tw),tw.timelineStartInfo.baseMediaDecodeTime=nw,ow.audioTimestampRolloverStream&&ow.audioTimestampRolloverStream.discontinuity()),ew&&(ow.videoSegmentStream&&(ow.videoSegmentStream.gopCache_=[],ow.videoTimestampRolloverStream.discontinuity()),ew.timelineStartInfo.dts=void 0,ew.timelineStartInfo.pts=void 0,rC.clearDtsInfo(ew),ow.captionStream.reset(),ew.timelineStartInfo.baseMediaDecodeTime=nw),ow.timedMetadataTimestampRolloverStream&&ow.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(nw){tw&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(nw)},this.alignGopsWith=function(nw){ew&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(nw)},this.push=function(nw){if(rw){var ow=Mk(nw);ow&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():ow||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),rw=!1}this.transmuxPipeline_.headOfPipeline.push(nw)},this.flush=function(){rw=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Cv;var gC={Transmuxer:Rk,VideoSegmentStream:Dk,AudioSegmentStream:Ok,AUDIO_PROPERTIES:pC,VIDEO_PROPERTIES:uC},hC=gC.Transmuxer,yC=gC.VideoSegmentStream,fC=gC.AudioSegmentStream,_C=gC.AUDIO_PROPERTIES,bC=gC.VIDEO_PROPERTIES,TC=Object.freeze({default:gC,__moduleExports:gC,Transmuxer:hC,VideoSegmentStream:yC,AudioSegmentStream:fC,AUDIO_PROPERTIES:_C,VIDEO_PROPERTIES:bC}),SC=YS.parseType,vC=function(ZL){return new Date(1e3*ZL-20828448e5)},kC=function(ZL){return{isLeading:(12&ZL[0])>>>2,dependsOn:3&ZL[0],isDependedOn:(192&ZL[1])>>>6,hasRedundancy:(48&ZL[1])>>>4,paddingValue:(14&ZL[1])>>>1,isNonSyncSample:1&ZL[1],degradationPriority:ZL[2]<<8|ZL[3]}},CC={avc1:function(ZL){var ew=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength);return{dataReferenceIndex:ew.getUint16(6),width:ew.getUint16(24),height:ew.getUint16(26),horizresolution:ew.getUint16(28)+ew.getUint16(30)/16,vertresolution:ew.getUint16(32)+ew.getUint16(34)/16,frameCount:ew.getUint16(40),depth:ew.getUint16(74),config:cC(ZL.subarray(78,ZL.byteLength))}},avcC:function(ZL){var nw=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),ow={configurationVersion:ZL[0],avcProfileIndication:ZL[1],profileCompatibility:ZL[2],avcLevelIndication:ZL[3],lengthSizeMinusOne:3&ZL[4],sps:[],pps:[]},sw=31&ZL[5],ew,tw,aw,rw;for(aw=6,rw=0;rw<sw;rw++)tw=nw.getUint16(aw),aw+=2,ow.sps.push(new Uint8Array(ZL.subarray(aw,aw+tw))),aw+=tw;for(ew=ZL[aw],aw++,rw=0;rw<ew;rw++)tw=nw.getUint16(aw),aw+=2,ow.pps.push(new Uint8Array(ZL.subarray(aw,aw+tw))),aw+=tw;return ow},btrt:function(ZL){var ew=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength);return{bufferSizeDB:ew.getUint32(0),maxBitrate:ew.getUint32(4),avgBitrate:ew.getUint32(8)}},esds:function(ZL){return{version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),esId:ZL[6]<<8|ZL[7],streamPriority:31&ZL[8],decoderConfig:{objectProfileIndication:ZL[11],streamType:63&ZL[12]>>>2,bufferSize:ZL[13]<<16|ZL[14]<<8|ZL[15],maxBitrate:ZL[16]<<24|ZL[17]<<16|ZL[18]<<8|ZL[19],avgBitrate:ZL[20]<<24|ZL[21]<<16|ZL[22]<<8|ZL[23],decoderConfigDescriptor:{tag:ZL[24],length:ZL[25],audioObjectType:31&ZL[26]>>>3,samplingFrequencyIndex:(7&ZL[26])<<1|1&ZL[27]>>>7,channelConfiguration:15&ZL[27]>>>3}}}},ftyp:function(ZL){for(var ew=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),tw={majorBrand:SC(ZL.subarray(0,4)),minorVersion:ew.getUint32(4),compatibleBrands:[]},aw=8;aw<ZL.byteLength;)tw.compatibleBrands.push(SC(ZL.subarray(aw,aw+4))),aw+=4;return tw},dinf:function(ZL){return{boxes:cC(ZL)}},dref:function(ZL){return{version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),dataReferences:cC(ZL.subarray(8))}},hdlr:function(ZL){var ew={version:new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength).getUint8(0),flags:new Uint8Array(ZL.subarray(1,4)),handlerType:SC(ZL.subarray(8,12)),name:""},tw=8;for(tw=24;tw<ZL.byteLength;tw++){if(0===ZL[tw]){tw++;break}ew.name+=_StringfromCharCode(ZL[tw])}return ew.name=decodeURIComponent(escape(ew.name)),ew},mdat:function(ZL){return{byteLength:ZL.byteLength,nals:function(ew){var rw=new DataView(ew.buffer,ew.byteOffset,ew.byteLength),nw=[],tw,aw;for(tw=0;tw+4<ew.length;tw+=aw)if(aw=rw.getUint32(tw),tw+=4,0>=aw)nw.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&ew[tw]){case 1:nw.push("slice_layer_without_partitioning_rbsp");break;case 5:nw.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:nw.push("sei_rbsp");break;case 7:nw.push("seq_parameter_set_rbsp");break;case 8:nw.push("pic_parameter_set_rbsp");break;case 9:nw.push("access_unit_delimiter_rbsp");break;default:nw.push(31&"UNKNOWN NAL - "+ew[tw]);}return nw}(ZL)}},mdhd:function(ZL){var tw=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),aw=4,rw={version:tw.getUint8(0),flags:new Uint8Array(ZL.subarray(1,4)),language:""},ew;return 1===rw.version?(aw+=4,rw.creationTime=vC(tw.getUint32(aw)),aw+=8,rw.modificationTime=vC(tw.getUint32(aw)),aw+=4,rw.timescale=tw.getUint32(aw),aw+=8):(rw.creationTime=vC(tw.getUint32(aw)),aw+=4,rw.modificationTime=vC(tw.getUint32(aw)),aw+=4,rw.timescale=tw.getUint32(aw),aw+=4),rw.duration=tw.getUint32(aw),aw+=4,ew=tw.getUint16(aw),rw.language+=_StringfromCharCode(96+(ew>>10)),rw.language+=_StringfromCharCode(96+((992&ew)>>5)),rw.language+=_StringfromCharCode(96+(31&ew)),rw},mdia:function(ZL){return{boxes:cC(ZL)}},mfhd:function(ZL){return{version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),sequenceNumber:ZL[4]<<24|ZL[5]<<16|ZL[6]<<8|ZL[7]}},minf:function(ZL){return{boxes:cC(ZL)}},mp4a:function(ZL){var ew=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),tw={dataReferenceIndex:ew.getUint16(6),channelcount:ew.getUint16(16),samplesize:ew.getUint16(18),samplerate:ew.getUint16(24)+ew.getUint16(26)/65536};return 28<ZL.byteLength&&(tw.streamDescriptor=cC(ZL.subarray(28))[0]),tw},moof:function(ZL){return{boxes:cC(ZL)}},moov:function(ZL){return{boxes:cC(ZL)}},mvex:function(ZL){return{boxes:cC(ZL)}},mvhd:function(ZL){var ew=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),tw=4,aw={version:ew.getUint8(0),flags:new Uint8Array(ZL.subarray(1,4))};return 1===aw.version?(tw+=4,aw.creationTime=vC(ew.getUint32(tw)),tw+=8,aw.modificationTime=vC(ew.getUint32(tw)),tw+=4,aw.timescale=ew.getUint32(tw),tw+=8):(aw.creationTime=vC(ew.getUint32(tw)),tw+=4,aw.modificationTime=vC(ew.getUint32(tw)),tw+=4,aw.timescale=ew.getUint32(tw),tw+=4),aw.duration=ew.getUint32(tw),tw+=4,aw.rate=ew.getUint16(tw)+ew.getUint16(tw+2)/16,tw+=4,aw.volume=ew.getUint8(tw)+ew.getUint8(tw+1)/8,tw+=2,tw+=2,tw+=8,aw.matrix=new Uint32Array(ZL.subarray(tw,tw+36)),tw+=36,tw+=24,aw.nextTrackId=ew.getUint32(tw),aw},pdin:function(ZL){var ew=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength);return{version:ew.getUint8(0),flags:new Uint8Array(ZL.subarray(1,4)),rate:ew.getUint32(4),initialDelay:ew.getUint32(8)}},sdtp:function(ZL){var tw={version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),samples:[]},ew;for(ew=4;ew<ZL.byteLength;ew++)tw.samples.push({dependsOn:(48&ZL[ew])>>4,isDependedOn:(12&ZL[ew])>>2,hasRedundancy:3&ZL[ew]});return tw},sidx:function(ZL){var tw=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),aw={version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),references:[],referenceId:tw.getUint32(4),timescale:tw.getUint32(8),earliestPresentationTime:tw.getUint32(12),firstOffset:tw.getUint32(16)},rw=tw.getUint16(22),ew;for(ew=24;rw;ew+=12,rw--)aw.references.push({referenceType:(128&ZL[ew])>>>7,referencedSize:2147483647&tw.getUint32(ew),subsegmentDuration:tw.getUint32(ew+4),startsWithSap:!!(128&ZL[ew+8]),sapType:(112&ZL[ew+8])>>>4,sapDeltaTime:268435455&tw.getUint32(ew+8)});return aw},smhd:function(ZL){return{version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),balance:ZL[4]+ZL[5]/256}},stbl:function(ZL){return{boxes:cC(ZL)}},stco:function(ZL){var tw=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),aw={version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),chunkOffsets:[]},rw=tw.getUint32(4),ew;for(ew=8;rw;ew+=4,rw--)aw.chunkOffsets.push(tw.getUint32(ew));return aw},stsc:function(ZL){var tw=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),aw=tw.getUint32(4),rw={version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),sampleToChunks:[]},ew;for(ew=8;aw;ew+=12,aw--)rw.sampleToChunks.push({firstChunk:tw.getUint32(ew),samplesPerChunk:tw.getUint32(ew+4),sampleDescriptionIndex:tw.getUint32(ew+8)});return rw},stsd:function(ZL){return{version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),sampleDescriptions:cC(ZL.subarray(8))}},stsz:function(ZL){var tw=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),aw={version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),sampleSize:tw.getUint32(4),entries:[]},ew;for(ew=12;ew<ZL.byteLength;ew+=4)aw.entries.push(tw.getUint32(ew));return aw},stts:function(ZL){var tw=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),aw={version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),timeToSamples:[]},rw=tw.getUint32(4),ew;for(ew=8;rw;ew+=8,rw--)aw.timeToSamples.push({sampleCount:tw.getUint32(ew),sampleDelta:tw.getUint32(ew+4)});return aw},styp:function(ZL){return CC.ftyp(ZL)},tfdt:function(ZL){var ew={version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),baseMediaDecodeTime:ZL[4]<<24|ZL[5]<<16|ZL[6]<<8|ZL[7]};return 1===ew.version&&(ew.baseMediaDecodeTime*=4294967296,ew.baseMediaDecodeTime+=ZL[8]<<24|ZL[9]<<16|ZL[10]<<8|ZL[11]),ew},tfhd:function(ZL){var tw=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),aw={version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),trackId:tw.getUint32(4)},rw=1&aw.flags[2],nw=2&aw.flags[2],ow=8&aw.flags[2],sw=16&aw.flags[2],iw=32&aw.flags[2],lw=65536&aw.flags[0],dw=131072&aw.flags[0],ew;return ew=8,rw&&(ew+=4,aw.baseDataOffset=tw.getUint32(12),ew+=4),nw&&(aw.sampleDescriptionIndex=tw.getUint32(ew),ew+=4),ow&&(aw.defaultSampleDuration=tw.getUint32(ew),ew+=4),sw&&(aw.defaultSampleSize=tw.getUint32(ew),ew+=4),iw&&(aw.defaultSampleFlags=tw.getUint32(ew)),lw&&(aw.durationIsEmpty=!0),!rw&&dw&&(aw.baseDataOffsetIsMoof=!0),aw},tkhd:function(ZL){var ew=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),tw=4,aw={version:ew.getUint8(0),flags:new Uint8Array(ZL.subarray(1,4))};return 1===aw.version?(tw+=4,aw.creationTime=vC(ew.getUint32(tw)),tw+=8,aw.modificationTime=vC(ew.getUint32(tw)),tw+=4,aw.trackId=ew.getUint32(tw),tw+=4,tw+=8):(aw.creationTime=vC(ew.getUint32(tw)),tw+=4,aw.modificationTime=vC(ew.getUint32(tw)),tw+=4,aw.trackId=ew.getUint32(tw),tw+=4,tw+=4),aw.duration=ew.getUint32(tw),tw+=4,tw+=8,aw.layer=ew.getUint16(tw),tw+=2,aw.alternateGroup=ew.getUint16(tw),tw+=2,aw.volume=ew.getUint8(tw)+ew.getUint8(tw+1)/8,tw+=2,tw+=2,aw.matrix=new Uint32Array(ZL.subarray(tw,tw+36)),tw+=36,aw.width=ew.getUint16(tw)+ew.getUint16(tw+2)/16,tw+=4,aw.height=ew.getUint16(tw)+ew.getUint16(tw+2)/16,aw},traf:function(ZL){return{boxes:cC(ZL)}},trak:function(ZL){return{boxes:cC(ZL)}},trex:function(ZL){var ew=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength);return{version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),trackId:ew.getUint32(4),defaultSampleDescriptionIndex:ew.getUint32(8),defaultSampleDuration:ew.getUint32(12),defaultSampleSize:ew.getUint32(16),sampleDependsOn:3&ZL[20],sampleIsDependedOn:(192&ZL[21])>>6,sampleHasRedundancy:(48&ZL[21])>>4,samplePaddingValue:(14&ZL[21])>>1,sampleIsDifferenceSample:!!(1&ZL[21]),sampleDegradationPriority:ew.getUint16(22)}},trun:function(ZL){var tw={version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),samples:[]},aw=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength),rw=1&tw.flags[2],nw=4&tw.flags[2],ow=1&tw.flags[1],sw=2&tw.flags[1],iw=4&tw.flags[1],lw=8&tw.flags[1],dw=aw.getUint32(4),pw=8,ew;for(rw&&(tw.dataOffset=aw.getInt32(pw),pw+=4),nw&&dw&&(ew={flags:kC(ZL.subarray(pw,pw+4))},pw+=4,ow&&(ew.duration=aw.getUint32(pw),pw+=4),sw&&(ew.size=aw.getUint32(pw),pw+=4),lw&&(ew.compositionTimeOffset=aw.getUint32(pw),pw+=4),tw.samples.push(ew),dw--);dw--;)ew={},ow&&(ew.duration=aw.getUint32(pw),pw+=4),sw&&(ew.size=aw.getUint32(pw),pw+=4),iw&&(ew.flags=kC(ZL.subarray(pw,pw+4)),pw+=4),lw&&(ew.compositionTimeOffset=aw.getUint32(pw),pw+=4),tw.samples.push(ew);return tw},"url ":function(ZL){return{version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4))}},vmhd:function(ZL){var ew=new DataView(ZL.buffer,ZL.byteOffset,ZL.byteLength);return{version:ZL[0],flags:new Uint8Array(ZL.subarray(1,4)),graphicsmode:ew.getUint16(4),opcolor:new Uint16Array([ew.getUint16(6),ew.getUint16(8),ew.getUint16(10)])}}},EC={inspect:cC=function(ZL){for(var ow=0,sw=[],iw=new ArrayBuffer(ZL.length),lw=new Uint8Array(iw),dw=0,ew,tw,aw,rw,nw;dw<ZL.length;++dw)lw[dw]=ZL[dw];for(ew=new DataView(iw);ow<ZL.byteLength;)tw=ew.getUint32(ow),aw=SC(ZL.subarray(ow+4,ow+8)),rw=1<tw?ow+tw:ZL.byteLength,(nw=(CC[aw]||function(pw){return{data:pw}})(ZL.subarray(ow+8,rw))).size=tw,nw.type=aw,sw.push(nw),ow=rw;return sw},textify:mC=function(ZL,ew){var tw;return ew=ew||0,tw=Array(2*ew+1).join(" "),ZL.map(function(aw){return tw+aw.type+"\n"+Object.keys(aw).filter(function(nw){return"type"!==nw&&"boxes"!==nw}).map(function(nw){var ow=tw+"  "+nw+": ",sw=aw[nw];if(sw instanceof Uint8Array||sw instanceof Uint32Array){var iw=Array.prototype.slice.call(new Uint8Array(sw.buffer,sw.byteOffset,sw.byteLength)).map(function(lw){return" "+("00"+lw.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return iw?1===iw.length?ow+"<"+iw.join("").slice(1)+">":ow+"<\n"+iw.map(function(lw){return tw+"  "+lw}).join("\n")+"\n"+tw+"  >":ow+"<>"}return ow+JSON.stringify(sw,null,2).split("\n").map(function(lw,dw){return 0===dw?lw:tw+"  "+lw}).join("\n")}).join("\n")+(aw.boxes?"\n"+mC(aw.boxes,ew+1):"")}).join("\n")},parseTfdt:CC.tfdt,parseHdlr:CC.hdlr,parseTfhd:CC.tfhd,parseTrun:CC.trun},PC=EC.inspect,LC=EC.textify,wC=EC.parseTfdt,xC=EC.parseHdlr,AC=EC.parseTfhd,IC=EC.parseTrun,DC=Object.freeze({default:EC,__moduleExports:EC,inspect:PC,textify:LC,parseTfdt:wC,parseHdlr:xC,parseTfhd:AC,parseTrun:IC}),OC=DC&&EC||DC,RC=Ev.discardEmulationPreventionBytes,UC=nk.CaptionStream,MC=function(ZL,ew){for(var tw=ZL,aw=0,rw;aw<ew.length;aw++){if(rw=ew[aw],tw<rw.size)return rw;tw-=rw.size}return null},BC=function(ZL,ew){var tw=YS.findBox(ZL,["moof","traf"]),aw=YS.findBox(ZL,["mdat"]),rw={},nw=[];return aw.forEach(function(ow,sw){var iw=tw[sw];nw.push({mdat:ow,traf:iw})}),nw.forEach(function(ow){var gw=ow.mdat,hw=ow.traf,yw=YS.findBox(hw,["tfhd"]),fw=OC.parseTfhd(yw[0]),_w=fw.trackId,bw=YS.findBox(hw,["tfdt"]),Tw=0<bw.length?OC.parseTfdt(bw[0]).baseMediaDecodeTime:0,Sw=YS.findBox(hw,["trun"]),sw,iw,lw,dw,pw,uw,cw,mw;ew===_w&&0<Sw.length&&(iw=Sw,dw=Tw,pw=(lw=fw).defaultSampleDuration||0,uw=lw.defaultSampleSize||0,cw=lw.trackId,mw=[],iw.forEach(function(vw){var kw=OC.parseTrun(vw).samples;kw.forEach(function(Cw){void 0===Cw.duration&&(Cw.duration=pw),void 0===Cw.size&&(Cw.size=uw),Cw.trackId=cw,Cw.dts=dw,void 0===Cw.compositionTimeOffset&&(Cw.compositionTimeOffset=0),Cw.pts=dw+Cw.compositionTimeOffset,dw+=Cw.duration}),mw=mw.concat(kw)}),sw=function(vw,kw,Cw){var xw=new DataView(vw.buffer,vw.byteOffset,vw.byteLength),Aw=[],Ew,Pw,Lw,ww;for(Pw=0;Pw+4<vw.length;Pw+=Lw)if(Lw=xw.getUint32(Pw),Pw+=4,!(0>=Lw))switch(31&vw[Pw]){case 6:var Iw=vw.subarray(Pw+1,Pw+1+Lw),Dw=MC(Pw,kw);Ew={nalUnitType:"sei_rbsp",size:Lw,data:Iw,escapedRBSP:RC(Iw),trackId:Cw},Dw?(Ew.pts=Dw.pts,Ew.dts=Dw.dts,ww=Dw):(Ew.pts=ww.pts,Ew.dts=ww.dts),Aw.push(Ew);}return Aw}(gw,mw,_w),rw[_w]||(rw[_w]=[]),rw[_w]=rw[_w].concat(sw))}),rw},NC=function(){var nw=!1,ZL,ew,tw,aw,rw;this.isInitialized=function(){return nw},this.init=function(){ZL=new UC,nw=!0,ZL.on("data",function(ow){ow.startTime=ow.startPts/aw,ow.endTime=ow.endPts/aw,rw.captions.push(ow),rw.captionStreams[ow.stream]=!0})},this.isNewInit=function(ow,sw){return!(ow&&0===ow.length||sw&&"object"===("undefined"==typeof sw?"undefined":vg(sw))&&0===Object.keys(sw).length||tw===ow[0]&&aw===sw[tw])},this.parse=function(ow,sw,iw){var lw,dw,pw,uw;if(!this.isInitialized())return null;if(!sw||!iw)return null;if(this.isNewInit(sw,iw))tw=sw[0],aw=iw[tw];else if(!tw||!aw)return ew.push(ow),null;for(;0<ew.length;){var cw=ew.shift();this.parse(cw,sw,iw)}return dw=ow,uw=aw,null!==(lw=(pw=tw)?{seiNals:BC(dw,pw)[pw],timescale:uw}:null)&&lw.seiNals?(this.pushNals(lw.seiNals),this.flushStream(),rw):null},this.pushNals=function(ow){return this.isInitialized()&&ow&&0!==ow.length?void ow.forEach(function(sw){ZL.push(sw)}):null},this.flushStream=function(){return this.isInitialized()?void ZL.flush():null},this.clearParsedCaptions=function(){rw.captions=[],rw.captionStreams={}},this.resetCaptionStream=function(){return this.isInitialized()?void ZL.reset():null},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){ew=[],aw=tw=null,rw?this.clearParsedCaptions():rw={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},FC=Object.freeze({default:NC,__moduleExports:NC}),jC=TC&&gC||TC,VC={generator:tC,probe:YS,Transmuxer:jC.Transmuxer,AudioSegmentStream:jC.AudioSegmentStream,VideoSegmentStream:jC.VideoSegmentStream,CaptionParser:FC&&NC||FC}.CaptionParser,zC=function(ZL){var ew=31&ZL[1];return ew<<=8,ew|=ZL[2]},qC=function(ZL){return!!(64&ZL[1])},WC=function(ZL){var ew=0;return 1<(48&ZL[3])>>>4&&(ew+=ZL[4]+1),ew},GC=function(ZL){return 5===ZL?"slice_layer_without_partitioning_rbsp_idr":6===ZL?"sei_rbsp":7===ZL?"seq_parameter_set_rbsp":8===ZL?"pic_parameter_set_rbsp":9===ZL?"access_unit_delimiter_rbsp":null},YC={parseType:function(ZL,ew){var tw=zC(ZL);return 0===tw?"pat":tw===ew?"pmt":ew?"pes":null},parsePat:function(ZL){var ew=qC(ZL),tw=4+WC(ZL);return ew&&(tw+=ZL[tw]+1),(31&ZL[tw+10])<<8|ZL[tw+11]},parsePmt:function(ZL){var ew={},tw=qC(ZL),aw=4+WC(ZL);if(tw&&(aw+=ZL[aw]+1),1&ZL[aw+5]){var rw=3+((15&ZL[aw+1])<<8|ZL[aw+2])-4;for(var nw=12+((15&ZL[aw+10])<<8|ZL[aw+11]),ow;nw<rw;)ow=aw+nw,ew[(31&ZL[ow+1])<<8|ZL[ow+2]]=ZL[ow],nw+=5+((15&ZL[ow+3])<<8|ZL[ow+4]);return ew}},parsePayloadUnitStartIndicator:qC,parsePesType:function(ZL,ew){switch(ew[zC(ZL)]){case Xv.H264_STREAM_TYPE:return"video";case Xv.ADTS_STREAM_TYPE:return"audio";case Xv.METADATA_STREAM_TYPE:return"timed-metadata";default:return null;}},parsePesTime:function(ZL){if(!qC(ZL))return null;var ew=4+WC(ZL);if(ew>=ZL.byteLength)return null;var aw=null,tw;return 192&(tw=ZL[ew+7])&&((aw={}).pts=(14&ZL[ew+9])<<27|(255&ZL[ew+10])<<20|(254&ZL[ew+11])<<12|(255&ZL[ew+12])<<5|(254&ZL[ew+13])>>>3,aw.pts*=4,aw.pts+=(6&ZL[ew+13])>>>1,aw.dts=aw.pts,64&tw&&(aw.dts=(14&ZL[ew+14])<<27|(255&ZL[ew+15])<<20|(254&ZL[ew+16])<<12|(255&ZL[ew+17])<<5|(254&ZL[ew+18])>>>3,aw.dts*=4,aw.dts+=(6&ZL[ew+18])>>>1)),aw},videoPacketContainsKeyFrame:function(ZL){for(var ew=4+WC(ZL),tw=ZL.subarray(ew),aw=0,rw=0,nw=!1;rw<tw.byteLength-3;rw++)if(1===tw[rw+2]){aw=rw+5;break}for(;aw<tw.byteLength;)switch(tw[aw]){case 0:if(0!==tw[aw-1]){aw+=2;break}if(0!==tw[aw-2]){aw++;break}for(rw+3!==aw-2&&"slice_layer_without_partitioning_rbsp_idr"===GC(31&tw[rw+3])&&(nw=!0);1!==tw[++aw]&&aw<tw.length;);rw=aw-2,aw+=3;break;case 1:if(0!==tw[aw-1]||0!==tw[aw-2]){aw+=3;break}"slice_layer_without_partitioning_rbsp_idr"===GC(31&tw[rw+3])&&(nw=!0),rw=aw-2,aw+=3;break;default:aw+=3;}return tw=tw.subarray(rw),aw-=rw,rw=0,tw&&3<tw.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===GC(31&tw[rw+3])&&(nw=!0),nw}},XC=YC.parseType,KC=YC.parsePat,$C=YC.parsePmt,QC=YC.parsePayloadUnitStartIndicator,JC=YC.parsePesType,ZC=YC.parsePesTime,eE=YC.videoPacketContainsKeyFrame,tE=Object.freeze({default:YC,__moduleExports:YC,parseType:XC,parsePat:KC,parsePmt:$C,parsePayloadUnitStartIndicator:QC,parsePesType:JC,parsePesTime:ZC,videoPacketContainsKeyFrame:eE}),aE=[96000,88200,64000,48000,44100,32000,24000,22050,16000,12000,11025,8000,7350],rE=function(ZL){return ZL[0]<<21|ZL[1]<<14|ZL[2]<<7|ZL[3]},nE={parseId3TagSize:function(ZL,ew){var tw=ZL[ew+6]<<21|ZL[ew+7]<<14|ZL[ew+8]<<7|ZL[ew+9];return(16&ZL[ew+5])>>4?tw+20:tw+10},parseAdtsSize:function(ZL,ew){var tw=(224&ZL[ew+5])>>5,aw=ZL[ew+4]<<3;return 6144&ZL[ew+3]|aw|tw},parseType:function(ZL,ew){return ZL[ew]==="I".charCodeAt(0)&&ZL[ew+1]==="D".charCodeAt(0)&&ZL[ew+2]==="3".charCodeAt(0)?"timed-metadata":!0&ZL[ew]&&240==(240&ZL[ew+1])?"audio":null},parseSampleRate:function(ZL){for(var ew=0;ew+5<ZL.length;){if(255===ZL[ew]&&240==(246&ZL[ew+1]))return aE[(60&ZL[ew+2])>>>2];ew++}return null},parseAacTimestamp:function(ZL){var ew,tw,aw;ew=10,64&ZL[5]&&(ew+=4,ew+=rE(ZL.subarray(10,14)));do{if(1>(tw=rE(ZL.subarray(ew+4,ew+8))))return null;if("PRIV"===_StringfromCharCode(ZL[ew],ZL[ew+1],ZL[ew+2],ZL[ew+3])){aw=ZL.subarray(ew+10,ew+tw+10);for(var rw=0;rw<aw.byteLength;rw++)if(0===aw[rw]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(sw,iw,lw){var pw="",dw;for(dw=iw;dw<lw;dw++)pw+="%"+("00"+sw[dw].toString(16)).slice(-2);return pw}(aw,0,rw))){var nw=aw.subarray(rw+1),ow=(1&nw[3])<<30|nw[4]<<22|nw[5]<<14|nw[6]<<6|nw[7]>>>2;return ow*=4,ow+=3&nw[7]}break}}ew+=10,ew+=tw}while(ew<ZL.byteLength);return null}},oE=nE.parseId3TagSize,sE=nE.parseAdtsSize,iE=nE.parseType,lE=nE.parseSampleRate,dE=nE.parseAacTimestamp,pE=Object.freeze({default:nE,__moduleExports:nE,parseId3TagSize:oE,parseAdtsSize:sE,parseType:iE,parseSampleRate:lE,parseAacTimestamp:dE}),mE=ok.handleRollover,gE={},cC,mC;gE.ts=tE&&YC||tE,gE.aac=pE&&nE||pE;var hE=188,yE=function(ZL,ew,tw){for(var sw=0,iw=hE,lw=!1,aw,rw,nw,ow;iw<ZL.byteLength;)if(71!==ZL[sw]||71!==ZL[iw])sw++,iw++;else{switch(aw=ZL.subarray(sw,iw),gE.ts.parseType(aw,ew.pid)){case"pes":rw=gE.ts.parsePesType(aw,ew.table),nw=gE.ts.parsePayloadUnitStartIndicator(aw),"audio"===rw&&nw&&(ow=gE.ts.parsePesTime(aw))&&(ow.type="audio",tw.audio.push(ow),lw=!0);}if(lw)break;sw+=hE,iw+=hE}for(sw=(iw=ZL.byteLength)-hE,lw=!1;0<=sw;)if(71!==ZL[sw]||71!==ZL[iw])sw--,iw--;else{switch(aw=ZL.subarray(sw,iw),gE.ts.parseType(aw,ew.pid)){case"pes":rw=gE.ts.parsePesType(aw,ew.table),nw=gE.ts.parsePayloadUnitStartIndicator(aw),"audio"===rw&&nw&&(ow=gE.ts.parsePesTime(aw))&&(ow.type="audio",tw.audio.push(ow),lw=!0);}if(lw)break;sw-=hE,iw-=hE}},fE=function(ZL,ew,tw){for(var dw=0,pw=hE,uw=!1,cw={data:[],size:0},aw,rw,nw,ow,sw,iw,lw;pw<ZL.byteLength;)if(71!==ZL[dw]||71!==ZL[pw])dw++,pw++;else{switch(aw=ZL.subarray(dw,pw),gE.ts.parseType(aw,ew.pid)){case"pes":if(rw=gE.ts.parsePesType(aw,ew.table),nw=gE.ts.parsePayloadUnitStartIndicator(aw),"video"===rw&&(nw&&!uw&&(ow=gE.ts.parsePesTime(aw))&&(ow.type="video",tw.video.push(ow),uw=!0),!tw.firstKeyFrame)){if(nw&&0!==cw.size){for(sw=new Uint8Array(cw.size),iw=0;cw.data.length;)lw=cw.data.shift(),sw.set(lw,iw),iw+=lw.byteLength;gE.ts.videoPacketContainsKeyFrame(sw)&&(tw.firstKeyFrame=gE.ts.parsePesTime(sw),tw.firstKeyFrame.type="video"),cw.size=0}cw.data.push(aw),cw.size+=aw.byteLength}}if(uw&&tw.firstKeyFrame)break;dw+=hE,pw+=hE}for(dw=(pw=ZL.byteLength)-hE,uw=!1;0<=dw;)if(71!==ZL[dw]||71!==ZL[pw])dw--,pw--;else{switch(aw=ZL.subarray(dw,pw),gE.ts.parseType(aw,ew.pid)){case"pes":rw=gE.ts.parsePesType(aw,ew.table),nw=gE.ts.parsePayloadUnitStartIndicator(aw),"video"===rw&&nw&&(ow=gE.ts.parsePesTime(aw))&&(ow.type="video",tw.video.push(ow),uw=!0);}if(uw)break;dw-=hE,pw-=hE}},_E=function(ZL){var ew={pid:null,table:null},tw={};for(var aw in function(rw,nw){for(var sw=0,iw=hE,ow;iw<rw.byteLength;)if(71!==rw[sw]||71!==rw[iw])sw++,iw++;else{switch(ow=rw.subarray(sw,iw),gE.ts.parseType(ow,nw.pid)){case"pat":nw.pid||(nw.pid=gE.ts.parsePat(ow));break;case"pmt":nw.table||(nw.table=gE.ts.parsePmt(ow));}if(nw.pid&&nw.table)return;sw+=hE,iw+=hE}}(ZL,ew),ew.table)if(ew.table.hasOwnProperty(aw))switch(ew.table[aw]){case Xv.H264_STREAM_TYPE:tw.video=[],fE(ZL,ew,tw),0===tw.video.length&&delete tw.video;break;case Xv.ADTS_STREAM_TYPE:tw.audio=[],yE(ZL,ew,tw),0===tw.audio.length&&delete tw.audio;}return tw},TE=function(ZL,ew){if(!(ZL instanceof ew))throw new TypeError("Cannot call a class as a function")},SE=function(){function ZL(ew,tw){for(var aw=0,rw;aw<tw.length;aw++)rw=tw[aw],rw.enumerable=rw.enumerable||!1,rw.configurable=!0,"value"in rw&&(rw.writable=!0),Object.defineProperty(ew,rw.key,rw)}return function(ew,tw,aw){return tw&&ZL(ew.prototype,tw),aw&&ZL(ew,aw),ew}}(),vE=function(ZL,ew){if(!ZL)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ew&&("object"===("undefined"==typeof ew?"undefined":vg(ew))||"function"==typeof ew)?ew:ZL},kE=function(){var ZL=[[[],[],[],[],[]],[[],[],[],[],[]]],ew=ZL[0],tw=ZL[1],aw=ew[4],rw=tw[4],nw=void 0,ow,sw,iw=[],lw=[],dw,pw,uw,cw,mw;for(nw=0;256>nw;nw++)lw[(iw[nw]=nw<<1^283*(nw>>7))^nw]=nw;for(ow=sw=0;!aw[ow];ow^=dw||1,sw=lw[sw]||1)for(uw=99^((uw=sw^sw<<1^sw<<2^sw<<3^sw<<4)>>8^255&uw),mw=16843009*iw[pw=iw[dw=iw[rw[aw[ow]=uw]=ow]]]^65537*pw^257*dw^16843008*ow,cw=257*iw[uw]^16843008*uw,nw=0;4>nw;nw++)ew[nw][ow]=cw=cw<<24^cw>>>8,tw[nw][uw]=mw=mw<<24^mw>>>8;for(nw=0;5>nw;nw++)ew[nw]=ew[nw].slice(0),tw[nw]=tw[nw].slice(0);return ZL},CE=null,EE=function(){function ZL(ew){TE(this,ZL),CE||(CE=kE()),this._tables=[[CE[0][0].slice(),CE[0][1].slice(),CE[0][2].slice(),CE[0][3].slice(),CE[0][4].slice()],[CE[1][0].slice(),CE[1][1].slice(),CE[1][2].slice(),CE[1][3].slice(),CE[1][4].slice()]];var tw=void 0,aw=void 0,rw,nw,ow,sw=this._tables[0][4],iw=this._tables[1],lw=ew.length,dw=1;if(4!==lw&&6!==lw&&8!==lw)throw new Error("Invalid aes key size");for(nw=ew.slice(0),ow=[],this._key=[nw,ow],tw=lw;tw<4*lw+28;tw++)rw=nw[tw-1],(0==tw%lw||8===lw&&4==tw%lw)&&(rw=sw[rw>>>24]<<24^sw[255&rw>>16]<<16^sw[255&rw>>8]<<8^sw[255&rw],0==tw%lw&&(rw=rw<<8^rw>>>24^dw<<24,dw=dw<<1^283*(dw>>7))),nw[tw]=nw[tw-lw]^rw;for(aw=0;tw;aw++,tw--)rw=nw[3&aw?tw:tw-4],ow[aw]=4>=tw||4>aw?rw:iw[0][sw[rw>>>24]]^iw[1][sw[255&rw>>16]]^iw[2][sw[255&rw>>8]]^iw[3][sw[255&rw]]}return ZL.prototype.decrypt=function(ew,tw,aw,rw,nw,ow){var sw=this._key[1],iw=ew^sw[0],lw=rw^sw[1],dw=aw^sw[2],pw=tw^sw[3],uw,cw,mw,gw=sw.length/4-2,hw=void 0,yw=4,fw=this._tables[1],_w=fw[0],bw=fw[1],Tw=fw[2],Sw=fw[3],vw=fw[4];for(hw=0;hw<gw;hw++)uw=_w[iw>>>24]^bw[255&lw>>16]^Tw[255&dw>>8]^Sw[255&pw]^sw[yw],cw=_w[lw>>>24]^bw[255&dw>>16]^Tw[255&pw>>8]^Sw[255&iw]^sw[yw+1],mw=_w[dw>>>24]^bw[255&pw>>16]^Tw[255&iw>>8]^Sw[255&lw]^sw[yw+2],pw=_w[pw>>>24]^bw[255&iw>>16]^Tw[255&lw>>8]^Sw[255&dw]^sw[yw+3],yw+=4,iw=uw,lw=cw,dw=mw;for(hw=0;4>hw;hw++)nw[(3&-hw)+ow]=vw[iw>>>24]<<24^vw[255&lw>>16]<<16^vw[255&dw>>8]<<8^vw[255&pw]^sw[yw++],uw=iw,iw=lw,lw=dw,dw=pw,pw=uw},ZL}(),PE=function(){function ZL(){TE(this,ZL),this.listeners={}}return ZL.prototype.on=function(ew,tw){this.listeners[ew]||(this.listeners[ew]=[]),this.listeners[ew].push(tw)},ZL.prototype.off=function(ew,tw){if(!this.listeners[ew])return!1;var aw=this.listeners[ew].indexOf(tw);return this.listeners[ew].splice(aw,1),-1<aw},ZL.prototype.trigger=function(ew){var tw=this.listeners[ew];if(tw)if(2===arguments.length)for(var aw=tw.length,rw=0;rw<aw;++rw)tw[rw].call(this,arguments[1]);else for(var nw=Array.prototype.slice.call(arguments,1),ow=tw.length,sw=0;sw<ow;++sw)tw[sw].apply(this,nw)},ZL.prototype.dispose=function(){this.listeners={}},ZL.prototype.pipe=function(ew){this.on("data",function(tw){ew.push(tw)})},ZL}(),LE=function(ZL){function ew(){TE(this,ew);var tw=vE(this,ZL.call(this,PE));return tw.jobs=[],tw.delay=1,tw.timeout_=null,tw}return function(tw,aw){if("function"!=typeof aw&&null!==aw)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof aw?"undefined":vg(aw)));tw.prototype=Object.create(aw&&aw.prototype,{constructor:{value:tw,enumerable:!1,writable:!0,configurable:!0}}),aw&&(Object.setPrototypeOf?Object.setPrototypeOf(tw,aw):tw.__proto__=aw)}(ew,ZL),ew.prototype.processJob_=function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},ew.prototype.push=function(tw){this.jobs.push(tw),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},ew}(PE),wE=function(ZL){return ZL<<24|(65280&ZL)<<8|(16711680&ZL)>>8|ZL>>>24},xE=function(ZL,ew,tw){var aw=new Int32Array(ZL.buffer,ZL.byteOffset,ZL.byteLength>>2),rw=new EE(Array.prototype.slice.call(ew)),nw=new Uint8Array(ZL.byteLength),ow=new Int32Array(nw.buffer),sw,iw,lw,dw,pw,uw,cw,mw,gw;for(sw=tw[0],iw=tw[1],lw=tw[2],dw=tw[3],gw=0;gw<aw.length;gw+=4)pw=wE(aw[gw]),uw=wE(aw[gw+1]),cw=wE(aw[gw+2]),mw=wE(aw[gw+3]),rw.decrypt(pw,uw,cw,mw,ow,gw),ow[gw]=wE(ow[gw]^sw),ow[gw+1]=wE(ow[gw+1]^iw),ow[gw+2]=wE(ow[gw+2]^lw),ow[gw+3]=wE(ow[gw+3]^dw),sw=pw,iw=uw,lw=cw,dw=mw;return nw},AE=function(){function ZL(ew,tw,aw,rw){TE(this,ZL);var nw=ZL.STEP,ow=new Int32Array(ew.buffer),sw=new Uint8Array(ew.byteLength),iw=0;for(this.asyncStream_=new LE,this.asyncStream_.push(this.decryptChunk_(ow.subarray(iw,iw+nw),tw,aw,sw)),iw=nw;iw<ow.length;iw+=nw)aw=new Uint32Array([wE(ow[iw-4]),wE(ow[iw-3]),wE(ow[iw-2]),wE(ow[iw-1])]),this.asyncStream_.push(this.decryptChunk_(ow.subarray(iw,iw+nw),tw,aw,sw));this.asyncStream_.push(function(){var lw;rw(null,(lw=sw).subarray(0,lw.byteLength-lw[lw.byteLength-1]))})}return ZL.prototype.decryptChunk_=function(ew,tw,aw,rw){return function(){var nw=xE(ew,tw,aw);rw.set(nw,ew.byteOffset)}},SE(ZL,null,[{key:"STEP",get:function(){return 32e3}}]),ZL}(),IE=function(ZL,ew){return /^[a-z]+:/i.test(ew)?ew:(/\/\//i.test(ZL)||(ZL=lT.buildAbsoluteURL(pg.location.href,ZL)),lT.buildAbsoluteURL(ZL,ew))},DE=function(ZL,ew){if(!(ZL instanceof ew))throw new TypeError("Cannot call a class as a function")},OE=function(){function ZL(ew,tw){for(var aw=0,rw;aw<tw.length;aw++)rw=tw[aw],rw.enumerable=rw.enumerable||!1,rw.configurable=!0,"value"in rw&&(rw.writable=!0),Object.defineProperty(ew,rw.key,rw)}return function(ew,tw,aw){return tw&&ZL(ew.prototype,tw),aw&&ZL(ew,aw),ew}}(),RE=function(ZL,ew){if("function"!=typeof ew&&null!==ew)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof ew?"undefined":vg(ew)));ZL.prototype=Object.create(ew&&ew.prototype,{constructor:{value:ZL,enumerable:!1,writable:!0,configurable:!0}}),ew&&(Object.setPrototypeOf?Object.setPrototypeOf(ZL,ew):ZL.__proto__=ew)},UE=function(ZL,ew){if(!ZL)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ew&&("object"===("undefined"==typeof ew?"undefined":vg(ew))||"function"==typeof ew)?ew:ZL},ME=function(ZL,ew){if(Array.isArray(ZL))return ZL;if(Symbol.iterator in Object(ZL))return function(tw,aw){var rw=[],nw=!0,ow=!1,sw;try{for(var lw=tw[Symbol.iterator](),iw;!(nw=(iw=lw.next()).done)&&(rw.push(iw.value),!aw||rw.length!==aw);nw=!0);}catch(dw){ow=!0,sw=dw}finally{try{!nw&&lw.return&&lw.return()}finally{if(ow)throw sw}}return rw}(ZL,ew);throw new TypeError("Invalid attempt to destructure non-iterable instance")},BE=rg.mergeOptions,NE=rg.EventTarget,FE=rg.log,jE=function(ZL,ew){["AUDIO","SUBTITLES"].forEach(function(tw){for(var aw in ZL.mediaGroups[tw])for(var rw in ZL.mediaGroups[tw][aw]){var nw=ZL.mediaGroups[tw][aw][rw];ew(nw,tw,aw,rw)}})},HE=function(ZL,ew){var tw=BE(ZL,{}),aw=tw.playlists[ew.uri];if(!aw)return null;if(aw.segments&&ew.segments&&aw.segments.length===ew.segments.length&&aw.mediaSequence===ew.mediaSequence)return null;var rw=BE(aw,ew);aw.segments&&(rw.segments=function(ow,sw,iw){var lw=sw.slice();iw=iw||0;for(var dw=_Mathmin(ow.length,sw.length+iw),pw=iw;pw<dw;pw++)lw[pw-iw]=BE(ow[pw],lw[pw-iw]);return lw}(aw.segments,ew.segments,ew.mediaSequence-aw.mediaSequence)),rw.segments.forEach(function(ow){var sw,iw;sw=ow,iw=rw.resolvedUri,sw.resolvedUri||(sw.resolvedUri=IE(iw,sw.uri)),sw.key&&!sw.key.resolvedUri&&(sw.key.resolvedUri=IE(iw,sw.key.uri)),sw.map&&!sw.map.resolvedUri&&(sw.map.resolvedUri=IE(iw,sw.map.uri))});for(var nw=0;nw<tw.playlists.length;nw++)tw.playlists[nw].uri===ew.uri&&(tw.playlists[nw]=rw);return tw.playlists[ew.uri]=rw,tw},VE=function(ZL){for(var ew=ZL.playlists.length,tw;ew--;)tw=ZL.playlists[ew],(ZL.playlists[tw.uri]=tw).resolvedUri=IE(ZL.uri,tw.uri),tw.id=ew,tw.attributes||(tw.attributes={},FE.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))},zE=function(ZL){jE(ZL,function(ew){ew.uri&&(ew.resolvedUri=IE(ZL.uri,ew.uri))})},qE=function(ZL,ew){var tw=ZL.segments[ZL.segments.length-1];return ew&&tw&&tw.duration?1e3*tw.duration:500*(ZL.targetDuration||10)},WE=function(){function ew(tw,aw,rw){DE(this,ew);var nw=UE(this,(ew.__proto__||Object.getPrototypeOf(ew)).call(this));if(nw.srcUrl=tw,nw.hls_=aw,nw.withCredentials=rw,!nw.srcUrl)throw new Error("A non-empty playlist URL is required");return nw.state="HAVE_NOTHING",nw.on("mediaupdatetimeout",function(){"HAVE_METADATA"===nw.state&&(nw.state="HAVE_CURRENT_METADATA",nw.request=nw.hls_.xhr({uri:IE(nw.master.uri,nw.media().uri),withCredentials:nw.withCredentials},function(ow){if(nw.request)return ow?nw.playlistRequestError(nw.request,nw.media().uri,"HAVE_METADATA"):void nw.haveMetadata(nw.request,nw.media().uri)}))}),nw}return RE(ew,NE),OE(ew,[{key:"playlistRequestError",value:function(tw,aw,rw){this.request=null,rw&&(this.state=rw),this.error={playlist:this.master.playlists[aw],status:tw.status,message:"HLS playlist request error at URL: "+aw,responseText:tw.responseText,code:500<=tw.status?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(tw,aw){var rw=this;this.request=null,this.state="HAVE_METADATA";var nw=new fT;nw.push(tw.responseText),nw.end(),nw.manifest.uri=aw,nw.manifest.attributes=nw.manifest.attributes||{};var ow=HE(this.master,nw.manifest);this.targetDuration=nw.manifest.targetDuration,ow?(this.master=ow,this.media_=this.master.playlists[nw.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(pg.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=pg.setTimeout(function(){rw.trigger("mediaupdatetimeout")},qE(this.media(),!!ow))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),pg.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var tw=this.request;this.request=null,tw.onreadystatechange=null,tw.abort()}}},{key:"media",value:function(tw){var aw=this;if(!tw)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var rw=this.state;if("string"==typeof tw){if(!this.master.playlists[tw])throw new Error("Unknown playlist URI: "+tw);tw=this.master.playlists[tw]}var nw=!this.media_||tw.uri!==this.media_.uri;if(this.master.playlists[tw.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=tw,void(nw&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(nw){if(this.state="SWITCHING_MEDIA",this.request){if(IE(this.master.uri,tw.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:IE(this.master.uri,tw.uri),withCredentials:this.withCredentials},function(ow,sw){if(aw.request){if(ow)return aw.playlistRequestError(aw.request,tw.uri,rw);aw.haveMetadata(sw,tw.uri),"HAVE_MASTER"===rw?aw.trigger("loadedmetadata"):aw.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),pg.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(tw){var aw=this;pg.clearTimeout(this.mediaUpdateTimeout);var rw=this.media();if(tw){var nw=rw?1e3*(rw.targetDuration/2):5e3;this.mediaUpdateTimeout=pg.setTimeout(function(){return aw.load()},nw)}else this.started?rw&&!rw.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var tw=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(aw,rw){if(tw.request){if(tw.request=null,aw)return tw.error={status:rw.status,message:"HLS playlist request error at URL: "+tw.srcUrl,responseText:rw.responseText,code:2},"HAVE_NOTHING"===tw.state&&(tw.started=!1),tw.trigger("error");var nw=new fT;return nw.push(rw.responseText),nw.end(),tw.state="HAVE_MASTER",nw.manifest.uri=tw.srcUrl,nw.manifest.playlists?(tw.master=nw.manifest,VE(tw.master),zE(tw.master),tw.trigger("loadedplaylist"),void(tw.request||tw.media(nw.manifest.playlists[0]))):(tw.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:pg.location.href,playlists:[{uri:tw.srcUrl,id:0}]},tw.master.playlists[tw.srcUrl]=tw.master.playlists[0],tw.master.playlists[0].resolvedUri=tw.srcUrl,tw.master.playlists[0].attributes=tw.master.playlists[0].attributes||{},tw.haveMetadata(rw,tw.srcUrl),tw.trigger("loadedmetadata"))}})}}]),ew}(),GE=rg.createTimeRange,YE=function(ZL,ew,tw){var aw,rw;return"undefined"==typeof ew&&(ew=ZL.mediaSequence+ZL.segments.length),ew<ZL.mediaSequence?0:(aw=function(nw,ow){var sw=0,iw=ow-nw.mediaSequence,lw=nw.segments[iw];if(lw){if("undefined"!=typeof lw.start)return{result:lw.start,precise:!0};if("undefined"!=typeof lw.end)return{result:lw.end-lw.duration,precise:!0}}for(;iw--;){if("undefined"!=typeof(lw=nw.segments[iw]).end)return{result:sw+lw.end,precise:!0};if(sw+=lw.duration,"undefined"!=typeof lw.start)return{result:sw+lw.start,precise:!0}}return{result:sw,precise:!1}}(ZL,ew)).precise?aw.result:(rw=function(nw,ow){for(var sw=0,iw=void 0,lw=ow-nw.mediaSequence;lw<nw.segments.length;lw++){if("undefined"!=typeof(iw=nw.segments[lw]).start)return{result:iw.start-sw,precise:!0};if(sw+=iw.duration,"undefined"!=typeof iw.end)return{result:iw.end-sw,precise:!0}}return{result:-1,precise:!1}}(ZL,ew)).precise?rw.result:aw.result+tw},XE=function(ZL,ew,tw){if(!ZL)return 0;if("number"!=typeof tw&&(tw=0),"undefined"==typeof ew){if(ZL.totalDuration)return ZL.totalDuration;if(!ZL.endList)return pg.Infinity}return YE(ZL,ew,tw)},KE=function(ZL,ew,tw){var aw=0;if(tw<ew){var rw=[tw,ew];ew=rw[0],tw=rw[1]}if(0>ew){for(var nw=ew;nw<_Mathmin(0,tw);nw++)aw+=ZL.targetDuration;ew=0}for(var ow=ew;ow<tw;ow++)aw+=ZL.segments[ow].duration;return aw},$E=function(ZL){if(!ZL.segments.length)return 0;for(var ew=ZL.segments.length-1,tw=ZL.segments[ew].duration||ZL.targetDuration,aw=tw+2*ZL.targetDuration;ew--&&!(aw<=(tw+=ZL.segments[ew].duration)););return _Mathmax(0,ew)},QE=function(ZL,ew,tw){if(!ZL||!ZL.segments)return null;if(ZL.endList)return XE(ZL);if(null===ew)return null;ew=ew||0;var aw=tw?$E(ZL):ZL.segments.length;return YE(ZL,ZL.mediaSequence+aw,ew)},JE=function(ZL){return 0==ZL-_Mathfloor(ZL)},ZE=function(ZL,ew){if(JE(ew))return ew+.1*ZL;for(var tw=ew.toString().split(".")[1].length,aw=1;aw<=tw;aw++){var rw=Math.pow(10,aw),nw=ew*rw;if(JE(nw)||aw===tw)return(nw+ZL)/rw}},eP=ZE.bind(null,1),tP=ZE.bind(null,-1),aP=function(ZL){return ZL.excludeUntil&&ZL.excludeUntil>Date.now()},rP=function(ZL){return ZL.excludeUntil&&ZL.excludeUntil===1/0},nP=function(ZL){var ew=aP(ZL);return!ZL.disabled&&!ew},oP=function(ZL,ew){return ew.attributes&&ew.attributes[ZL]},sP=function(ZL,ew){if(1===ZL.playlists.length)return!0;var tw=ew.attributes.BANDWIDTH||_NumberMAX_VALUE;return 0===ZL.playlists.filter(function(aw){return!!nP(aw)&&(aw.attributes.BANDWIDTH||0)<tw}).length},iP={duration:XE,seekable:function(ZL,ew){var aw=QE(ZL,ew,!0);return null===aw?GE():GE(ew||0,aw)},safeLiveIndex:$E,getMediaInfoForTime:function(ZL,ew,tw,aw){var rw=void 0,nw,ow=ZL.segments.length,sw=ew-aw;if(0>sw){if(0<tw)for(rw=tw-1;0<=rw;rw--)if(nw=ZL.segments[rw],0<(sw+=tP(nw.duration)))return{mediaIndex:rw,startTime:aw-KE(ZL,tw,rw)};return{mediaIndex:0,startTime:ew}}if(0>tw){for(rw=tw;0>rw;rw++)if(0>(sw-=ZL.targetDuration))return{mediaIndex:0,startTime:ew};tw=0}for(rw=tw;rw<ow;rw++)if(nw=ZL.segments[rw],0>(sw-=eP(nw.duration)))return{mediaIndex:rw,startTime:aw+KE(ZL,tw,rw)};return{mediaIndex:ow-1,startTime:ew}},isEnabled:nP,isDisabled:function(ZL){return ZL.disabled},isBlacklisted:aP,isIncompatible:rP,playlistEnd:QE,isAes:function(ZL){for(var ew=0;ew<ZL.segments.length;ew++)if(ZL.segments[ew].key)return!0;return!1},isFmp4:function(ZL){for(var ew=0;ew<ZL.segments.length;ew++)if(ZL.segments[ew].map)return!0;return!1},hasAttribute:oP,estimateSegmentRequestTime:function(ZL,ew,tw){var aw=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return oP("BANDWIDTH",tw)?(ZL*tw.attributes.BANDWIDTH-8*aw)/ew:NaN},isLowestEnabledRendition:sP},lP=rg.xhr,dP=rg.mergeOptions,pP=function(){return function ZL(ew,tw){ew=dP({timeout:45e3},ew);var aw=ZL.beforeRequest||rg.Hls.xhr.beforeRequest;if(aw&&"function"==typeof aw){var rw=aw(ew);rw&&(ew=rw)}var nw=lP(ew,function(sw,iw){var lw=nw.response;!sw&&lw&&(nw.responseTime=Date.now(),nw.roundTripTime=nw.responseTime-nw.requestTime,nw.bytesReceived=lw.byteLength||lw.length,nw.bandwidth||(nw.bandwidth=_Mathfloor(1e3*(8*(nw.bytesReceived/nw.roundTripTime))))),iw.headers&&(nw.responseHeaders=iw.headers),sw&&"ETIMEDOUT"===sw.code&&(nw.timedout=!0),sw||nw.aborted||200===iw.statusCode||206===iw.statusCode||0===iw.statusCode||(sw=new Error("XHR Failed with a response of: "+(nw&&(lw||nw.responseText)))),tw(sw,nw)}),ow=nw.abort;return nw.abort=function(){return nw.aborted=!0,ow.apply(nw,arguments)},nw.uri=ew.uri,nw.requestTime=Date.now(),nw}},uP=function(ZL,ew){var tw=ZL.toString(16);return"00".substring(0,2-tw.length)+tw+(ew%2?" ":"")},cP=function(ZL){return 32<=ZL&&126>ZL?_StringfromCharCode(ZL):"."},mP=function(ZL){var ew={};return Object.keys(ZL).forEach(function(tw){var aw=ZL[tw];ew[tw]=ArrayBuffer.isView(aw)?{bytes:aw.buffer,byteOffset:aw.byteOffset,byteLength:aw.byteLength}:aw}),ew},gP=function(ZL){var ew=ZL.byterange||{length:1/0,offset:0};return[ew.length,ew.offset,ZL.resolvedUri].join(",")},hP=function(ZL){for(var ew=Array.prototype.slice.call(ZL),tw="",aw=0;aw<ew.length/16;aw++)tw+=ew.slice(16*aw,16*aw+16).map(uP).join("")+" "+ew.slice(16*aw,16*aw+16).map(cP).join("")+"\n";return tw},yP=Object.freeze({createTransferableMessage:mP,initSegmentId:gP,hexDump:hP,tagDump:function(ZL){var ew=ZL.bytes;return hP(ew)},textRanges:function(ZL){var aw="",rw=void 0,ew,tw;for(rw=0;rw<ZL.length;rw++)aw+=(tw=rw,(ew=ZL).start(tw)+"-"+ew.end(tw)+" ");return aw}}),fP=1/30,_P=function(ZL,ew){var tw=[],aw=void 0;if(ZL&&ZL.length)for(aw=0;aw<ZL.length;aw++)ew(ZL.start(aw),ZL.end(aw))&&tw.push([ZL.start(aw),ZL.end(aw)]);return rg.createTimeRanges(tw)},bP=function(ZL,ew){return _P(ZL,function(tw,aw){return tw-fP<=ew&&ew<=aw+fP})},TP=function(ZL,ew){return _P(ZL,function(tw){return ew<=tw-fP})},SP=function(ZL){var ew=[];if(!ZL||!ZL.length)return"";for(var tw=0;tw<ZL.length;tw++)ew.push(ZL.start(tw)+" => "+ZL.end(tw));return ew.join(", ")},vP=function(ZL){for(var ew=[],tw=0;tw<ZL.length;tw++)ew.push({start:ZL.start(tw),end:ZL.end(tw)});return ew},kP=function(ZL,ew,tw){var aw=void 0,rw;if(tw&&tw.cues)for(aw=tw.cues.length;aw--;)(rw=tw.cues[aw]).startTime<=ew&&rw.endTime>=ZL&&tw.removeCue(rw)},CP=function(ZL){return isNaN(ZL)||_Mathabs(ZL)===1/0?_NumberMAX_VALUE:ZL},EP=function(ZL,ew,tw){var aw=pg.WebKitDataCue||pg.VTTCue;if(ew&&ew.forEach(function(dw){var pw=dw.stream;this.inbandTextTracks_[pw].addCue(new aw(dw.startTime+this.timestampOffset,dw.endTime+this.timestampOffset,dw.text))},ZL),tw){var rw=CP(ZL.mediaSource_.duration);if(tw.forEach(function(dw){var pw=dw.cueTime+this.timestampOffset;dw.frames.forEach(function(uw){var mw=new aw(pw,pw,uw.value||uw.url||uw.data||""),cw;mw.frame=uw,mw.value=uw,cw=mw,Object.defineProperties(cw.frame,{id:{get:function(){return rg.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),cw.value.key}},value:{get:function(){return rg.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),cw.value.data}},privateData:{get:function(){return rg.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),cw.value.data}}}),this.metadataTrack_.addCue(mw)},this)},ZL),ZL.metadataTrack_&&ZL.metadataTrack_.cues&&ZL.metadataTrack_.cues.length){for(var nw=ZL.metadataTrack_.cues,ow=[],sw=0;sw<nw.length;sw++)nw[sw]&&ow.push(nw[sw]);var iw=ow.reduce(function(dw,pw){var uw=dw[pw.startTime]||[];return uw.push(pw),dw[pw.startTime]=uw,dw},{}),lw=Object.keys(iw).sort(function(dw,pw){return+dw-+pw});lw.forEach(function(dw,pw){var uw=iw[dw],cw=+lw[pw+1]||rw;uw.forEach(function(mw){mw.endTime=cw})})}}},PP="undefined"==typeof window?{}:window,LP="undefined"==typeof Symbol?"__target":Symbol(),wP="application/javascript",xP=PP.BlobBuilder||PP.WebKitBlobBuilder||PP.MozBlobBuilder||PP.MSBlobBuilder,AP=PP.URL||PP.webkitURL||AP&&AP.msURL,IP=PP.Worker;if(IP){var OP=og("self.onmessage = function () {}"),RP=new Uint8Array(1),DP;try{(DP=new IP(OP)).postMessage(RP,[RP.buffer])}catch(ZL){IP=null}finally{AP.revokeObjectURL(OP),DP&&DP.terminate()}}var UP=new ng("./transmuxer-worker.worker.js",function(){var tw=this;!function(){var Vw=4294967295,aw,rw,nw,ow,sw,iw,lw,dw,pw,uw,cw,mw,gw,hw,yw,fw,_w,bw,Tw,Sw,vw,kw,Cw,Ew,Pw,Lw,ww,xw,Aw,Iw,Dw,Ow,Rw,Uw,Mw,Bw,Nw,Fw,jw,Hw;!function(){if(kw={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var LA in kw)kw.hasOwnProperty(LA)&&(kw[LA]=[LA.charCodeAt(0),LA.charCodeAt(1),LA.charCodeAt(2),LA.charCodeAt(3)]);Cw=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Pw=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),Ew=new Uint8Array([0,0,0,1]),Lw=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ww=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),xw={video:Lw,audio:ww},Dw=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Iw=new Uint8Array([0,0,0,0,0,0,0,0]),Ow=new Uint8Array([0,0,0,0,0,0,0,0]),Rw=Ow,Uw=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Mw=Ow,Aw=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),aw=function(LA){var AA=[],IA=0,wA,xA;for(wA=1;wA<arguments.length;wA++)AA.push(arguments[wA]);for(wA=AA.length;wA--;)IA+=AA[wA].byteLength;for(xA=new Uint8Array(IA+8),new DataView(xA.buffer,xA.byteOffset,xA.byteLength).setUint32(0,xA.byteLength),xA.set(LA,4),wA=0,IA=8;wA<AA.length;wA++)xA.set(AA[wA],IA),IA+=AA[wA].byteLength;return xA},rw=function(){return aw(kw.dinf,aw(kw.dref,Dw))},nw=function(LA){return aw(kw.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,LA.audioobjecttype<<3|LA.samplingfrequencyindex>>>1,LA.samplingfrequencyindex<<7|LA.channelcount<<3,6,1,2]))},yw=function(LA){return aw(kw.hdlr,xw[LA])},hw=function(LA){var wA=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,255&LA.duration>>>24,255&LA.duration>>>16,255&LA.duration>>>8,255&LA.duration,85,196,0,0]);return LA.samplerate&&(wA[12]=255&LA.samplerate>>>24,wA[13]=255&LA.samplerate>>>16,wA[14]=255&LA.samplerate>>>8,wA[15]=255&LA.samplerate),aw(kw.mdhd,wA)},gw=function(LA){return aw(kw.mdia,hw(LA),yw(LA.type),iw(LA))},sw=function(LA){return aw(kw.mfhd,new Uint8Array([0,0,0,0,(4278190080&LA)>>24,(16711680&LA)>>16,(65280&LA)>>8,255&LA]))},iw=function(LA){return aw(kw.minf,"video"===LA.type?aw(kw.vmhd,Aw):aw(kw.smhd,Iw),rw(),_w(LA))},lw=function(LA,wA){for(var xA=[],AA=wA.length;AA--;)xA[AA]=Tw(wA[AA]);return aw.apply(null,[kw.moof,sw(LA)].concat(xA))},dw=function(LA){for(var wA=LA.length,xA=[];wA--;)xA[wA]=cw(LA[wA]);return aw.apply(null,[kw.moov,uw(4294967295)].concat(xA).concat(pw(LA)))},pw=function(LA){for(var wA=LA.length,xA=[];wA--;)xA[wA]=Sw(LA[wA]);return aw.apply(null,[kw.mvex].concat(xA))},uw=function(LA){var wA=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&LA)>>24,(16711680&LA)>>16,(65280&LA)>>8,255&LA,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return aw(kw.mvhd,wA)},fw=function(LA){var AA=LA.samples||[],IA=new Uint8Array(4+AA.length),wA,xA;for(xA=0;xA<AA.length;xA++)wA=AA[xA].flags,IA[xA+4]=wA.dependsOn<<4|wA.isDependedOn<<2|wA.hasRedundancy;return aw(kw.sdtp,IA)},_w=function(LA){return aw(kw.stbl,bw(LA),aw(kw.stts,Mw),aw(kw.stsc,Rw),aw(kw.stsz,Uw),aw(kw.stco,Ow))},bw=function(LA){return aw(kw.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===LA.type?Bw(LA):Nw(LA))},Bw=function(LA){var xA=LA.sps||[],AA=LA.pps||[],IA=[],DA=[],wA;for(wA=0;wA<xA.length;wA++)IA.push((65280&xA[wA].byteLength)>>>8),IA.push(255&xA[wA].byteLength),IA=IA.concat(Array.prototype.slice.call(xA[wA]));for(wA=0;wA<AA.length;wA++)DA.push((65280&AA[wA].byteLength)>>>8),DA.push(255&AA[wA].byteLength),DA=DA.concat(Array.prototype.slice.call(AA[wA]));return aw(kw.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&LA.width)>>8,255&LA.width,(65280&LA.height)>>8,255&LA.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),aw(kw.avcC,new Uint8Array([1,LA.profileIdc,LA.profileCompatibility,LA.levelIdc,255].concat([xA.length]).concat(IA).concat([AA.length]).concat(DA))),aw(kw.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},Nw=function(LA){return aw(kw.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&LA.channelcount)>>8,255&LA.channelcount,(65280&LA.samplesize)>>8,255&LA.samplesize,0,0,0,0,(65280&LA.samplerate)>>8,255&LA.samplerate,0,0]),nw(LA))},mw=function(LA){var wA=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&LA.id)>>24,(16711680&LA.id)>>16,(65280&LA.id)>>8,255&LA.id,0,0,0,0,(4278190080&LA.duration)>>24,(16711680&LA.duration)>>16,(65280&LA.duration)>>8,255&LA.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&LA.width)>>8,255&LA.width,0,0,(65280&LA.height)>>8,255&LA.height,0,0]);return aw(kw.tkhd,wA)},Tw=function(LA){var wA,xA,AA,IA,DA,OA;return wA=aw(kw.tfhd,new Uint8Array([0,0,0,58,(4278190080&LA.id)>>24,(16711680&LA.id)>>16,(65280&LA.id)>>8,255&LA.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),DA=_Mathfloor(LA.baseMediaDecodeTime/(Vw+1)),OA=_Mathfloor(LA.baseMediaDecodeTime%(Vw+1)),xA=aw(kw.tfdt,new Uint8Array([1,0,0,0,255&DA>>>24,255&DA>>>16,255&DA>>>8,255&DA,255&OA>>>24,255&OA>>>16,255&OA>>>8,255&OA])),92,"audio"===LA.type?(AA=vw(LA,92),aw(kw.traf,wA,xA,AA)):(IA=fw(LA),AA=vw(LA,IA.length+92),aw(kw.traf,wA,xA,AA,IA))},cw=function(LA){return LA.duration=LA.duration||4294967295,aw(kw.trak,mw(LA),gw(LA))},Sw=function(LA){var wA=new Uint8Array([0,0,0,0,(4278190080&LA.id)>>24,(16711680&LA.id)>>16,(65280&LA.id)>>8,255&LA.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==LA.type&&(wA[wA.length-1]=0),aw(kw.trex,wA)},Hw=function(LA,wA){var xA=0,AA=0,IA=0,DA=0;return LA.length&&(void 0!==LA[0].duration&&(xA=1),void 0!==LA[0].size&&(AA=2),void 0!==LA[0].flags&&(IA=4),void 0!==LA[0].compositionTimeOffset&&(DA=8)),[0,0,xA|AA|IA|DA,1,(4278190080&LA.length)>>>24,(16711680&LA.length)>>>16,(65280&LA.length)>>>8,255&LA.length,(4278190080&wA)>>>24,(16711680&wA)>>>16,(65280&wA)>>>8,255&wA]},jw=function(LA,wA){var xA,AA,IA,DA;for(wA+=20+16*(AA=LA.samples||[]).length,xA=Hw(AA,wA),DA=0;DA<AA.length;DA++)IA=AA[DA],xA=xA.concat([(4278190080&IA.duration)>>>24,(16711680&IA.duration)>>>16,(65280&IA.duration)>>>8,255&IA.duration,(4278190080&IA.size)>>>24,(16711680&IA.size)>>>16,(65280&IA.size)>>>8,255&IA.size,IA.flags.isLeading<<2|IA.flags.dependsOn,IA.flags.isDependedOn<<6|IA.flags.hasRedundancy<<4|IA.flags.paddingValue<<1|IA.flags.isNonSyncSample,61440&IA.flags.degradationPriority,15&IA.flags.degradationPriority,(4278190080&IA.compositionTimeOffset)>>>24,(16711680&IA.compositionTimeOffset)>>>16,(65280&IA.compositionTimeOffset)>>>8,255&IA.compositionTimeOffset]);return aw(kw.trun,new Uint8Array(xA))},Fw=function(LA,wA){var xA,AA,IA,DA;for(wA+=20+8*(AA=LA.samples||[]).length,xA=Hw(AA,wA),DA=0;DA<AA.length;DA++)IA=AA[DA],xA=xA.concat([(4278190080&IA.duration)>>>24,(16711680&IA.duration)>>>16,(65280&IA.duration)>>>8,255&IA.duration,(4278190080&IA.size)>>>24,(16711680&IA.size)>>>16,(65280&IA.size)>>>8,255&IA.size]);return aw(kw.trun,new Uint8Array(xA))},vw=function(LA,wA){return"audio"===LA.type?Fw(LA,wA):jw(LA,wA)};var Ww={ftyp:ow=function(){return aw(kw.ftyp,Cw,Ew,Cw,Pw)},mdat:function(LA){return aw(kw.mdat,LA)},moof:lw,moov:dw,initSegment:function(LA){var xA=ow(),AA=dw(LA),wA;return(wA=new Uint8Array(xA.byteLength+AA.byteLength)).set(xA),wA.set(AA,xA.byteLength),wA}},Gw=function(LA){return LA>>>0},Yw={findBox:zw=function(LA,wA){var RA=[],xA,AA,IA,DA,OA;if(!wA.length)return null;for(xA=0;xA<LA.byteLength;)AA=Gw(LA[xA]<<24|LA[xA+1]<<16|LA[xA+2]<<8|LA[xA+3]),IA=qw(LA.subarray(xA+4,xA+8)),DA=1<AA?xA+AA:LA.byteLength,IA===wA[0]&&(1===wA.length?RA.push(LA.subarray(xA+8,DA)):(OA=zw(LA.subarray(xA+8,DA),wA.slice(1))).length&&(RA=RA.concat(OA))),xA=DA;return RA},parseType:qw=function(LA){var wA="";return wA+=_StringfromCharCode(LA[0]),wA+=_StringfromCharCode(LA[1]),wA+=_StringfromCharCode(LA[2]),wA+=_StringfromCharCode(LA[3])},timescale:function(LA){return zw(LA,["moov","trak"]).reduce(function(wA,xA){var AA,IA,DA,OA,RA;return(AA=zw(xA,["tkhd"])[0])?(IA=AA[0],OA=Gw(AA[DA=0===IA?12:20]<<24|AA[DA+1]<<16|AA[DA+2]<<8|AA[DA+3]),(RA=zw(xA,["mdia","mdhd"])[0])?(DA=0===(IA=RA[0])?12:20,wA[OA]=Gw(RA[DA]<<24|RA[DA+1]<<16|RA[DA+2]<<8|RA[DA+3]),wA):null):null},{})},startTime:function(LA,wA){var xA,AA,IA;return xA=zw(wA,["moof","traf"]),AA=[].concat.apply([],xA.map(function(DA){return zw(DA,["tfhd"]).map(function(OA){var RA,UA;return RA=Gw(OA[4]<<24|OA[5]<<16|OA[6]<<8|OA[7]),UA=LA[RA]||9e4,(zw(DA,["tfdt"]).map(function(MA){var BA,NA;return BA=MA[0],NA=Gw(MA[4]<<24|MA[5]<<16|MA[6]<<8|MA[7]),1===BA&&(NA*=4294967296,NA+=Gw(MA[8]<<24|MA[9]<<16|MA[10]<<8|MA[11])),NA})[0]||1/0)/UA})})),IA=_Mathmin.apply(null,AA),isFinite(IA)?IA:0},videoTrackIds:function(LA){var wA=zw(LA,["moov","trak"]),xA=[];return wA.forEach(function(AA){var IA=zw(AA,["mdia","hdlr"]),DA=zw(AA,["tkhd"]);IA.forEach(function(OA,RA){var BA=qw(OA.subarray(8,12)),NA=DA[RA],UA,MA;"vide"===BA&&(MA=0===(UA=new DataView(NA.buffer,NA.byteOffset,NA.byteLength)).getUint8(0)?UA.getUint32(12):UA.getUint32(20),xA.push(MA))})}),xA}},Xw=function(){this.init=function(){var LA={};this.on=function(wA,xA){LA[wA]||(LA[wA]=[]),LA[wA]=LA[wA].concat(xA)},this.off=function(wA,xA){var AA;return!!LA[wA]&&(AA=LA[wA].indexOf(xA),LA[wA]=LA[wA].slice(),LA[wA].splice(AA,1),-1<AA)},this.trigger=function(wA){var xA,AA,IA,DA;if(xA=LA[wA])if(2===arguments.length)for(IA=xA.length,AA=0;AA<IA;++AA)xA[AA].call(this,arguments[1]);else{for(DA=[],AA=arguments.length,AA=1;AA<arguments.length;++AA)DA.push(arguments[AA]);for(IA=xA.length,AA=0;AA<IA;++AA)xA[AA].apply(this,DA)}},this.dispose=function(){LA={}}}},zw,qw;Xw.prototype.pipe=function(LA){return this.on("data",function(wA){LA.push(wA)}),this.on("done",function(wA){LA.flush(wA)}),LA},Xw.prototype.push=function(LA){this.trigger("data",LA)},Xw.prototype.flush=function(LA){this.trigger("done",LA)};var Kw=Xw,$w=function(LA){var AA=[],IA=[],wA,xA;for(wA=AA.byteLength=0;wA<LA.length;wA++)"access_unit_delimiter_rbsp"===(xA=LA[wA]).nalUnitType?(AA.length&&(AA.duration=xA.dts-AA.dts,IA.push(AA)),(AA=[xA]).byteLength=xA.data.byteLength,AA.pts=xA.pts,AA.dts=xA.dts):("slice_layer_without_partitioning_rbsp_idr"===xA.nalUnitType&&(AA.keyFrame=!0),AA.duration=xA.dts-AA.dts,AA.byteLength+=xA.data.byteLength,AA.push(xA));return IA.length&&(!AA.duration||0>=AA.duration)&&(AA.duration=IA[IA.length-1].duration),IA.push(AA),IA},Qw=function(LA){var AA=[],IA=[],wA,xA;for(AA.byteLength=0,AA.nalCount=0,AA.duration=0,AA.pts=LA[0].pts,AA.dts=LA[0].dts,IA.byteLength=0,IA.nalCount=0,IA.duration=0,IA.pts=LA[0].pts,IA.dts=LA[0].dts,wA=0;wA<LA.length;wA++)(xA=LA[wA]).keyFrame?(AA.length&&(IA.push(AA),IA.byteLength+=AA.byteLength,IA.nalCount+=AA.nalCount,IA.duration+=AA.duration),(AA=[xA]).nalCount=xA.length,AA.byteLength=xA.byteLength,AA.pts=xA.pts,AA.dts=xA.dts,AA.duration=xA.duration):(AA.duration+=xA.duration,AA.nalCount+=xA.length,AA.byteLength+=xA.byteLength,AA.push(xA));return IA.length&&0>=AA.duration&&(AA.duration=IA[IA.length-1].duration),IA.byteLength+=AA.byteLength,IA.nalCount+=AA.nalCount,IA.duration+=AA.duration,IA.push(AA),IA},Jw=function(LA){var wA;return!LA[0][0].keyFrame&&1<LA.length&&(wA=LA.shift(),LA.byteLength-=wA.byteLength,LA.nalCount-=wA.nalCount,LA[0][0].dts=wA.dts,LA[0][0].pts=wA.pts,LA[0][0].duration+=wA.duration),LA},Zw=function(LA,wA){var MA=wA||0,BA=[],xA,AA,IA,DA,OA,RA,UA;for(xA=0;xA<LA.length;xA++)for(DA=LA[xA],AA=0;AA<DA.length;AA++)OA=DA[AA],RA=OA,UA=void 0,(UA={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}).dataOffset=MA,UA.compositionTimeOffset=RA.pts-RA.dts,UA.duration=RA.duration,UA.size=4*RA.length,UA.size+=RA.byteLength,RA.keyFrame&&(UA.flags.dependsOn=2,UA.flags.isNonSyncSample=0),MA+=(IA=UA).size,BA.push(IA);return BA},ex=function(LA){var RA=0,UA=LA.byteLength,MA=LA.nalCount,BA=new Uint8Array(UA+4*MA),NA=new DataView(BA.buffer),wA,xA,AA,IA,DA,OA;for(wA=0;wA<LA.length;wA++)for(IA=LA[wA],xA=0;xA<IA.length;xA++)for(DA=IA[xA],AA=0;AA<DA.length;AA++)OA=DA[AA],NA.setUint32(RA,OA.data.byteLength),RA+=4,BA.set(OA.data,RA),RA+=OA.data.byteLength;return BA},tx=function(LA){delete LA.minSegmentDts,delete LA.maxSegmentDts,delete LA.minSegmentPts,delete LA.maxSegmentPts},ax=function(LA,wA){var AA=LA.minSegmentDts,xA;return wA||(AA-=LA.timelineStartInfo.dts),xA=LA.timelineStartInfo.baseMediaDecodeTime,xA+=AA,xA=_Mathmax(0,xA),"audio"===LA.type&&(xA*=LA.samplerate/9e4,xA=_Mathfloor(xA)),xA},rx=function(LA,wA){"number"==typeof wA.pts&&(void 0===LA.timelineStartInfo.pts&&(LA.timelineStartInfo.pts=wA.pts),LA.minSegmentPts=void 0===LA.minSegmentPts?wA.pts:_Mathmin(LA.minSegmentPts,wA.pts),LA.maxSegmentPts=void 0===LA.maxSegmentPts?wA.pts:_Mathmax(LA.maxSegmentPts,wA.pts)),"number"==typeof wA.dts&&(void 0===LA.timelineStartInfo.dts&&(LA.timelineStartInfo.dts=wA.dts),LA.minSegmentDts=void 0===LA.minSegmentDts?wA.dts:_Mathmin(LA.minSegmentDts,wA.dts),LA.maxSegmentDts=void 0===LA.maxSegmentDts?wA.dts:_Mathmax(LA.maxSegmentDts,wA.dts))},nx=function(LA){for(var wA=0,xA={payloadType:-1,payloadSize:0},AA=0,IA=0;wA<LA.byteLength&&128!==LA[wA];){for(;255===LA[wA];)AA+=255,wA++;for(AA+=LA[wA++];255===LA[wA];)IA+=255,wA++;if(IA+=LA[wA++],!xA.payload&&4===AA){xA.payloadType=AA,xA.payloadSize=IA,xA.payload=LA.subarray(wA,wA+IA);break}wA+=IA,IA=AA=0}return xA},ox=function(LA){return 181===LA.payload[0]?49==(LA.payload[1]<<8|LA.payload[2])?"GA94"===_StringfromCharCode(LA.payload[3],LA.payload[4],LA.payload[5],LA.payload[6])?3===LA.payload[7]?LA.payload.subarray(8,LA.payload.length-1):null:null:null:null},sx=function(LA,wA){var OA=[],xA,AA,IA,DA;if(!(64&wA[0]))return OA;for(AA=31&wA[0],xA=0;xA<AA;xA++)DA={type:3&wA[2+(IA=3*xA)],pts:LA},4&wA[IA+2]&&(DA.ccData=wA[IA+3]<<8|wA[IA+4],OA.push(DA));return OA},dx=function LA(){LA.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new gx(0,0),new gx(0,1),new gx(1,0),new gx(1,1)],this.reset(),this.ccStreams_.forEach(function(wA){wA.on("data",this.trigger.bind(this,"data")),wA.on("done",this.trigger.bind(this,"done"))},this)};(dx.prototype=new Kw).push=function(LA){var wA,xA,AA;if("sei_rbsp"===LA.nalUnitType&&(wA=nx(LA.escapedRBSP)).payloadType===4&&(xA=ox(wA)))if(LA.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(LA.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));AA=sx(LA.pts,xA),this.captionPackets_=this.captionPackets_.concat(AA),this.latestDts_!==LA.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=LA.dts}},dx.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(LA,wA){LA.presortIndex=wA}),this.captionPackets_.sort(function(LA,wA){return LA.pts===wA.pts?LA.presortIndex-wA.presortIndex:LA.pts-wA.pts}),this.captionPackets_.forEach(function(LA){2>LA.type&&this.dispatchCea608Packet(LA)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(LA){LA.flush()},this)):this.ccStreams_.forEach(function(LA){LA.flush()},this)},dx.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(LA){LA.reset()})},dx.prototype.dispatchCea608Packet=function(LA){this.setsChannel1Active(LA)?this.activeCea608Channel_[LA.type]=0:this.setsChannel2Active(LA)&&(this.activeCea608Channel_[LA.type]=1),null!==this.activeCea608Channel_[LA.type]&&this.ccStreams_[(LA.type<<1)+this.activeCea608Channel_[LA.type]].push(LA)},dx.prototype.setsChannel1Active=function(LA){return 4096==(30720&LA.ccData)},dx.prototype.setsChannel2Active=function(LA){return 6144==(30720&LA.ccData)};var px={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ux=function(LA){return null===LA?"":(LA=px[LA]||LA,_StringfromCharCode(LA))},cx=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],mx=function(){for(var LA=[],wA=15;wA--;)LA.push("");return LA},gx=function LA(wA,xA){LA.prototype.init.call(this),this.field_=wA||0,this.dataChannel_=xA||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(AA){var IA,DA,OA,RA,UA;if(!((IA=32639&AA.ccData)!==this.lastControlCode_))this.lastControlCode_=null;else if(4096==(61440&IA)?this.lastControlCode_=IA:IA!==this.PADDING_&&(this.lastControlCode_=null),OA=IA>>>8,RA=255&IA,IA!==this.PADDING_)if(IA===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(IA===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(AA.pts),this.flushDisplayed(AA.pts),DA=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=DA,this.startPts_=AA.pts;else if(IA===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(AA.pts);else if(IA===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(AA.pts);else if(IA===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(AA.pts);else if(IA===this.CARRIAGE_RETURN_)this.clearFormatting(AA.pts),this.flushDisplayed(AA.pts),this.shiftRowsUp_(),this.startPts_=AA.pts;else if(IA===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(IA===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(AA.pts),this.displayed_=mx();else if(IA===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=mx();else if(IA===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(AA.pts),this.displayed_=mx()),this.mode_="paintOn",this.startPts_=AA.pts;else if(this.isSpecialCharacter(OA,RA))UA=ux((OA=(3&OA)<<8)|RA),this[this.mode_](AA.pts,UA),this.column_++;else if(this.isExtCharacter(OA,RA))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),UA=ux((OA=(3&OA)<<8)|RA),this[this.mode_](AA.pts,UA),this.column_++;else if(this.isMidRowCode(OA,RA))this.clearFormatting(AA.pts),this[this.mode_](AA.pts," "),this.column_++,14==(14&RA)&&this.addFormatting(AA.pts,["i"]),1==(1&RA)&&this.addFormatting(AA.pts,["u"]);else if(this.isOffsetControlCode(OA,RA))this.column_+=3&RA;else if(this.isPAC(OA,RA)){var MA=cx.indexOf(7968&IA);"rollUp"===this.mode_&&this.setRollUp(AA.pts,MA),MA!==this.row_&&(this.clearFormatting(AA.pts),this.row_=MA),1&RA&&-1===this.formatting_.indexOf("u")&&this.addFormatting(AA.pts,["u"]),16==(16&IA)&&(this.column_=4*((14&IA)>>1)),this.isColorPAC(RA)&&14==(14&RA)&&this.addFormatting(AA.pts,["i"])}else this.isNormalChar(OA)&&(0===RA&&(RA=null),UA=ux(OA),UA+=ux(RA),this[this.mode_](AA.pts,UA),this.column_+=UA.length)}};gx.prototype=new Kw,gx.prototype.flushDisplayed=function(LA){var wA=this.displayed_.map(function(xA){return xA.trim()}).join("\n").replace(/^\n+|\n+$/g,"");wA.length&&this.trigger("data",{startPts:this.startPts_,endPts:LA,text:wA,stream:this.name_})},gx.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=mx(),this.nonDisplayed_=mx(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},gx.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},gx.prototype.isSpecialCharacter=function(LA,wA){return LA===this.EXT_&&48<=wA&&63>=wA},gx.prototype.isExtCharacter=function(LA,wA){return(LA===this.EXT_+1||LA===this.EXT_+2)&&32<=wA&&63>=wA},gx.prototype.isMidRowCode=function(LA,wA){return LA===this.EXT_&&32<=wA&&47>=wA},gx.prototype.isOffsetControlCode=function(LA,wA){return LA===this.OFFSET_&&33<=wA&&35>=wA},gx.prototype.isPAC=function(LA,wA){return LA>=this.BASE_&&LA<this.BASE_+8&&64<=wA&&127>=wA},gx.prototype.isColorPAC=function(LA){return 64<=LA&&79>=LA||96<=LA&&127>=LA},gx.prototype.isNormalChar=function(LA){return 32<=LA&&127>=LA},gx.prototype.setRollUp=function(LA,wA){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(LA),this.nonDisplayed_=mx(),this.displayed_=mx()),void 0!==wA&&wA!==this.row_)for(var xA=0;xA<this.rollUpRows_;xA++)this.displayed_[wA-xA]=this.displayed_[this.row_-xA],this.displayed_[this.row_-xA]="";void 0===wA&&(wA=this.row_),this.topRow_=wA-this.rollUpRows_+1},gx.prototype.addFormatting=function(LA,wA){this.formatting_=this.formatting_.concat(wA);var xA=wA.reduce(function(AA,IA){return AA+"<"+IA+">"},"");this[this.mode_](LA,xA)},gx.prototype.clearFormatting=function(LA){if(this.formatting_.length){var wA=this.formatting_.reverse().reduce(function(xA,AA){return xA+"</"+AA+">"},"");this.formatting_=[],this[this.mode_](LA,wA)}},gx.prototype.popOn=function(LA,wA){var xA=this.nonDisplayed_[this.row_];xA+=wA,this.nonDisplayed_[this.row_]=xA},gx.prototype.rollUp=function(LA,wA){var xA=this.displayed_[this.row_];xA+=wA,this.displayed_[this.row_]=xA},gx.prototype.shiftRowsUp_=function(){var LA;for(LA=0;LA<this.topRow_;LA++)this.displayed_[LA]="";for(LA=this.row_+1;15>LA;LA++)this.displayed_[LA]="";for(LA=this.topRow_;LA<this.row_;LA++)this.displayed_[LA]=this.displayed_[LA+1];this.displayed_[this.row_]=""},gx.prototype.paintOn=function(LA,wA){var xA=this.displayed_[this.row_];xA+=wA,this.displayed_[this.row_]=xA};var hx={CaptionStream:dx,Cea608Stream:gx},yx={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},fx=function(LA,wA){var xA=1;for(wA<LA&&(xA=-1);4294967296<_Mathabs(wA-LA);)LA+=8589934592*xA;return LA},_x=function LA(wA){var xA,AA;LA.prototype.init.call(this),this.type_=wA,this.push=function(IA){IA.type===this.type_&&(void 0==AA&&(AA=IA.dts),IA.dts=fx(IA.dts,AA),IA.pts=fx(IA.pts,AA),xA=IA.dts,this.trigger("data",IA))},this.flush=function(){AA=xA,this.trigger("done")},this.discontinuity=function(){xA=AA=void 0}};_x.prototype=new Kw;var Sx=function(LA,wA,xA){var IA="",AA;for(AA=wA;AA<xA;AA++)IA+="%"+("00"+LA[AA].toString(16)).slice(-2);return IA},vx=function(LA,wA,xA){return decodeURIComponent(Sx(LA,wA,xA))},kx=function(LA){return LA[0]<<21|LA[1]<<14|LA[2]<<7|LA[3]},Cx={TXXX:function(LA){var wA;if(3===LA.data[0]){for(wA=1;wA<LA.data.length;wA++)if(0===LA.data[wA]){LA.description=vx(LA.data,1,wA),LA.value=vx(LA.data,wA+1,LA.data.length).replace(/\0*$/,"");break}LA.data=LA.value}},WXXX:function(LA){var wA;if(3===LA.data[0])for(wA=1;wA<LA.data.length;wA++)if(0===LA.data[wA]){LA.description=vx(LA.data,1,wA),LA.url=vx(LA.data,wA+1,LA.data.length);break}},PRIV:function(LA){var wA,xA;for(wA=0;wA<LA.data.length;wA++)if(0===LA.data[wA]){LA.owner=(xA=LA.data,unescape(Sx(xA,0,wA)));break}LA.privateData=LA.data.subarray(wA+1),LA.data=LA.privateData}},bx;(bx=function(LA){var xA={debug:LA&&LA.debug,descriptor:LA&&LA.descriptor},AA=0,IA=[],DA=0,wA;if(bx.prototype.init.call(this),this.dispatchType=yx.METADATA_STREAM_TYPE.toString(16),xA.descriptor)for(wA=0;wA<xA.descriptor.length;wA++)this.dispatchType+=("00"+xA.descriptor[wA].toString(16)).slice(-2);this.push=function(OA){var RA,UA,MA,BA,NA;if("timed-metadata"===OA.type)if(OA.dataAlignmentIndicator&&(DA=0,IA.length=0),0===IA.length&&(10>OA.data.length||OA.data[0]!=="I".charCodeAt(0)||OA.data[1]!=="D".charCodeAt(0)||OA.data[2]!=="3".charCodeAt(0)))xA.debug;else if(IA.push(OA),DA+=OA.data.byteLength,1===IA.length&&(AA=kx(OA.data.subarray(6,10)),AA+=10),!(DA<AA)){for(RA={data:new Uint8Array(AA),frames:[],pts:IA[0].pts,dts:IA[0].dts},NA=0;NA<AA;)RA.data.set(IA[0].data.subarray(0,AA-NA),NA),NA+=IA[0].data.byteLength,DA-=IA[0].data.byteLength,IA.shift();UA=10,64&RA.data[5]&&(UA+=4,UA+=kx(RA.data.subarray(10,14)),AA-=kx(RA.data.subarray(16,20)));do{if(1>(MA=kx(RA.data.subarray(UA+4,UA+8))))return;if((BA={id:_StringfromCharCode(RA.data[UA],RA.data[UA+1],RA.data[UA+2],RA.data[UA+3]),data:RA.data.subarray(UA+10,UA+MA+10)}).key=BA.id,Cx[BA.id]&&(Cx[BA.id](BA),"com.apple.streaming.transportStreamTimestamp"===BA.owner)){var FA=BA.data,jA=(1&FA[3])<<30|FA[4]<<22|FA[5]<<14|FA[6]<<6|FA[7]>>>2;jA*=4,jA+=3&FA[7],BA.timeStamp=jA,void 0===RA.pts&&void 0===RA.dts&&(RA.pts=BA.timeStamp,RA.dts=BA.timeStamp),this.trigger("timestamp",BA)}RA.frames.push(BA),UA+=10,UA+=MA}while(UA<AA);this.trigger("data",RA)}}}).prototype=new Kw;var wx=bx,Ex,Px,Lx;(Ex=function(){var LA=new Uint8Array(188),wA=0;Ex.prototype.init.call(this),this.push=function(xA){var IA=0,DA=188,AA;for(wA?((AA=new Uint8Array(xA.byteLength+wA)).set(LA.subarray(0,wA)),AA.set(xA,wA),wA=0):AA=xA;DA<AA.byteLength;)71!==AA[IA]||71!==AA[DA]?(IA++,DA++):(this.trigger("data",AA.subarray(IA,DA)),IA+=188,DA+=188);IA<AA.byteLength&&(LA.set(AA.subarray(IA),0),wA=AA.byteLength-IA)},this.flush=function(){188==wA&&71===LA[0]&&(this.trigger("data",LA),wA=0),this.trigger("done")}}).prototype=new Kw,(Px=function(){var LA,wA,xA,AA;Px.prototype.init.call(this),(AA=this).packetsWaitingForPmt=[],this.programMapTable=void 0,LA=function(IA,DA){var OA=0;DA.payloadUnitStartIndicator&&(OA+=IA[OA]+1),"pat"===DA.type?wA(IA.subarray(OA),DA):xA(IA.subarray(OA),DA)},wA=function(IA,DA){DA.section_number=IA[7],DA.last_section_number=IA[8],AA.pmtPid=(31&IA[10])<<8|IA[11],DA.pmtPid=AA.pmtPid},xA=function(IA,DA){var OA,RA;if(1&IA[5]){for(AA.programMapTable={video:null,audio:null,"timed-metadata":{}},OA=3+((15&IA[1])<<8|IA[2])-4,RA=12+((15&IA[10])<<8|IA[11]);RA<OA;){var UA=IA[RA],MA=(31&IA[RA+1])<<8|IA[RA+2];UA===yx.H264_STREAM_TYPE&&null===AA.programMapTable.video?AA.programMapTable.video=MA:UA===yx.ADTS_STREAM_TYPE&&null===AA.programMapTable.audio?AA.programMapTable.audio=MA:UA===yx.METADATA_STREAM_TYPE&&(AA.programMapTable["timed-metadata"][MA]=UA),RA+=5+((15&IA[RA+3])<<8|IA[RA+4])}DA.programMapTable=AA.programMapTable}},this.push=function(IA){var DA={},OA=4;if(DA.payloadUnitStartIndicator=!!(64&IA[1]),DA.pid=31&IA[1],DA.pid<<=8,DA.pid|=IA[2],1<(48&IA[3])>>>4&&(OA+=IA[OA]+1),0===DA.pid)DA.type="pat",LA(IA.subarray(OA),DA),this.trigger("data",DA);else if(DA.pid===this.pmtPid)for(DA.type="pmt",LA(IA.subarray(OA),DA),this.trigger("data",DA);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([IA,OA,DA]):this.processPes_(IA,OA,DA)},this.processPes_=function(IA,DA,OA){OA.streamType=OA.pid===this.programMapTable.video?yx.H264_STREAM_TYPE:OA.pid===this.programMapTable.audio?yx.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][OA.pid],OA.type="pes",OA.data=IA.subarray(DA),this.trigger("data",OA)}}).prototype=new Kw,Px.STREAM_TYPES={h264:27,adts:15},(Lx=function(){var LA=this,wA={data:[],size:0},xA={data:[],size:0},AA={data:[],size:0},IA=function(DA,OA,RA){var BA=new Uint8Array(DA.size),NA={type:OA},FA=0,jA=0,UA,MA;if(DA.data.length&&!(9>DA.size)){for(NA.trackId=DA.data[0].pid,FA=0;FA<DA.data.length;FA++)MA=DA.data[FA],BA.set(MA.data,jA),jA+=MA.data.byteLength;var HA,VA,zA;HA=BA,(VA=NA).packetLength=6+(HA[4]<<8|HA[5]),VA.dataAlignmentIndicator=0!=(4&HA[6]),192&(zA=HA[7])&&(VA.pts=(14&HA[9])<<27|(255&HA[10])<<20|(254&HA[11])<<12|(255&HA[12])<<5|(254&HA[13])>>>3,VA.pts*=4,VA.pts+=(6&HA[13])>>>1,VA.dts=VA.pts,64&zA&&(VA.dts=(14&HA[14])<<27|(255&HA[15])<<20|(254&HA[16])<<12|(255&HA[17])<<5|(254&HA[18])>>>3,VA.dts*=4,VA.dts+=(6&HA[18])>>>1)),VA.data=HA.subarray(9+HA[8]),UA="video"===OA||NA.packetLength<=DA.size,(RA||UA)&&(DA.size=0,DA.data.length=0),UA&&LA.trigger("data",NA)}};Lx.prototype.init.call(this),this.push=function(DA){({pat:function(){},pes:function(){var OA,RA;switch(DA.streamType){case yx.H264_STREAM_TYPE:case yx.H264_STREAM_TYPE:OA=wA,RA="video";break;case yx.ADTS_STREAM_TYPE:OA=xA,RA="audio";break;case yx.METADATA_STREAM_TYPE:OA=AA,RA="timed-metadata";break;default:return;}DA.payloadUnitStartIndicator&&IA(OA,RA,!0),OA.data.push(DA),OA.size+=DA.data.byteLength},pmt:function(){var OA={type:"metadata",tracks:[]},RA=DA.programMapTable;null!==RA.video&&OA.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+RA.video,codec:"avc",type:"video"}),null!==RA.audio&&OA.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+RA.audio,codec:"adts",type:"audio"}),LA.trigger("data",OA)}})[DA.type]()},this.flush=function(){IA(wA,"video"),IA(xA,"audio"),IA(AA,"timed-metadata"),this.trigger("done")}}).prototype=new Kw;var Ax={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Ex,TransportParseStream:Px,ElementaryStream:Lx,TimestampRolloverStream:_x,CaptionStream:hx.CaptionStream,Cea608Stream:hx.Cea608Stream,MetadataStream:wx};for(var Ix in yx)yx.hasOwnProperty(Ix)&&(Ax[Ix]=yx[Ix]);var Ox=Ax,Rx=[96000,88200,64000,48000,44100,32000,24000,22050,16000,12000,11025,8000,7350],Dx;(Dx=function(){var LA;Dx.prototype.init.call(this),this.push=function(wA){var UA=0,MA=0,xA,AA,IA,DA,OA,RA;if("audio"===wA.type)for(LA?(DA=LA,(LA=new Uint8Array(DA.byteLength+wA.data.byteLength)).set(DA),LA.set(wA.data,DA.byteLength)):LA=wA.data;UA+5<LA.length;)if(255===LA[UA]&&240==(246&LA[UA+1])){if(AA=2*(1&~LA[UA+1]),xA=(3&LA[UA+3])<<11|LA[UA+4]<<3|(224&LA[UA+5])>>5,RA=9e4*(OA=1024*(1+(3&LA[UA+6])))/Rx[(60&LA[UA+2])>>>2],IA=UA+xA,LA.byteLength<IA)return;if(this.trigger("data",{pts:wA.pts+MA*RA,dts:wA.dts+MA*RA,sampleCount:OA,audioobjecttype:1+(3&LA[UA+2]>>>6),channelcount:(1&LA[UA+2])<<2|(192&LA[UA+3])>>>6,samplerate:Rx[(60&LA[UA+2])>>>2],samplingfrequencyindex:(60&LA[UA+2])>>>2,samplesize:16,data:LA.subarray(UA+7+AA,IA)}),LA.byteLength===IA)return void(LA=void 0);MA++,LA=LA.subarray(IA)}else UA++},this.flush=function(){this.trigger("done")}}).prototype=new Kw;var Nx=Dx,Fx=function(LA){var wA=LA.byteLength,xA=0,AA=0;this.length=function(){return 8*wA},this.bitsAvailable=function(){return 8*wA+AA},this.loadWord=function(){var IA=LA.byteLength-wA,DA=new Uint8Array(4),OA=_Mathmin(4,wA);if(0===OA)throw new Error("no bytes available");DA.set(LA.subarray(IA,IA+OA)),xA=new DataView(DA.buffer).getUint32(0),AA=8*OA,wA-=OA},this.skipBits=function(IA){var DA;IA<AA||(IA-=AA,IA-=8*(DA=_Mathfloor(IA/8)),wA-=DA,this.loadWord()),xA<<=IA,AA-=IA},this.readBits=function(IA){var DA=_Mathmin(AA,IA),OA=xA>>>32-DA;return 0<(AA-=DA)?xA<<=DA:0<wA&&this.loadWord(),0<(DA=IA-DA)?OA<<DA|this.readBits(DA):OA},this.skipLeadingZeros=function(){var IA;for(IA=0;IA<AA;++IA)if(0!=(xA&2147483648>>>IA))return xA<<=IA,AA-=IA,IA;return this.loadWord(),IA+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var IA=this.skipLeadingZeros();return this.readBits(IA+1)-1},this.readExpGolomb=function(){var IA=this.readUnsignedExpGolomb();return 1&IA?1+IA>>>1:-1*(IA>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},Ux,Mx,Bx;(Mx=function(){var xA=0,LA,wA;Mx.prototype.init.call(this),this.push=function(AA){var IA;for(wA?((IA=new Uint8Array(wA.byteLength+AA.data.byteLength)).set(wA),IA.set(AA.data,wA.byteLength),wA=IA):wA=AA.data;xA<wA.byteLength-3;xA++)if(1===wA[xA+2]){LA=xA+5;break}for(;LA<wA.byteLength;)switch(wA[LA]){case 0:if(0!==wA[LA-1]){LA+=2;break}if(0!==wA[LA-2]){LA++;break}for(xA+3!=LA-2&&this.trigger("data",wA.subarray(xA+3,LA-2));1!==wA[++LA]&&LA<wA.length;);xA=LA-2,LA+=3;break;case 1:if(0!==wA[LA-1]||0!==wA[LA-2]){LA+=3;break}this.trigger("data",wA.subarray(xA+3,LA-2)),xA=LA-2,LA+=3;break;default:LA+=3;}wA=wA.subarray(xA),LA-=xA,xA=0},this.flush=function(){wA&&3<wA.byteLength&&this.trigger("data",wA.subarray(xA+3)),wA=null,xA=0,this.trigger("done")}}).prototype=new Kw,Bx={44:!0,83:!0,86:!0,100:!0,110:!0,118:!0,122:!0,128:!0,134:!0,138:!0,139:!0,244:!0},(Ux=function(){var RA=new Mx,LA,wA,xA,AA,IA,DA,OA;Ux.prototype.init.call(this),(LA=this).push=function(UA){"video"===UA.type&&(wA=UA.trackId,xA=UA.pts,AA=UA.dts,RA.push(UA))},RA.on("data",function(UA){var MA={trackId:wA,pts:xA,dts:AA,data:UA};switch(31&UA[0]){case 5:MA.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:MA.nalUnitType="sei_rbsp",MA.escapedRBSP=IA(UA.subarray(1));break;case 7:MA.nalUnitType="seq_parameter_set_rbsp",MA.escapedRBSP=IA(UA.subarray(1)),MA.config=DA(MA.escapedRBSP);break;case 8:MA.nalUnitType="pic_parameter_set_rbsp";break;case 9:MA.nalUnitType="access_unit_delimiter_rbsp";}LA.trigger("data",MA)}),RA.on("done",function(){LA.trigger("done")}),this.flush=function(){RA.flush()},OA=function(UA,MA){var NA=8,FA=8,BA;for(BA=0;BA<UA;BA++)0!=FA&&(FA=(NA+MA.readExpGolomb()+256)%256),NA=0==FA?NA:FA},IA=function(UA){for(var NA=UA.byteLength,FA=[],jA=1,MA,BA;jA<NA-2;)0===UA[jA]&&0===UA[jA+1]&&3===UA[jA+2]?(FA.push(jA+2),jA+=2):jA++;if(0===FA.length)return UA;MA=NA-FA.length,BA=new Uint8Array(MA);var HA=0;for(jA=0;jA<MA;HA++,jA++)HA===FA[0]&&(HA++,FA.shift()),BA[jA]=UA[HA];return BA},DA=function(UA){var KA=0,$A=0,QA=0,JA=0,ZA=1,MA,BA,NA,FA,jA,HA,VA,zA,qA,WA,GA,YA,XA;if(BA=(MA=new Fx(UA)).readUnsignedByte(),FA=MA.readUnsignedByte(),NA=MA.readUnsignedByte(),MA.skipUnsignedExpGolomb(),Bx[BA]&&(3===(jA=MA.readUnsignedExpGolomb())&&MA.skipBits(1),MA.skipUnsignedExpGolomb(),MA.skipUnsignedExpGolomb(),MA.skipBits(1),MA.readBoolean()))for(GA=3===jA?12:8,XA=0;XA<GA;XA++)MA.readBoolean()&&OA(6>XA?16:64,MA);if(MA.skipUnsignedExpGolomb(),0===(HA=MA.readUnsignedExpGolomb()))MA.readUnsignedExpGolomb();else if(1===HA)for(MA.skipBits(1),MA.skipExpGolomb(),MA.skipExpGolomb(),VA=MA.readUnsignedExpGolomb(),XA=0;XA<VA;XA++)MA.skipExpGolomb();if(MA.skipUnsignedExpGolomb(),MA.skipBits(1),zA=MA.readUnsignedExpGolomb(),qA=MA.readUnsignedExpGolomb(),0===(WA=MA.readBits(1))&&MA.skipBits(1),MA.skipBits(1),MA.readBoolean()&&(KA=MA.readUnsignedExpGolomb(),$A=MA.readUnsignedExpGolomb(),QA=MA.readUnsignedExpGolomb(),JA=MA.readUnsignedExpGolomb()),MA.readBoolean()&&MA.readBoolean()){switch(MA.readUnsignedByte()){case 1:YA=[1,1];break;case 2:YA=[12,11];break;case 3:YA=[10,11];break;case 4:YA=[16,11];break;case 5:YA=[40,33];break;case 6:YA=[24,11];break;case 7:YA=[20,11];break;case 8:YA=[32,11];break;case 9:YA=[80,33];break;case 10:YA=[18,11];break;case 11:YA=[15,11];break;case 12:YA=[64,33];break;case 13:YA=[160,99];break;case 14:YA=[4,3];break;case 15:YA=[3,2];break;case 16:YA=[2,1];break;case 255:YA=[MA.readUnsignedByte()<<8|MA.readUnsignedByte(),MA.readUnsignedByte()<<8|MA.readUnsignedByte()];}YA&&(ZA=YA[0]/YA[1])}return{profileIdc:BA,levelIdc:NA,profileCompatibility:FA,width:_Mathceil((16*(zA+1)-2*KA-2*$A)*ZA),height:16*((2-WA)*(qA+1))-2*QA-2*JA}}}).prototype=new Kw;var Hx={H264Stream:Ux,NalByteStream:Mx},jx;(jx=function(){var LA=new Uint8Array,wA=0;jx.prototype.init.call(this),this.setTimestamp=function(xA){wA=xA},this.parseId3TagSize=function(xA,AA){var IA=xA[AA+6]<<21|xA[AA+7]<<14|xA[AA+8]<<7|xA[AA+9];return(16&xA[AA+5])>>4?IA+20:IA+10},this.parseAdtsSize=function(xA,AA){var IA=(224&xA[AA+5])>>5,DA=xA[AA+4]<<3;return 6144&xA[AA+3]|DA|IA},this.push=function(xA){var RA=0,UA=0,AA,IA,DA,OA;for(LA.length?(OA=LA.length,(LA=new Uint8Array(xA.byteLength+OA)).set(LA.subarray(0,OA)),LA.set(xA,OA)):LA=xA;3<=LA.length-UA;)if(!(LA[UA]!=="I".charCodeAt(0)||LA[UA+1]!=="D".charCodeAt(0)||LA[UA+2]!=="3".charCodeAt(0))){if(10>LA.length-UA)break;if((RA=this.parseId3TagSize(LA,UA))>LA.length)break;IA={type:"timed-metadata",data:LA.subarray(UA,UA+RA)},this.trigger("data",IA),UA+=RA}else if(!0&LA[UA]&&240==(240&LA[UA+1])){if(7>LA.length-UA)break;if((RA=this.parseAdtsSize(LA,UA))>LA.length)break;DA={type:"audio",data:LA.subarray(UA,UA+RA),pts:wA,dts:wA},this.trigger("data",DA),UA+=RA}else UA++;AA=LA.length-UA,LA=0<AA?LA.subarray(UA):new Uint8Array}}).prototype=new Kw;var eA=jx,tA=[33,16,5,32,164,27],aA=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],rA=function(LA){for(var wA=[];LA--;)wA.push(0);return wA},nA={96000:[tA,[227,64],rA(154),[56]],88200:[tA,[231],rA(170),[56]],64000:[tA,[248,192],rA(240),[56]],48000:[tA,[255,192],rA(268),[55,148,128],rA(54),[112]],44100:[tA,[255,192],rA(268),[55,163,128],rA(84),[112]],32000:[tA,[255,192],rA(268),[55,234],rA(226),[112]],24000:[tA,[255,192],rA(268),[55,255,128],rA(268),[111,112],rA(126),[224]],16000:[tA,[255,192],rA(268),[55,255,128],rA(268),[111,255],rA(269),[223,108],rA(195),[1,192]],12000:[aA,rA(268),[3,127,248],rA(268),[6,255,240],rA(268),[13,255,224],rA(268),[27,253,128],rA(259),[56]],11025:[aA,rA(268),[3,127,248],rA(268),[6,255,240],rA(268),[13,255,224],rA(268),[27,255,192],rA(268),[55,175,128],rA(108),[112]],8e3:[aA,rA(268),[3,121,16],rA(47),[7]]},oA=(Vx=nA,Object.keys(Vx).reduce(function(LA,wA){return LA[wA]=new Uint8Array(Vx[wA].reduce(function(xA,AA){return xA.concat(AA)},[])),LA},{})),sA=(zx=function(LA){return 9e4*LA},qx=function(LA,wA){return LA*wA},Wx=function(LA){return LA/9e4},Gx=function(LA,wA){return LA/wA},function(LA,wA){return zx(Gx(LA,wA))}),iA=function(LA,wA){return qx(Wx(LA),wA)},lA=Hx.H264Stream,dA=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],pA=["width","height","profileIdc","levelIdc","profileCompatibility"],Vx,zx,qx,Wx,Gx,Yx,Xx,Kx,$x,Qx,Jx,Zx;Qx=function(LA){return LA[0]==="I".charCodeAt(0)&&LA[1]==="D".charCodeAt(0)&&LA[2]==="3".charCodeAt(0)},Jx=function(LA,wA){var xA;if(LA.length!==wA.length)return!1;for(xA=0;xA<LA.length;xA++)if(LA[xA]!==wA[xA])return!1;return!0},Zx=function(LA){var xA=0,wA;for(wA=0;wA<LA.length;wA++)xA+=LA[wA].data.byteLength;return xA},(Xx=function(LA,wA){var xA=[],AA=0,IA=0,DA=0,OA=1/0;wA=wA||{},Xx.prototype.init.call(this),this.push=function(RA){rx(LA,RA),LA&&dA.forEach(function(UA){LA[UA]=RA[UA]}),xA.push(RA)},this.setEarliestDts=function(RA){IA=RA-LA.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(RA){OA=RA},this.setAudioAppendStart=function(RA){DA=RA},this.flush=function(){var RA,UA,MA,BA;0!==xA.length&&(RA=this.trimAdtsFramesByEarliestDts_(xA),LA.baseMediaDecodeTime=ax(LA,wA.keepOriginalTimestamps),this.prefixWithSilence_(LA,RA),LA.samples=this.generateSampleTable_(RA),MA=Ww.mdat(this.concatenateFrameData_(RA)),xA=[],UA=Ww.moof(AA,[LA]),BA=new Uint8Array(UA.byteLength+MA.byteLength),AA++,BA.set(UA),BA.set(MA,UA.byteLength),tx(LA),this.trigger("data",{track:LA,boxes:BA})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(RA,UA){var jA=0,HA=0,VA=0,MA,BA,NA,FA;if(UA.length&&(MA=sA(RA.baseMediaDecodeTime,RA.samplerate),BA=_Mathceil(9e4/(RA.samplerate/1024)),DA&&OA&&(jA=MA-_Mathmax(DA,OA),VA=(HA=_Mathfloor(jA/BA))*BA),!(1>HA||45e3<VA))){for((NA=oA[RA.samplerate])||(NA=UA[0].data),FA=0;FA<HA;FA++)UA.splice(FA,0,{data:NA});RA.baseMediaDecodeTime-=_Mathfloor(iA(VA,RA.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(RA){return LA.minSegmentDts>=IA?RA:(LA.minSegmentDts=1/0,RA.filter(function(UA){return UA.dts>=IA&&(LA.minSegmentDts=_Mathmin(LA.minSegmentDts,UA.dts),LA.minSegmentPts=LA.minSegmentDts,!0)}))},this.generateSampleTable_=function(RA){var BA=[],UA,MA;for(UA=0;UA<RA.length;UA++)MA=RA[UA],BA.push({size:MA.data.byteLength,duration:1024});return BA},this.concatenateFrameData_=function(RA){var BA=0,NA=new Uint8Array(Zx(RA)),UA,MA;for(UA=0;UA<RA.length;UA++)MA=RA[UA],NA.set(MA.data,BA),BA+=MA.data.byteLength;return NA}}).prototype=new Kw,(Yx=function(LA,wA){var IA=0,DA=[],OA=[],xA,AA;wA=wA||{},Yx.prototype.init.call(this),delete LA.minPTS,this.gopCache_=[],this.push=function(RA){rx(LA,RA),"seq_parameter_set_rbsp"!==RA.nalUnitType||xA||(xA=RA.config,LA.sps=[RA.data],pA.forEach(function(UA){LA[UA]=xA[UA]},this)),"pic_parameter_set_rbsp"!==RA.nalUnitType||AA||(AA=RA.data,LA.pps=[RA.data]),DA.push(RA)},this.flush=function(){for(var RA,UA,MA,BA,NA,FA;DA.length&&"access_unit_delimiter_rbsp"!==DA[0].nalUnitType;)DA.shift();if(0===DA.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(RA=$w(DA),(MA=Qw(RA))[0][0].keyFrame||((UA=this.getGopForFusion_(DA[0],LA))?(MA.unshift(UA),MA.byteLength+=UA.byteLength,MA.nalCount+=UA.nalCount,MA.pts=UA.pts,MA.dts=UA.dts,MA.duration+=UA.duration):MA=Jw(MA)),OA.length){var jA;if(!(jA=wA.alignGopsAtEnd?this.alignGopsAtEnd_(MA):this.alignGopsAtStart_(MA)))return this.gopCache_.unshift({gop:MA.pop(),pps:LA.pps,sps:LA.sps}),this.gopCache_.length=_Mathmin(6,this.gopCache_.length),DA=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");tx(LA),MA=jA}rx(LA,MA),LA.samples=Zw(MA),NA=Ww.mdat(ex(MA)),LA.baseMediaDecodeTime=ax(LA,wA.keepOriginalTimestamps),this.trigger("processedGopsInfo",MA.map(function(HA){return{pts:HA.pts,dts:HA.dts,byteLength:HA.byteLength}})),this.gopCache_.unshift({gop:MA.pop(),pps:LA.pps,sps:LA.sps}),this.gopCache_.length=_Mathmin(6,this.gopCache_.length),DA=[],this.trigger("baseMediaDecodeTime",LA.baseMediaDecodeTime),this.trigger("timelineStartInfo",LA.timelineStartInfo),BA=Ww.moof(IA,[LA]),FA=new Uint8Array(BA.byteLength+NA.byteLength),IA++,FA.set(BA),FA.set(NA,BA.byteLength),this.trigger("data",{track:LA,boxes:FA}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){tx(LA),AA=xA=void 0},this.getGopForFusion_=function(RA){var jA=1/0,UA,MA,BA,NA,FA;for(FA=0;FA<this.gopCache_.length;FA++)BA=(NA=this.gopCache_[FA]).gop,LA.pps&&Jx(LA.pps[0],NA.pps[0])&&LA.sps&&Jx(LA.sps[0],NA.sps[0])&&(BA.dts<LA.timelineStartInfo.dts||-1e4<=(UA=RA.dts-BA.dts-BA.duration)&&45e3>=UA&&(!MA||UA<jA)&&(MA=NA,jA=UA));return MA?MA.gop:null},this.alignGopsAtStart_=function(RA){var UA,MA,BA,NA,FA,jA,HA,VA;for(FA=RA.byteLength,jA=RA.nalCount,HA=RA.duration,UA=MA=0;UA<OA.length&&MA<RA.length&&(BA=OA[UA],NA=RA[MA],BA.pts!==NA.pts);)NA.pts>BA.pts?UA++:(MA++,FA-=NA.byteLength,jA-=NA.nalCount,HA-=NA.duration);return 0===MA?RA:MA===RA.length?null:((VA=RA.slice(MA)).byteLength=FA,VA.duration=HA,VA.nalCount=jA,VA.pts=VA[0].pts,VA.dts=VA[0].dts,VA)},this.alignGopsAtEnd_=function(RA){var UA,MA,BA,NA,FA,jA,HA;for(UA=OA.length-1,MA=RA.length-1,FA=null,jA=!1;0<=UA&&0<=MA;){if(BA=OA[UA],NA=RA[MA],BA.pts===NA.pts){jA=!0;break}BA.pts>NA.pts?UA--:(UA===OA.length-1&&(FA=MA),MA--)}if(!jA&&null===FA)return null;if(0===(HA=jA?MA:FA))return RA;var VA=RA.slice(HA),zA=VA.reduce(function(qA,WA){return qA.byteLength+=WA.byteLength,qA.duration+=WA.duration,qA.nalCount+=WA.nalCount,qA},{byteLength:0,duration:0,nalCount:0});return VA.byteLength=zA.byteLength,VA.duration=zA.duration,VA.nalCount=zA.nalCount,VA.pts=VA[0].pts,VA.dts=VA[0].dts,VA},this.alignGopsWith=function(RA){OA=RA}}).prototype=new Kw,($x=function(LA,wA){this.numberOfTracks=0,this.metadataStream=wA,this.remuxTracks=!("undefined"!=typeof LA.remux)||!!LA.remux,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,$x.prototype.init.call(this),this.push=function(xA){return xA.text?this.pendingCaptions.push(xA):xA.frames?this.pendingMetadata.push(xA):(this.pendingTracks.push(xA.track),this.pendingBoxes.push(xA.boxes),this.pendingBytes+=xA.boxes.byteLength,"video"===xA.track.type&&(this.videoTrack=xA.track),void("audio"===xA.track.type&&(this.audioTrack=xA.track)))}}).prototype=new Kw,$x.prototype.flush=function(LA){var DA=0,OA={captions:[],captionStreams:{},metadata:[],info:{}},RA=0,wA,xA,AA,IA;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==LA&&"AudioSegmentStream"!==LA)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(RA=this.videoTrack.timelineStartInfo.pts,pA.forEach(function(UA){OA.info[UA]=this.videoTrack[UA]},this)):this.audioTrack&&(RA=this.audioTrack.timelineStartInfo.pts,dA.forEach(function(UA){OA.info[UA]=this.audioTrack[UA]},this)),OA.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,AA=Ww.initSegment(this.pendingTracks),OA.initSegment=new Uint8Array(AA.byteLength),OA.initSegment.set(AA),OA.data=new Uint8Array(this.pendingBytes),IA=0;IA<this.pendingBoxes.length;IA++)OA.data.set(this.pendingBoxes[IA],DA),DA+=this.pendingBoxes[IA].byteLength;for(IA=0;IA<this.pendingCaptions.length;IA++)(wA=this.pendingCaptions[IA]).startTime=wA.startPts-RA,wA.startTime/=9e4,wA.endTime=wA.endPts-RA,wA.endTime/=9e4,OA.captionStreams[wA.stream]=!0,OA.captions.push(wA);for(IA=0;IA<this.pendingMetadata.length;IA++)(xA=this.pendingMetadata[IA]).cueTime=xA.pts-RA,xA.cueTime/=9e4,OA.metadata.push(xA);OA.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",OA),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Kx=function(LA){var AA=this,IA=!0,wA,xA;Kx.prototype.init.call(this),LA=LA||{},this.baseMediaDecodeTime=LA.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var DA={};(this.transmuxPipeline_=DA).type="aac",DA.metadataStream=new Ox.MetadataStream,DA.aacStream=new eA,DA.audioTimestampRolloverStream=new Ox.TimestampRolloverStream("audio"),DA.timedMetadataTimestampRolloverStream=new Ox.TimestampRolloverStream("timed-metadata"),DA.adtsStream=new Nx,DA.coalesceStream=new $x(LA,DA.metadataStream),DA.headOfPipeline=DA.aacStream,DA.aacStream.pipe(DA.audioTimestampRolloverStream).pipe(DA.adtsStream),DA.aacStream.pipe(DA.timedMetadataTimestampRolloverStream).pipe(DA.metadataStream).pipe(DA.coalesceStream),DA.metadataStream.on("timestamp",function(OA){DA.aacStream.setTimestamp(OA.timeStamp)}),DA.aacStream.on("data",function(OA){"timed-metadata"!==OA.type||DA.audioSegmentStream||(xA=xA||{timelineStartInfo:{baseMediaDecodeTime:AA.baseMediaDecodeTime},codec:"adts",type:"audio"},DA.coalesceStream.numberOfTracks++,DA.audioSegmentStream=new Xx(xA,LA),DA.adtsStream.pipe(DA.audioSegmentStream).pipe(DA.coalesceStream))}),DA.coalesceStream.on("data",this.trigger.bind(this,"data")),DA.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var DA={};(this.transmuxPipeline_=DA).type="ts",DA.metadataStream=new Ox.MetadataStream,DA.packetStream=new Ox.TransportPacketStream,DA.parseStream=new Ox.TransportParseStream,DA.elementaryStream=new Ox.ElementaryStream,DA.videoTimestampRolloverStream=new Ox.TimestampRolloverStream("video"),DA.audioTimestampRolloverStream=new Ox.TimestampRolloverStream("audio"),DA.timedMetadataTimestampRolloverStream=new Ox.TimestampRolloverStream("timed-metadata"),DA.adtsStream=new Nx,DA.h264Stream=new lA,DA.captionStream=new Ox.CaptionStream,DA.coalesceStream=new $x(LA,DA.metadataStream),DA.headOfPipeline=DA.packetStream,DA.packetStream.pipe(DA.parseStream).pipe(DA.elementaryStream),DA.elementaryStream.pipe(DA.videoTimestampRolloverStream).pipe(DA.h264Stream),DA.elementaryStream.pipe(DA.audioTimestampRolloverStream).pipe(DA.adtsStream),DA.elementaryStream.pipe(DA.timedMetadataTimestampRolloverStream).pipe(DA.metadataStream).pipe(DA.coalesceStream),DA.h264Stream.pipe(DA.captionStream).pipe(DA.coalesceStream),DA.elementaryStream.on("data",function(OA){var RA;if("metadata"===OA.type){for(RA=OA.tracks.length;RA--;)wA||"video"!==OA.tracks[RA].type?xA||"audio"!==OA.tracks[RA].type||((xA=OA.tracks[RA]).timelineStartInfo.baseMediaDecodeTime=AA.baseMediaDecodeTime):(wA=OA.tracks[RA]).timelineStartInfo.baseMediaDecodeTime=AA.baseMediaDecodeTime;wA&&!DA.videoSegmentStream&&(DA.coalesceStream.numberOfTracks++,DA.videoSegmentStream=new Yx(wA,LA),DA.videoSegmentStream.on("timelineStartInfo",function(UA){xA&&(xA.timelineStartInfo=UA,DA.audioSegmentStream.setEarliestDts(UA.dts))}),DA.videoSegmentStream.on("processedGopsInfo",AA.trigger.bind(AA,"gopInfo")),DA.videoSegmentStream.on("baseMediaDecodeTime",function(UA){xA&&DA.audioSegmentStream.setVideoBaseMediaDecodeTime(UA)}),DA.h264Stream.pipe(DA.videoSegmentStream).pipe(DA.coalesceStream)),xA&&!DA.audioSegmentStream&&(DA.coalesceStream.numberOfTracks++,DA.audioSegmentStream=new Xx(xA,LA),DA.adtsStream.pipe(DA.audioSegmentStream).pipe(DA.coalesceStream))}}),DA.coalesceStream.on("data",this.trigger.bind(this,"data")),DA.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(DA){var OA=this.transmuxPipeline_;this.baseMediaDecodeTime=DA,xA&&(xA.timelineStartInfo.dts=void 0,xA.timelineStartInfo.pts=void 0,tx(xA),xA.timelineStartInfo.baseMediaDecodeTime=DA,OA.audioTimestampRolloverStream&&OA.audioTimestampRolloverStream.discontinuity()),wA&&(OA.videoSegmentStream&&(OA.videoSegmentStream.gopCache_=[],OA.videoTimestampRolloverStream.discontinuity()),wA.timelineStartInfo.dts=void 0,wA.timelineStartInfo.pts=void 0,tx(wA),OA.captionStream.reset(),wA.timelineStartInfo.baseMediaDecodeTime=DA),OA.timedMetadataTimestampRolloverStream&&OA.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(DA){xA&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(DA)},this.alignGopsWith=function(DA){wA&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(DA)},this.push=function(DA){if(IA){var OA=Qx(DA);OA&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():OA||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),IA=!1}this.transmuxPipeline_.headOfPipeline.push(DA)},this.flush=function(){IA=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Kw;var mA={Transmuxer:Kx,VideoSegmentStream:Yx,AudioSegmentStream:Xx,AUDIO_PROPERTIES:dA,VIDEO_PROPERTIES:pA},gA=Yw.parseType,hA=function(LA){return new Date(1e3*LA-20828448e5)},yA=function(LA){return{isLeading:(12&LA[0])>>>2,dependsOn:3&LA[0],isDependedOn:(192&LA[1])>>>6,hasRedundancy:(48&LA[1])>>>4,paddingValue:(14&LA[1])>>>1,isNonSyncSample:1&LA[1],degradationPriority:LA[2]<<8|LA[3]}},fA={avc1:function(LA){var wA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength);return{dataReferenceIndex:wA.getUint16(6),width:wA.getUint16(24),height:wA.getUint16(26),horizresolution:wA.getUint16(28)+wA.getUint16(30)/16,vertresolution:wA.getUint16(32)+wA.getUint16(34)/16,frameCount:wA.getUint16(40),depth:wA.getUint16(74),config:uA(LA.subarray(78,LA.byteLength))}},avcC:function(LA){var DA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),OA={configurationVersion:LA[0],avcProfileIndication:LA[1],profileCompatibility:LA[2],avcLevelIndication:LA[3],lengthSizeMinusOne:3&LA[4],sps:[],pps:[]},RA=31&LA[5],wA,xA,AA,IA;for(AA=6,IA=0;IA<RA;IA++)xA=DA.getUint16(AA),AA+=2,OA.sps.push(new Uint8Array(LA.subarray(AA,AA+xA))),AA+=xA;for(wA=LA[AA],AA++,IA=0;IA<wA;IA++)xA=DA.getUint16(AA),AA+=2,OA.pps.push(new Uint8Array(LA.subarray(AA,AA+xA))),AA+=xA;return OA},btrt:function(LA){var wA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength);return{bufferSizeDB:wA.getUint32(0),maxBitrate:wA.getUint32(4),avgBitrate:wA.getUint32(8)}},esds:function(LA){return{version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),esId:LA[6]<<8|LA[7],streamPriority:31&LA[8],decoderConfig:{objectProfileIndication:LA[11],streamType:63&LA[12]>>>2,bufferSize:LA[13]<<16|LA[14]<<8|LA[15],maxBitrate:LA[16]<<24|LA[17]<<16|LA[18]<<8|LA[19],avgBitrate:LA[20]<<24|LA[21]<<16|LA[22]<<8|LA[23],decoderConfigDescriptor:{tag:LA[24],length:LA[25],audioObjectType:31&LA[26]>>>3,samplingFrequencyIndex:(7&LA[26])<<1|1&LA[27]>>>7,channelConfiguration:15&LA[27]>>>3}}}},ftyp:function(LA){for(var wA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),xA={majorBrand:gA(LA.subarray(0,4)),minorVersion:wA.getUint32(4),compatibleBrands:[]},AA=8;AA<LA.byteLength;)xA.compatibleBrands.push(gA(LA.subarray(AA,AA+4))),AA+=4;return xA},dinf:function(LA){return{boxes:uA(LA)}},dref:function(LA){return{version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),dataReferences:uA(LA.subarray(8))}},hdlr:function(LA){var wA={version:new DataView(LA.buffer,LA.byteOffset,LA.byteLength).getUint8(0),flags:new Uint8Array(LA.subarray(1,4)),handlerType:gA(LA.subarray(8,12)),name:""},xA=8;for(xA=24;xA<LA.byteLength;xA++){if(0===LA[xA]){xA++;break}wA.name+=_StringfromCharCode(LA[xA])}return wA.name=decodeURIComponent(escape(wA.name)),wA},mdat:function(LA){return{byteLength:LA.byteLength,nals:function(wA){var IA=new DataView(wA.buffer,wA.byteOffset,wA.byteLength),DA=[],xA,AA;for(xA=0;xA+4<wA.length;xA+=AA)if(AA=IA.getUint32(xA),xA+=4,0>=AA)DA.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&wA[xA]){case 1:DA.push("slice_layer_without_partitioning_rbsp");break;case 5:DA.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:DA.push("sei_rbsp");break;case 7:DA.push("seq_parameter_set_rbsp");break;case 8:DA.push("pic_parameter_set_rbsp");break;case 9:DA.push("access_unit_delimiter_rbsp");break;default:DA.push(31&"UNKNOWN NAL - "+wA[xA]);}return DA}(LA)}},mdhd:function(LA){var xA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),AA=4,IA={version:xA.getUint8(0),flags:new Uint8Array(LA.subarray(1,4)),language:""},wA;return 1===IA.version?(AA+=4,IA.creationTime=hA(xA.getUint32(AA)),AA+=8,IA.modificationTime=hA(xA.getUint32(AA)),AA+=4,IA.timescale=xA.getUint32(AA),AA+=8):(IA.creationTime=hA(xA.getUint32(AA)),AA+=4,IA.modificationTime=hA(xA.getUint32(AA)),AA+=4,IA.timescale=xA.getUint32(AA),AA+=4),IA.duration=xA.getUint32(AA),AA+=4,wA=xA.getUint16(AA),IA.language+=_StringfromCharCode(96+(wA>>10)),IA.language+=_StringfromCharCode(96+((992&wA)>>5)),IA.language+=_StringfromCharCode(96+(31&wA)),IA},mdia:function(LA){return{boxes:uA(LA)}},mfhd:function(LA){return{version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),sequenceNumber:LA[4]<<24|LA[5]<<16|LA[6]<<8|LA[7]}},minf:function(LA){return{boxes:uA(LA)}},mp4a:function(LA){var wA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),xA={dataReferenceIndex:wA.getUint16(6),channelcount:wA.getUint16(16),samplesize:wA.getUint16(18),samplerate:wA.getUint16(24)+wA.getUint16(26)/65536};return 28<LA.byteLength&&(xA.streamDescriptor=uA(LA.subarray(28))[0]),xA},moof:function(LA){return{boxes:uA(LA)}},moov:function(LA){return{boxes:uA(LA)}},mvex:function(LA){return{boxes:uA(LA)}},mvhd:function(LA){var wA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),xA=4,AA={version:wA.getUint8(0),flags:new Uint8Array(LA.subarray(1,4))};return 1===AA.version?(xA+=4,AA.creationTime=hA(wA.getUint32(xA)),xA+=8,AA.modificationTime=hA(wA.getUint32(xA)),xA+=4,AA.timescale=wA.getUint32(xA),xA+=8):(AA.creationTime=hA(wA.getUint32(xA)),xA+=4,AA.modificationTime=hA(wA.getUint32(xA)),xA+=4,AA.timescale=wA.getUint32(xA),xA+=4),AA.duration=wA.getUint32(xA),xA+=4,AA.rate=wA.getUint16(xA)+wA.getUint16(xA+2)/16,xA+=4,AA.volume=wA.getUint8(xA)+wA.getUint8(xA+1)/8,xA+=2,xA+=2,xA+=8,AA.matrix=new Uint32Array(LA.subarray(xA,xA+36)),xA+=36,xA+=24,AA.nextTrackId=wA.getUint32(xA),AA},pdin:function(LA){var wA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength);return{version:wA.getUint8(0),flags:new Uint8Array(LA.subarray(1,4)),rate:wA.getUint32(4),initialDelay:wA.getUint32(8)}},sdtp:function(LA){var xA={version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),samples:[]},wA;for(wA=4;wA<LA.byteLength;wA++)xA.samples.push({dependsOn:(48&LA[wA])>>4,isDependedOn:(12&LA[wA])>>2,hasRedundancy:3&LA[wA]});return xA},sidx:function(LA){var xA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),AA={version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),references:[],referenceId:xA.getUint32(4),timescale:xA.getUint32(8),earliestPresentationTime:xA.getUint32(12),firstOffset:xA.getUint32(16)},IA=xA.getUint16(22),wA;for(wA=24;IA;wA+=12,IA--)AA.references.push({referenceType:(128&LA[wA])>>>7,referencedSize:2147483647&xA.getUint32(wA),subsegmentDuration:xA.getUint32(wA+4),startsWithSap:!!(128&LA[wA+8]),sapType:(112&LA[wA+8])>>>4,sapDeltaTime:268435455&xA.getUint32(wA+8)});return AA},smhd:function(LA){return{version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),balance:LA[4]+LA[5]/256}},stbl:function(LA){return{boxes:uA(LA)}},stco:function(LA){var xA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),AA={version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),chunkOffsets:[]},IA=xA.getUint32(4),wA;for(wA=8;IA;wA+=4,IA--)AA.chunkOffsets.push(xA.getUint32(wA));return AA},stsc:function(LA){var xA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),AA=xA.getUint32(4),IA={version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),sampleToChunks:[]},wA;for(wA=8;AA;wA+=12,AA--)IA.sampleToChunks.push({firstChunk:xA.getUint32(wA),samplesPerChunk:xA.getUint32(wA+4),sampleDescriptionIndex:xA.getUint32(wA+8)});return IA},stsd:function(LA){return{version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),sampleDescriptions:uA(LA.subarray(8))}},stsz:function(LA){var xA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),AA={version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),sampleSize:xA.getUint32(4),entries:[]},wA;for(wA=12;wA<LA.byteLength;wA+=4)AA.entries.push(xA.getUint32(wA));return AA},stts:function(LA){var xA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),AA={version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),timeToSamples:[]},IA=xA.getUint32(4),wA;for(wA=8;IA;wA+=8,IA--)AA.timeToSamples.push({sampleCount:xA.getUint32(wA),sampleDelta:xA.getUint32(wA+4)});return AA},styp:function(LA){return fA.ftyp(LA)},tfdt:function(LA){var wA={version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),baseMediaDecodeTime:LA[4]<<24|LA[5]<<16|LA[6]<<8|LA[7]};return 1===wA.version&&(wA.baseMediaDecodeTime*=4294967296,wA.baseMediaDecodeTime+=LA[8]<<24|LA[9]<<16|LA[10]<<8|LA[11]),wA},tfhd:function(LA){var xA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),AA={version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),trackId:xA.getUint32(4)},IA=1&AA.flags[2],DA=2&AA.flags[2],OA=8&AA.flags[2],RA=16&AA.flags[2],UA=32&AA.flags[2],MA=65536&AA.flags[0],BA=131072&AA.flags[0],wA;return wA=8,IA&&(wA+=4,AA.baseDataOffset=xA.getUint32(12),wA+=4),DA&&(AA.sampleDescriptionIndex=xA.getUint32(wA),wA+=4),OA&&(AA.defaultSampleDuration=xA.getUint32(wA),wA+=4),RA&&(AA.defaultSampleSize=xA.getUint32(wA),wA+=4),UA&&(AA.defaultSampleFlags=xA.getUint32(wA)),MA&&(AA.durationIsEmpty=!0),!IA&&BA&&(AA.baseDataOffsetIsMoof=!0),AA},tkhd:function(LA){var wA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),xA=4,AA={version:wA.getUint8(0),flags:new Uint8Array(LA.subarray(1,4))};return 1===AA.version?(xA+=4,AA.creationTime=hA(wA.getUint32(xA)),xA+=8,AA.modificationTime=hA(wA.getUint32(xA)),xA+=4,AA.trackId=wA.getUint32(xA),xA+=4,xA+=8):(AA.creationTime=hA(wA.getUint32(xA)),xA+=4,AA.modificationTime=hA(wA.getUint32(xA)),xA+=4,AA.trackId=wA.getUint32(xA),xA+=4,xA+=4),AA.duration=wA.getUint32(xA),xA+=4,xA+=8,AA.layer=wA.getUint16(xA),xA+=2,AA.alternateGroup=wA.getUint16(xA),xA+=2,AA.volume=wA.getUint8(xA)+wA.getUint8(xA+1)/8,xA+=2,xA+=2,AA.matrix=new Uint32Array(LA.subarray(xA,xA+36)),xA+=36,AA.width=wA.getUint16(xA)+wA.getUint16(xA+2)/16,xA+=4,AA.height=wA.getUint16(xA)+wA.getUint16(xA+2)/16,AA},traf:function(LA){return{boxes:uA(LA)}},trak:function(LA){return{boxes:uA(LA)}},trex:function(LA){var wA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength);return{version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),trackId:wA.getUint32(4),defaultSampleDescriptionIndex:wA.getUint32(8),defaultSampleDuration:wA.getUint32(12),defaultSampleSize:wA.getUint32(16),sampleDependsOn:3&LA[20],sampleIsDependedOn:(192&LA[21])>>6,sampleHasRedundancy:(48&LA[21])>>4,samplePaddingValue:(14&LA[21])>>1,sampleIsDifferenceSample:!!(1&LA[21]),sampleDegradationPriority:wA.getUint16(22)}},trun:function(LA){var xA={version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),samples:[]},AA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength),IA=1&xA.flags[2],DA=4&xA.flags[2],OA=1&xA.flags[1],RA=2&xA.flags[1],UA=4&xA.flags[1],MA=8&xA.flags[1],BA=AA.getUint32(4),NA=8,wA;for(IA&&(xA.dataOffset=AA.getInt32(NA),NA+=4),DA&&BA&&(wA={flags:yA(LA.subarray(NA,NA+4))},NA+=4,OA&&(wA.duration=AA.getUint32(NA),NA+=4),RA&&(wA.size=AA.getUint32(NA),NA+=4),MA&&(wA.compositionTimeOffset=AA.getUint32(NA),NA+=4),xA.samples.push(wA),BA--);BA--;)wA={},OA&&(wA.duration=AA.getUint32(NA),NA+=4),RA&&(wA.size=AA.getUint32(NA),NA+=4),UA&&(wA.flags=yA(LA.subarray(NA,NA+4)),NA+=4),MA&&(wA.compositionTimeOffset=AA.getUint32(NA),NA+=4),xA.samples.push(wA);return xA},"url ":function(LA){return{version:LA[0],flags:new Uint8Array(LA.subarray(1,4))}},vmhd:function(LA){var wA=new DataView(LA.buffer,LA.byteOffset,LA.byteLength);return{version:LA[0],flags:new Uint8Array(LA.subarray(1,4)),graphicsmode:wA.getUint16(4),opcolor:new Uint16Array([wA.getUint16(6),wA.getUint16(8),wA.getUint16(10)])}}},_A={inspect:uA=function(LA){for(var OA=0,RA=[],UA=new ArrayBuffer(LA.length),MA=new Uint8Array(UA),BA=0,wA,xA,AA,IA,DA;BA<LA.length;++BA)MA[BA]=LA[BA];for(wA=new DataView(UA);OA<LA.byteLength;)xA=wA.getUint32(OA),AA=gA(LA.subarray(OA+4,OA+8)),IA=1<xA?OA+xA:LA.byteLength,(DA=(fA[AA]||function(NA){return{data:NA}})(LA.subarray(OA+8,IA))).size=xA,DA.type=AA,RA.push(DA),OA=IA;return RA},textify:cA=function(LA,wA){var xA;return wA=wA||0,xA=Array(2*wA+1).join(" "),LA.map(function(AA){return xA+AA.type+"\n"+Object.keys(AA).filter(function(DA){return"type"!==DA&&"boxes"!==DA}).map(function(DA){var OA=xA+"  "+DA+": ",RA=AA[DA];if(RA instanceof Uint8Array||RA instanceof Uint32Array){var UA=Array.prototype.slice.call(new Uint8Array(RA.buffer,RA.byteOffset,RA.byteLength)).map(function(MA){return" "+("00"+MA.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return UA?1===UA.length?OA+"<"+UA.join("").slice(1)+">":OA+"<\n"+UA.map(function(MA){return xA+"  "+MA}).join("\n")+"\n"+xA+"  >":OA+"<>"}return OA+JSON.stringify(RA,null,2).split("\n").map(function(MA,BA){return 0===BA?MA:xA+"  "+MA}).join("\n")}).join("\n")+(AA.boxes?"\n"+cA(AA.boxes,wA+1):"")}).join("\n")},parseTfdt:fA.tfdt,parseHdlr:fA.hdlr,parseTfhd:fA.tfhd,parseTrun:fA.trun},bA=function(LA){for(var AA=LA.byteLength,IA=[],DA=1,wA,xA;DA<AA-2;)0===LA[DA]&&0===LA[DA+1]&&3===LA[DA+2]?(IA.push(DA+2),DA+=2):DA++;if(0===IA.length)return LA;wA=AA-IA.length,xA=new Uint8Array(wA);var OA=0;for(DA=0;DA<wA;OA++,DA++)OA===IA[0]&&(OA++,IA.shift()),xA[DA]=LA[OA];return xA},TA=hx.CaptionStream,SA=function(LA,wA){for(var xA=LA,AA=0,IA;AA<wA.length;AA++){if(IA=wA[AA],xA<IA.size)return IA;xA-=IA.size}return null},vA=function(LA,wA){var xA=Yw.findBox(LA,["moof","traf"]),AA=Yw.findBox(LA,["mdat"]),IA={},DA=[];return AA.forEach(function(OA,RA){var UA=xA[RA];DA.push({mdat:OA,traf:UA})}),DA.forEach(function(OA){var VA=OA.mdat,zA=OA.traf,qA=Yw.findBox(zA,["tfhd"]),WA=_A.parseTfhd(qA[0]),GA=WA.trackId,YA=Yw.findBox(zA,["tfdt"]),XA=0<YA.length?_A.parseTfdt(YA[0]).baseMediaDecodeTime:0,KA=Yw.findBox(zA,["trun"]),RA,UA,MA,BA,NA,FA,jA,HA;wA===GA&&0<KA.length&&(UA=KA,BA=XA,NA=(MA=WA).defaultSampleDuration||0,FA=MA.defaultSampleSize||0,jA=MA.trackId,HA=[],UA.forEach(function($A){var QA=_A.parseTrun($A).samples;QA.forEach(function(JA){void 0===JA.duration&&(JA.duration=NA),void 0===JA.size&&(JA.size=FA),JA.trackId=jA,JA.dts=BA,void 0===JA.compositionTimeOffset&&(JA.compositionTimeOffset=0),JA.pts=BA+JA.compositionTimeOffset,BA+=JA.duration}),HA=HA.concat(QA)}),RA=function($A,QA,JA){var rI=new DataView($A.buffer,$A.byteOffset,$A.byteLength),nI=[],ZA,eI,tI,aI;for(eI=0;eI+4<$A.length;eI+=tI)if(tI=rI.getUint32(eI),eI+=4,!(0>=tI))switch(31&$A[eI]){case 6:var oI=$A.subarray(eI+1,eI+1+tI),sI=SA(eI,QA);ZA={nalUnitType:"sei_rbsp",size:tI,data:oI,escapedRBSP:bA(oI),trackId:JA},sI?(ZA.pts=sI.pts,ZA.dts=sI.dts,aI=sI):(ZA.pts=aI.pts,ZA.dts=aI.dts),nI.push(ZA);}return nI}(VA,HA,GA),IA[GA]||(IA[GA]=[]),IA[GA]=IA[GA].concat(RA))}),IA},kA={generator:Ww,probe:Yw,Transmuxer:mA.Transmuxer,AudioSegmentStream:mA.AudioSegmentStream,VideoSegmentStream:mA.VideoSegmentStream,CaptionParser:function(){var DA=!1,LA,wA,xA,AA,IA;this.isInitialized=function(){return DA},this.init=function(){LA=new TA,DA=!0,LA.on("data",function(OA){OA.startTime=OA.startPts/AA,OA.endTime=OA.endPts/AA,IA.captions.push(OA),IA.captionStreams[OA.stream]=!0})},this.isNewInit=function(OA,RA){return!(OA&&0===OA.length||RA&&"object"===("undefined"==typeof RA?"undefined":vg(RA))&&0===Object.keys(RA).length||xA===OA[0]&&AA===RA[xA])},this.parse=function(OA,RA,UA){var MA,BA,NA,FA;if(!this.isInitialized())return null;if(!RA||!UA)return null;if(this.isNewInit(RA,UA))xA=RA[0],AA=UA[xA];else if(!xA||!AA)return wA.push(OA),null;for(;0<wA.length;){var jA=wA.shift();this.parse(jA,RA,UA)}return BA=OA,FA=AA,null!==(MA=(NA=xA)?{seiNals:vA(BA,NA)[NA],timescale:FA}:null)&&MA.seiNals?(this.pushNals(MA.seiNals),this.flushStream(),IA):null},this.pushNals=function(OA){return this.isInitialized()&&OA&&0!==OA.length?void OA.forEach(function(RA){LA.push(RA)}):null},this.flushStream=function(){return this.isInitialized()?void LA.flush():null},this.clearParsedCaptions=function(){IA.captions=[],IA.captionStreams={}},this.resetCaptionStream=function(){return this.isInitialized()?void LA.reset():null},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){wA=[],AA=xA=null,IA?this.clearParsedCaptions():IA={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},CA=function(LA,wA){if(!(LA instanceof wA))throw new TypeError("Cannot call a class as a function")},EA=function(){function LA(wA,xA){for(var AA=0,IA;AA<xA.length;AA++)IA=xA[AA],IA.enumerable=IA.enumerable||!1,IA.configurable=!0,"value"in IA&&(IA.writable=!0),Object.defineProperty(wA,IA.key,IA)}return function(wA,xA,AA){return xA&&LA(wA.prototype,xA),AA&&LA(wA,AA),wA}}(),PA=function(){function LA(wA,xA){CA(this,LA),this.options=xA||{},this.self=wA,this.init()}return EA(LA,[{key:"init",value:function(){var wA,xA;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new kA.Transmuxer(this.options),wA=this.self,(xA=this.transmuxer).on("data",function(AA){var IA=AA.initSegment;AA.initSegment={data:IA.buffer,byteOffset:IA.byteOffset,byteLength:IA.byteLength};var DA=AA.data;AA.data=DA.buffer,wA.postMessage({action:"data",segment:AA,byteOffset:DA.byteOffset,byteLength:DA.byteLength},[AA.data])}),xA.captionStream&&xA.captionStream.on("data",function(AA){wA.postMessage({action:"caption",data:AA})}),xA.on("done",function(){wA.postMessage({action:"done"})}),xA.on("gopInfo",function(AA){wA.postMessage({action:"gopInfo",gopInfo:AA})})}},{key:"push",value:function(wA){var xA=new Uint8Array(wA.data,wA.byteOffset,wA.byteLength);this.transmuxer.push(xA)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(wA){var xA=wA.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(_Mathround(9e4*xA))}},{key:"setAudioAppendStart",value:function(wA){this.transmuxer.setAudioAppendStart(_Mathceil(9e4*wA.appendStart))}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(wA){this.transmuxer.alignGopsWith(wA.gopsToAlignWith.slice())}}]),LA}(),uA,cA;new function(LA){LA.onmessage=function(wA){"init"===wA.data.action&&wA.data.options?this.messageHandlers=new PA(LA,wA.data.options):(this.messageHandlers||(this.messageHandlers=new PA(LA)),wA.data&&wA.data.action&&"init"!==wA.data.action&&this.messageHandlers[wA.data.action]&&this.messageHandlers[wA.data.action](wA.data))}}(tw)}()}),MP={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},BP=function(ZL){return ZL.map(function(ew){return ew.replace(/avc1\.(\d+)\.(\d+)/i,function(tw,aw,rw){return"avc1."+("00"+(+aw).toString(16)).slice(-2)+"00"+("00"+(+rw).toString(16)).slice(-2)})})},NP=function(){var ew=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",tw={codecCount:0},ZL;return tw.codecCount=ew.split(",").length,tw.codecCount=tw.codecCount||2,(ZL=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(ew))&&(tw.videoCodec=ZL[2],tw.videoObjectTypeIndicator=ZL[3]),tw.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(ew),tw.audioProfile=tw.audioProfile&&tw.audioProfile[2],tw},FP=function(ZL,ew,tw){return ZL+"/"+ew+"; codecs=\""+tw.filter(function(aw){return!!aw}).join(", ")+"\""},jP=function(ZL,ew){var rw=(tw=ew).segments&&tw.segments.length&&tw.segments[0].map?"mp4":"mp2t",nw=(aw=ew.attributes||{}).CODECS?NP(aw.CODECS):MP,ow=ew.attributes||{},sw=!0,iw=!1,tw,aw;if(!ew)return[];if(ZL.mediaGroups.AUDIO&&ow.AUDIO){var lw=ZL.mediaGroups.AUDIO[ow.AUDIO];if(lw)for(var dw in sw=!(iw=!0),lw)if(!lw[dw].uri&&!lw[dw].playlists){sw=!0;break}}iw&&!nw.audioProfile&&(sw||(nw.audioProfile=function(gw,hw){if(!gw.mediaGroups.AUDIO||!hw)return null;var yw=gw.mediaGroups.AUDIO[hw];if(!yw)return null;for(var fw in yw){var _w=yw[fw];if(_w.default&&_w.playlists)return NP(_w.playlists[0].attributes.CODECS).audioProfile}return null}(ZL,ow.AUDIO)),nw.audioProfile||(rg.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),nw.audioProfile=MP.audioProfile));var pw={};nw.videoCodec&&(pw.video=""+nw.videoCodec+nw.videoObjectTypeIndicator),nw.audioProfile&&(pw.audio="mp4a.40."+nw.audioProfile);var uw=FP("audio",rw,[pw.audio]),cw=FP("video",rw,[pw.video]),mw=FP("video",rw,[pw.video,pw.audio]);return iw?!sw&&pw.video?[cw,uw]:sw||pw.video?[mw,uw]:[uw,uw]:pw.video?[mw]:[uw]},HP=function(ZL){return /mp4a\.\d+.\d+/i.test(ZL)},VP=function(ZL){return /avc1\.[\da-f]+/i.test(ZL)},zP=function(ZL,ew,tw){var aw=null,rw=null,nw=0,ow=[],sw=[];if(!ZL&&!ew)return rg.createTimeRange();if(!ZL)return ew.buffered;if(!ew)return ZL.buffered;if(tw)return ZL.buffered;if(0===ZL.buffered.length&&0===ew.buffered.length)return rg.createTimeRange();for(var iw=ZL.buffered,lw=ew.buffered,dw=iw.length;dw--;)ow.push({time:iw.start(dw),type:"start"}),ow.push({time:iw.end(dw),type:"end"});for(dw=lw.length;dw--;)ow.push({time:lw.start(dw),type:"start"}),ow.push({time:lw.end(dw),type:"end"});for(ow.sort(function(pw,uw){return pw.time-uw.time}),dw=0;dw<ow.length;dw++)"start"===ow[dw].type?2==++nw&&(aw=ow[dw].time):"end"===ow[dw].type&&1==--nw&&(rw=ow[dw].time),null!==aw&&null!==rw&&(sw.push([aw,rw]),rw=aw=null);return rg.createTimeRanges(sw)},qP=function(){function ew(tw,aw){DE(this,ew);var rw=UE(this,(ew.__proto__||Object.getPrototypeOf(ew)).call(this,rg.EventTarget));rw.timestampOffset_=0,rw.pendingBuffers_=[],rw.bufferUpdating_=!1,rw.mediaSource_=tw,rw.codecs_=aw,rw.audioCodec_=null,rw.videoCodec_=null,rw.audioDisabled_=!1,rw.appendAudioInitSegment_=!0,rw.gopBuffer_=[],rw.timeMapping_=0,rw.safeAppend_=11<=rg.browser.IE_VERSION;var nw={remux:!1,alignGopsAtEnd:rw.safeAppend_};return rw.codecs_.forEach(function(ow){HP(ow)?rw.audioCodec_=ow:VP(ow)&&(rw.videoCodec_=ow)}),rw.transmuxer_=new UP,rw.transmuxer_.postMessage({action:"init",options:nw}),rw.transmuxer_.onmessage=function(ow){return"data"===ow.data.action?rw.data_(ow):"done"===ow.data.action?rw.done_(ow):"gopInfo"===ow.data.action?rw.appendGopInfo_(ow):void 0},Object.defineProperty(rw,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(ow){"number"==typeof ow&&0<=ow&&(this.timestampOffset_=ow,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:ow}))}}),Object.defineProperty(rw,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(ow){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=ow),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=ow)}}),Object.defineProperty(rw,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(rw,"buffered",{get:function(){return zP(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),rw}return RE(ew,rg.EventTarget),OE(ew,[{key:"data_",value:function(tw){var aw=tw.data.segment;aw.data=new Uint8Array(aw.data,tw.data.byteOffset,tw.data.byteLength),aw.initSegment=new Uint8Array(aw.initSegment.data,aw.initSegment.byteOffset,aw.initSegment.byteLength),function(rw,nw,ow){var sw=nw.player_;if(ow.captions&&ow.captions.length)for(var iw in rw.inbandTextTracks_||(rw.inbandTextTracks_={}),ow.captionStreams)if(!rw.inbandTextTracks_[iw]){sw.tech_.trigger({type:"usage",name:"hls-608"});var lw=sw.textTracks().getTrackById(iw);rw.inbandTextTracks_[iw]=lw||sw.addRemoteTextTrack({kind:"captions",id:iw,label:iw},!1).track}ow.metadata&&ow.metadata.length&&!rw.metadataTrack_&&(rw.metadataTrack_=sw.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,rw.metadataTrack_.inBandMetadataTrackDispatchType=ow.metadata.dispatchType)}(this,this.mediaSource_,aw),this.pendingBuffers_.push(aw)}},{key:"done_",value:function(){"closed"===this.mediaSource_.readyState?this.pendingBuffers_.length=0:this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var tw=this,aw=["audio","video"];aw.forEach(function(rw){if(tw[rw+"Codec_"]&&!tw[rw+"Buffer_"]){var nw=null;if(tw.mediaSource_[rw+"Buffer_"])(nw=tw.mediaSource_[rw+"Buffer_"]).updating=!1;else{var ow=rw+"/mp4;codecs=\""+tw[rw+"Codec_"]+"\"";nw=function(sw,iw){var lw=sw.addSourceBuffer(iw),dw=Object.create(null);dw.updating=!1,dw.realBuffer_=lw;var pw=function(cw){"function"==typeof lw[cw]?dw[cw]=function(){return lw[cw].apply(lw,arguments)}:"undefined"==typeof dw[cw]&&Object.defineProperty(dw,cw,{get:function(){return lw[cw]},set:function(mw){return lw[cw]=mw}})};for(var uw in lw)pw(uw);return dw}(tw.mediaSource_.nativeMediaSource_,ow),tw.mediaSource_[rw+"Buffer_"]=nw}tw[rw+"Buffer_"]=nw,["update","updatestart","updateend"].forEach(function(sw){nw.addEventListener(sw,function(){if("audio"!==rw||!tw.audioDisabled_)return"updateend"===sw&&(tw[rw+"Buffer_"].updating=!1),aw.every(function(iw){return"audio"===iw&&tw.audioDisabled_||rw===iw||!tw[iw+"Buffer_"]||!tw[iw+"Buffer_"].updating})?tw.trigger(sw):void 0})})}})}},{key:"appendBuffer",value:function(tw){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var aw=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:aw.end(aw.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(rw,nw,ow){if("undefined"==typeof nw||null===nw||!rw.length)return[];var sw=_Mathceil(9e4*(nw-ow+3)),iw=void 0;for(iw=0;iw<rw.length&&!(rw[iw].pts>sw);iw++);return rw.slice(iw)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:tw.buffer,byteOffset:tw.byteOffset,byteLength:tw.byteLength},[tw.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(tw){this.gopBuffer_=function(aw,rw,nw){if(!rw.length)return aw;if(nw)return rw.slice();for(var ow=rw[0].pts,sw=0;sw<aw.length&&!(aw[sw].pts>=ow);sw++);return aw.slice(0,sw).concat(rw)}(this.gopBuffer_,tw.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(tw,aw){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(tw,aw),this.gopBuffer_=function(nw,ow,sw,iw){for(var lw=_Mathceil(9e4*(ow-iw)),dw=_Mathceil(9e4*(sw-iw)),pw=nw.slice(),uw=nw.length;uw--&&!(nw[uw].pts<=dw););if(-1===uw)return pw;for(var cw=uw+1;cw--&&!(nw[cw].pts<=lw););return cw=_Mathmax(cw,0),pw.splice(cw,uw-cw+1),pw}(this.gopBuffer_,tw,aw,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(tw,aw)),kP(tw,aw,this.metadataTrack_),this.inbandTextTracks_)for(var rw in this.inbandTextTracks_)kP(tw,aw,this.inbandTextTracks_[rw])}},{key:"processPendingSegments_",value:function(){var tw={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};tw=this.pendingBuffers_.reduce(function(rw,nw){var ow=nw.type,sw=nw.data,iw=nw.initSegment;return rw[ow].segments.push(sw),rw[ow].bytes+=sw.byteLength,rw[ow].initSegment=iw,nw.captions&&(rw.captions=rw.captions.concat(nw.captions)),nw.info&&(rw[ow].info=nw.info),nw.metadata&&(rw.metadata=rw.metadata.concat(nw.metadata)),rw},tw),this.videoBuffer_||this.audioBuffer_||(0===tw.video.bytes&&(this.videoCodec_=null),0===tw.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),tw.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:tw.audio.info}),tw.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:tw.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(tw.audio.segments.unshift(tw.audio.initSegment),tw.audio.bytes+=tw.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var aw=!1;this.videoBuffer_&&tw.video.bytes?(tw.video.segments.unshift(tw.video.initSegment),tw.video.bytes+=tw.video.initSegment.byteLength,this.concatAndAppendSegments_(tw.video,this.videoBuffer_),EP(this,tw.captions,tw.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(aw=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(tw.audio,this.audioBuffer_),this.pendingBuffers_.length=0,aw&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(tw,aw){var rw=0,nw;if(tw.bytes){nw=new Uint8Array(tw.bytes),tw.segments.forEach(function(ow){nw.set(ow,rw),rw+=ow.byteLength});try{aw.updating=!0,aw.appendBuffer(nw)}catch(ow){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:ow.message,originalError:ow})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),ew}(),WP=function(){function ew(){DE(this,ew);var tw=UE(this,(ew.__proto__||Object.getPrototypeOf(ew)).call(this)),aw=void 0;for(aw in tw.nativeMediaSource_=new pg.MediaSource,tw.nativeMediaSource_)aw in ew.prototype||"function"!=typeof tw.nativeMediaSource_[aw]||(tw[aw]=tw.nativeMediaSource_[aw].bind(tw.nativeMediaSource_));return tw.duration_=NaN,Object.defineProperty(tw,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(rw){(this.duration_=rw)===1/0||(this.nativeMediaSource_.duration=rw)}}),Object.defineProperty(tw,"seekable",{get:function(){return this.duration_===1/0?rg.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(tw,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(tw,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),tw.sourceBuffers=[],tw.activeSourceBuffers_=[],tw.updateActiveSourceBuffers_=function(){if(tw.activeSourceBuffers_.length=0,1===tw.sourceBuffers.length){var rw=tw.sourceBuffers[0];return rw.appendAudioInitSegment_=!0,rw.audioDisabled_=!rw.audioCodec_,void tw.activeSourceBuffers_.push(rw)}for(var nw=!1,ow=!0,sw=0,iw;sw<tw.player_.audioTracks().length;sw++)if(iw=tw.player_.audioTracks()[sw],iw.enabled&&"main"!==iw.kind){ow=!(nw=!0);break}tw.sourceBuffers.forEach(function(lw,dw){if(lw.appendAudioInitSegment_=!0,lw.videoCodec_&&lw.audioCodec_)lw.audioDisabled_=nw;else if(lw.videoCodec_&&!lw.audioCodec_)lw.audioDisabled_=!0,ow=!1;else if(!lw.videoCodec_&&lw.audioCodec_&&(lw.audioDisabled_=dw?ow:!ow,lw.audioDisabled_))return;tw.activeSourceBuffers_.push(lw)})},tw.onPlayerMediachange_=function(){tw.sourceBuffers.forEach(function(rw){rw.appendAudioInitSegment_=!0})},tw.onHlsReset_=function(){tw.sourceBuffers.forEach(function(rw){rw.transmuxer_&&rw.transmuxer_.postMessage({action:"resetCaptions"})})},tw.onHlsSegmentTimeMapping_=function(rw){tw.sourceBuffers.forEach(function(nw){return nw.timeMapping_=rw.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(rw){this.nativeMediaSource_.addEventListener(rw,this.trigger.bind(this))},tw),tw.on("sourceopen",function(){var nw=hg.querySelector("[src=\""+tw.url_+"\"]");nw&&(tw.player_=rg(nw.parentNode),tw.player_.tech_.on("hls-reset",tw.onHlsReset_),tw.player_.tech_.on("hls-segment-time-mapping",tw.onHlsSegmentTimeMapping_),tw.player_.audioTracks&&tw.player_.audioTracks()&&(tw.player_.audioTracks().on("change",tw.updateActiveSourceBuffers_),tw.player_.audioTracks().on("addtrack",tw.updateActiveSourceBuffers_),tw.player_.audioTracks().on("removetrack",tw.updateActiveSourceBuffers_)),tw.player_.on("mediachange",tw.onPlayerMediachange_))}),tw.on("sourceended",function(){for(var nw=CP(tw.duration),ow=0;ow<tw.sourceBuffers.length;ow++){var sw=tw.sourceBuffers[ow],iw=sw.metadataTrack_&&sw.metadataTrack_.cues;iw&&iw.length&&(iw[iw.length-1].endTime=nw)}}),tw.on("sourceclose",function(){this.sourceBuffers.forEach(function(nw){nw.transmuxer_&&nw.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),tw}return RE(ew,rg.EventTarget),OE(ew,[{key:"addSeekableRange_",value:function(tw,aw){var rw;if(this.duration!==1/0)throw(rw=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",rw.code=11,rw;(aw>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=aw)}},{key:"addSourceBuffer",value:function(tw){var nw,ow=(aw={type:"",parameters:{}},rw=tw.trim().split(";"),aw.type=rw.shift().trim(),rw.forEach(function(iw){var lw=iw.trim().split("=");if(1<lw.length){var dw=lw[0].replace(/"/g,"").trim(),pw=lw[1].replace(/"/g,"").trim();aw.parameters[dw]=pw}}),aw),aw,rw;if(/^(video|audio)\/mp2t$/i.test(ow.type)){var sw=[];ow.parameters&&ow.parameters.codecs&&(sw=ow.parameters.codecs.split(","),sw=(sw=BP(sw)).filter(function(iw){return HP(iw)||VP(iw)})),0===sw.length&&(sw=["avc1.4d400d","mp4a.40.2"]),nw=new qP(this,sw),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),nw.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else nw=this.nativeMediaSource_.addSourceBuffer(tw);return this.sourceBuffers.push(nw),nw}}]),ew}(),GP=0;rg.mediaSources={};var YP=function(ZL,ew){var tw=rg.mediaSources[ZL];if(!tw)throw new Error("Media Source not found (Video.js)");tw.trigger({type:"sourceopen",swfId:ew})},XP=function(){return!!pg.MediaSource&&!!pg.MediaSource.isTypeSupported&&pg.MediaSource.isTypeSupported("video/mp4;codecs=\"avc1.4d400d,mp4a.40.2\"")},KP=function(){if(this.MediaSource={open:YP,supportsNativeMediaSources:XP},XP())return new WP;throw new Error("Cannot use create a virtual MediaSource for this video")};KP.open=YP,KP.supportsNativeMediaSources=XP;var $P={createObjectURL:function(ZL){var ew;return ZL instanceof WP?(ew=pg.URL.createObjectURL(ZL.nativeMediaSource_),ZL.url_=ew):ZL instanceof WP?(ew="blob:vjs-media-source/"+GP,GP++,rg.mediaSources[ew]=ZL,ew):(ew=pg.URL.createObjectURL(ZL),ZL.url_=ew)}};rg.MediaSource=KP,rg.URL=$P;var QP=rg.EventTarget,JP=rg.mergeOptions,ZP=function(ZL,ew){for(var tw=JP(ZL,{duration:ew.duration,minimumUpdatePeriod:ew.minimumUpdatePeriod}),aw=0,rw;aw<ew.playlists.length;aw++)rw=HE(tw,ew.playlists[aw]),rw&&(tw=rw);return jE(ew,function(nw,ow,sw,iw){if(nw.playlists&&nw.playlists.length){var lw=nw.playlists[0].uri,dw=HE(tw,nw.playlists[0]);dw&&((tw=dw).mediaGroups[ow][sw][iw].playlists[0]=tw.playlists[lw])}}),tw},eL=function(){function ew(tw,aw,rw,nw){DE(this,ew);var ow=UE(this,(ew.__proto__||Object.getPrototypeOf(ew)).call(this));if(ow.hls_=aw,ow.withCredentials=rw,!tw)throw new Error("A non-empty playlist URL or playlist is required");return ow.on("minimumUpdatePeriod",function(){ow.refreshXml_()}),ow.on("mediaupdatetimeout",function(){ow.refreshMedia_()}),"string"==typeof tw?(ow.srcUrl=tw,ow.state="HAVE_NOTHING",UE(ow)):(ow.masterPlaylistLoader_=nw,ow.state="HAVE_METADATA",ow.started=!0,ow.media(tw),pg.setTimeout(function(){ow.trigger("loadedmetadata")},0),ow)}return RE(ew,QP),OE(ew,[{key:"dispose",value:function(){this.stopRequest(),pg.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var tw=this.request;this.request=null,tw.onreadystatechange=null,tw.abort()}}},{key:"media",value:function(tw){if(!tw)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var aw=this.state;if("string"==typeof tw){if(!this.master.playlists[tw])throw new Error("Unknown playlist URI: "+tw);tw=this.master.playlists[tw]}var rw=!this.media_||tw.uri!==this.media_.uri;this.state="HAVE_METADATA",rw&&(this.media_&&this.trigger("mediachanging"),this.media_=tw,this.refreshMedia_(),"HAVE_MASTER"!==aw&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(){this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var tw=HS(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});tw.uri=this.srcUrl;for(var aw=0,rw;aw<tw.playlists.length;aw++)rw="placeholder-uri-"+aw,tw.playlists[aw].uri=rw,tw.playlists[rw]=tw.playlists[aw];return jE(tw,function(nw,ow,sw,iw){if(nw.playlists&&nw.playlists.length){var lw="placeholder-uri-"+ow+"-"+sw+"-"+iw;nw.playlists[0].uri=lw,tw.playlists[lw]=nw.playlists[0]}}),VE(tw),zE(tw),tw}},{key:"start",value:function(){var tw=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(aw,rw){if(tw.request){if(tw.request=null,aw)return tw.error={status:rw.status,message:"DASH playlist request error at URL: "+tw.srcUrl,responseText:rw.responseText,code:2},"HAVE_NOTHING"===tw.state&&(tw.started=!1),tw.trigger("error");tw.masterXml_=rw.responseText,tw.masterLoaded_=rw.responseHeaders&&rw.responseHeaders.date?Date.parse(rw.responseHeaders.date):Date.now(),tw.syncClientServerClock_(tw.onClientServerClockSync_.bind(tw))}})}},{key:"syncClientServerClock_",value:function(tw){var aw=this,rw=VS(this.masterXml_);return null===rw?(this.clientOffset_=this.masterLoaded_-Date.now(),tw()):"DIRECT"===rw.method?(this.clientOffset_=rw.value-Date.now(),tw()):void(this.request=this.hls_.xhr({uri:IE(this.srcUrl,rw.value),method:rw.method,withCredentials:this.withCredentials},function(nw,ow){if(aw.request){if(nw)return aw.clientOffset_=aw.masterLoaded_-Date.now(),tw();var sw;sw="HEAD"===rw.method?ow.responseHeaders&&ow.responseHeaders.date?Date.parse(ow.responseHeaders.date):aw.masterLoaded_:Date.parse(ow.responseText),aw.clientOffset_=sw-Date.now(),tw()}}))}},{key:"onClientServerClockSync_",value:function(){var tw=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),pg.setTimeout(function(){tw.trigger("loadedmetadata")},0),this.master.minimumUpdatePeriod&&pg.setTimeout(function(){tw.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var tw=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(aw,rw){if(tw.request){if(tw.request=null,aw)return tw.error={status:rw.status,message:"DASH playlist request error at URL: "+tw.srcUrl,responseText:rw.responseText,code:2},"HAVE_NOTHING"===tw.state&&(tw.started=!1),tw.trigger("error");tw.masterXml_=rw.responseText;var nw=tw.parseMasterXml();tw.master=ZP(tw.master,nw),pg.setTimeout(function(){tw.trigger("minimumUpdatePeriod")},tw.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var tw=this,aw,rw;this.masterPlaylistLoader_?(aw=this.masterPlaylistLoader_.master,rw=this.masterPlaylistLoader_.parseMasterXml()):(aw=this.master,rw=this.parseMasterXml());var nw=ZP(aw,rw);nw?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=nw:this.master=nw,this.media_=nw.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=pg.setTimeout(function(){tw.trigger("mediaupdatetimeout")},qE(this.media(),!!nw))),this.trigger("loadedplaylist")}}]),ew}(),tL=function(ZL){return rg.log.debug?rg.log.debug.bind(rg,"VHS:",ZL+" >"):function(){}},aL=function(){function ZL(ew,tw,aw,rw){DE(this,ZL),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=ew,this.processedAppend_=!1,this.type_=aw,this.mimeType_=tw,this.logger_=tL("SourceUpdater["+aw+"]["+tw+"]"),"closed"===ew.readyState?ew.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,tw,rw)):this.createSourceBuffer_(tw,rw)}return OE(ZL,[{key:"createSourceBuffer_",value:function(ew,tw){var aw=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(ew),this.logger_("created SourceBuffer"),tw&&(tw.trigger("sourcebufferadded"),2>this.mediaSource.sourceBuffers.length)?tw.on("sourcebufferadded",function(){aw.start_()}):this.start_()}},{key:"start_",value:function(){var ew=this;this.started_=!0,this.onUpdateendCallback_=function(){var tw=ew.pendingCallback_;ew.pendingCallback_=null,ew.logger_("buffered ["+SP(ew.buffered())+"]"),tw&&tw(),ew.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(ew){var tw=this;this.processedAppend_&&this.queueCallback_(function(){tw.sourceBuffer_.abort()},ew)}},{key:"appendBuffer",value:function(ew,tw){var aw=this;this.processedAppend_=!0,this.queueCallback_(function(){aw.sourceBuffer_.appendBuffer(ew)},tw)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:rg.createTimeRanges()}},{key:"remove",value:function(ew,tw){var aw=this,rw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:sg;this.processedAppend_&&this.queueCallback_(function(){aw.logger_("remove ["+ew+" => "+tw+"]"),aw.sourceBuffer_.remove(ew,tw)},rw)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(ew){var tw=this;return"undefined"!=typeof ew&&(this.queueCallback_(function(){tw.sourceBuffer_.timestampOffset=ew}),this.timestampOffset_=ew),this.timestampOffset_}},{key:"queueCallback_",value:function(ew,tw){this.callbacks_.push([ew.bind(this),tw]),this.runCallback_()}},{key:"runCallback_",value:function(){var ew;!this.updating()&&this.callbacks_.length&&this.started_&&(ew=this.callbacks_.shift(),this.pendingCallback_=ew[1],ew[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),ZL}(),rL={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},nL=2,oL=-101,sL=-102,iL=function(ZL){var aw={},ew,tw;return ZL.byterange&&(aw.Range=(ew=ZL.byterange,tw=ew.offset+ew.length-1,"bytes="+ew.offset+"-"+tw)),aw},lL=function(ZL){ZL.forEach(function(ew){ew.abort()})},dL=function(ZL,ew){return ew.timedout?{status:ew.status,message:"HLS request timed-out at URL: "+ew.uri,code:oL,xhr:ew}:ew.aborted?{status:ew.status,message:"HLS request aborted at URL: "+ew.uri,code:sL,xhr:ew}:ZL?{status:ew.status,message:"HLS request errored at URL: "+ew.uri,code:nL,xhr:ew}:null},pL=function(ZL,ew,tw){var aw=[],rw=0;return function(nw,ow){if(nw&&(lL(ZL),aw.push(nw)),(rw+=1)===ZL.length){if(ow.endOfAllRequests=Date.now(),0<aw.length){var sw=aw.reduce(function(pw,uw){return uw.code>pw.code?uw:pw});return tw(sw,ow)}return ow.encryptedBytes?(lw=ow,dw=tw,(iw=ew).addEventListener("message",function pw(uw){if(uw.data.source===lw.requestId){iw.removeEventListener("message",pw);var cw=uw.data.decrypted;return lw.bytes=new Uint8Array(cw.bytes,cw.byteOffset,cw.byteLength),dw(null,lw)}}),void iw.postMessage(mP({source:lw.requestId,encrypted:lw.encryptedBytes,key:lw.key.bytes,iv:lw.key.iv}),[lw.encryptedBytes.buffer,lw.key.bytes.buffer])):tw(null,ow)}var iw,lw,dw}},uL=function(ZL,ew){return function(tw){var aw,rw,nw;return ZL.stats=rg.mergeOptions(ZL.stats,(rw=(aw=tw).target,(nw={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-rw.requestTime||0}).bytesReceived=aw.loaded,nw.bandwidth=_Mathfloor(1e3*(8*(nw.bytesReceived/nw.roundTripTime))),nw)),!ZL.stats.firstBytesReceivedAt&&ZL.stats.bytesReceived&&(ZL.stats.firstBytesReceivedAt=Date.now()),ew(tw,ZL)}},cL=function(ZL,ew,tw,aw,rw,nw,ow){var uw=[],cw=pL(uw,tw,ow),sw,iw,lw,dw,pw;if(rw.key){var mw=ZL(rg.mergeOptions(ew,{uri:rw.key.resolvedUri,responseType:"arraybuffer"}),(sw=rw,iw=cw,function(bw,Tw){var Sw=Tw.response,vw=dL(bw,Tw);if(vw)return iw(vw,sw);if(16!==Sw.byteLength)return iw({status:Tw.status,message:"Invalid HLS key at URL: "+Tw.uri,code:nL,xhr:Tw},sw);var kw=new DataView(Sw);return sw.key.bytes=new Uint32Array([kw.getUint32(0),kw.getUint32(4),kw.getUint32(8),kw.getUint32(12)]),iw(null,sw)}));uw.push(mw)}if(rw.map&&!rw.map.bytes){var gw=ZL(rg.mergeOptions(ew,{uri:rw.map.resolvedUri,responseType:"arraybuffer",headers:iL(rw.map)}),(lw=rw,dw=aw,pw=cw,function(bw,Tw){var Sw=Tw.response,vw=dL(bw,Tw);return vw?pw(vw,lw):0===Sw.byteLength?pw({status:Tw.status,message:"Empty HLS segment content at URL: "+Tw.uri,code:nL,xhr:Tw},lw):(lw.map.bytes=new Uint8Array(Tw.response),dw.isInitialized()||dw.init(),lw.map.timescales=YS.timescale(lw.map.bytes),lw.map.videoTrackIds=YS.videoTrackIds(lw.map.bytes),pw(null,lw))}));uw.push(gw)}var _w=ZL(rg.mergeOptions(ew,{uri:rw.resolvedUri,responseType:"arraybuffer",headers:iL(rw)}),(hw=rw,yw=aw,fw=cw,function(bw,Tw){var vw=Tw.response,kw=dL(bw,Tw),Cw,Sw;return kw?fw(kw,hw):0===vw.byteLength?fw({status:Tw.status,message:"Empty HLS segment content at URL: "+Tw.uri,code:nL,xhr:Tw},hw):(hw.stats={bandwidth:(Sw=Tw).bandwidth,bytesReceived:Sw.bytesReceived||0,roundTripTime:Sw.roundTripTime||0},hw.key?hw.encryptedBytes=new Uint8Array(Tw.response):hw.bytes=new Uint8Array(Tw.response),hw.map&&hw.map.bytes&&(yw.isInitialized()||yw.init(),(Cw=yw.parse(hw.bytes,hw.map.videoTrackIds,hw.map.timescales))&&Cw.captions&&(hw.captionStreams=Cw.captionStreams,hw.fmp4Captions=Cw.captions)),fw(null,hw))})),hw,yw,fw;return _w.addEventListener("progress",uL(rw,nw)),uw.push(_w),function(){return lL(uw)}},mL=function(ZL,ew){var tw;return ZL&&(tw=pg.getComputedStyle(ZL))?tw[ew]:""},gL=function(ZL,ew){var tw=ZL.slice();ZL.sort(function(aw,rw){var nw=ew(aw,rw);return 0===nw?tw.indexOf(aw)-tw.indexOf(rw):nw})},hL=function(ZL,ew){var tw,aw;return ZL.attributes.BANDWIDTH&&(tw=ZL.attributes.BANDWIDTH),tw=tw||pg.Number.MAX_VALUE,ew.attributes.BANDWIDTH&&(aw=ew.attributes.BANDWIDTH),tw-(aw=aw||pg.Number.MAX_VALUE)},yL=function(ZL,ew,tw){if(!ZL||!ew)return!1;var aw=tw===ZL.segments.length;return ZL.endList&&"open"===ew.readyState&&aw},fL=function(ZL){return"number"==typeof ZL&&isFinite(ZL)},_L=function(){function ew(tw){DE(this,ew);var aw=UE(this,(ew.__proto__||Object.getPrototypeOf(ew)).call(this));if(!tw)throw new TypeError("Initialization settings are required");if("function"!=typeof tw.currentTime)throw new TypeError("No currentTime getter specified");if(!tw.mediaSource)throw new TypeError("No MediaSource specified");return aw.bandwidth=tw.bandwidth,aw.throughput={rate:0,count:0},aw.roundTrip=NaN,aw.resetStats_(),aw.mediaIndex=null,aw.hasPlayed_=tw.hasPlayed,aw.currentTime_=tw.currentTime,aw.seekable_=tw.seekable,aw.seeking_=tw.seeking,aw.duration_=tw.duration,aw.mediaSource_=tw.mediaSource,aw.hls_=tw.hls,aw.loaderType_=tw.loaderType,aw.startingMedia_=void 0,aw.segmentMetadataTrack_=tw.segmentMetadataTrack,aw.goalBufferLength_=tw.goalBufferLength,aw.sourceType_=tw.sourceType,aw.inbandTextTracks_=tw.inbandTextTracks,aw.state_="INIT",aw.checkBufferTimeout_=null,aw.error_=void 0,aw.currentTimeline_=-1,aw.pendingSegment_=null,aw.mimeType_=null,aw.sourceUpdater_=null,aw.xhrOptions_=null,aw.activeInitSegmentId_=null,aw.initSegments_={},aw.captionParser_=new VC,aw.decrypter_=tw.decrypter,aw.syncController_=tw.syncController,aw.syncPoint_={segmentIndex:0,time:0},aw.syncController_.on("syncinfoupdate",function(){return aw.trigger("syncinfoupdate")}),aw.mediaSource_.addEventListener("sourceopen",function(){return aw.ended_=!1}),aw.fetchAtBuffer_=!1,aw.logger_=tL("SegmentLoader["+aw.loaderType_+"]"),Object.defineProperty(aw,"state",{get:function(){return this.state_},set:function(rw){rw!==this.state_&&(this.logger_(this.state_+" -> "+rw),this.state_=rw)}}),aw}return RE(ew,rg.EventTarget),OE(ew,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(tw){return"undefined"!=typeof tw&&(this.error_=tw),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():rg.createTimeRanges()}},{key:"initSegment",value:function(tw){var aw=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!tw)return null;var rw=gP(tw),nw=this.initSegments_[rw];return aw&&!nw&&tw.bytes&&(this.initSegments_[rw]=nw={resolvedUri:tw.resolvedUri,byterange:tw.byterange,bytes:tw.bytes,timescales:tw.timescales,videoTrackIds:tw.videoTrackIds}),nw||tw}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();this.couldBeginLoading_()&&("READY"===this.state||"INIT"===this.state)&&(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new aL(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(tw){var rw=this.playlist_,nw=this.pendingSegment_;this.playlist_=tw,this.xhrOptions_=aw,this.hasPlayed_()||(tw.syncInfo={mediaSequence:tw.mediaSequence,time:0});var ow=rw?rw.id:null;if(this.logger_("playlist update ["+ow+" => "+tw.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(rw&&rw.uri===tw.uri){var sw=tw.mediaSequence-rw.mediaSequence;this.logger_("live window shift ["+sw+"]"),null!==this.mediaIndex&&(this.mediaIndex-=sw),nw&&(nw.mediaIndex-=sw,0<=nw.mediaIndex&&(nw.segment=tw.segments[nw.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(rw,tw)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(pg.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(tw,aw){this.mimeType_||(this.mimeType_=tw,this.sourceBufferEmitter_=aw,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(tw){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),tw),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(tw,aw,rw){if(this.sourceUpdater_&&this.sourceUpdater_.remove(tw,aw,rw),kP(tw,aw,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var nw in this.inbandTextTracks_)kP(tw,aw,this.inbandTextTracks_[nw])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&pg.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=pg.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&pg.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=pg.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var tw=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);tw&&(yL(this.playlist_,this.mediaSource_,tw.mediaIndex)?this.endOfStream():(tw.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((tw.timeline!==this.currentTimeline_||null!==tw.startOfSegment&&tw.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),tw.timestampOffset=tw.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(tw)))}}},{key:"checkBuffer_",value:function(tw,aw,rw,nw,ow,sw){var iw=0,lw;tw.length&&(iw=tw.end(tw.length-1));var dw=_Mathmax(0,iw-ow);if(!aw.segments.length)return null;if(dw>=this.goalBufferLength_())return null;if(!nw&&1<=dw)return null;if(null===sw)return rw=this.getSyncSegmentCandidate_(aw),this.generateSegmentInfo_(aw,rw,null,!0);if(null!==rw){var pw=aw.segments[rw];return lw=pw&&pw.end?pw.end:iw,this.generateSegmentInfo_(aw,rw+1,lw,!1)}if(this.fetchAtBuffer_){var uw=iP.getMediaInfoForTime(aw,iw,sw.segmentIndex,sw.time);rw=uw.mediaIndex,lw=uw.startTime}else{var cw=iP.getMediaInfoForTime(aw,ow,sw.segmentIndex,sw.time);rw=cw.mediaIndex,lw=cw.startTime}return this.generateSegmentInfo_(aw,rw,lw,!1)}},{key:"getSyncSegmentCandidate_",value:function(tw){var aw=this;if(-1===this.currentTimeline_)return 0;var rw=tw.segments.map(function(nw,ow){return{timeline:nw.timeline,segmentIndex:ow}}).filter(function(nw){return nw.timeline===aw.currentTimeline_});return rw.length?rw[_Mathmin(rw.length-1,1)].segmentIndex:_Mathmax(tw.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(tw,aw,rw,nw){if(0>aw||aw>=tw.segments.length)return null;var ow=tw.segments[aw];return{requestId:"segment-loader-"+Math.random(),uri:ow.resolvedUri,mediaIndex:aw,isSyncRequest:nw,startOfSegment:rw,playlist:tw,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:ow.timeline,duration:ow.duration,segment:ow}}},{key:"abortRequestEarly_",value:function(tw){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(1e3>Date.now()-(tw.firstBytesReceivedAt||Date.now()))return!1;var aw=this.currentTime_(),rw=tw.bandwidth,nw=this.pendingSegment_.duration,ow=iP.estimateSegmentRequestTime(nw,rw,this.playlist_,tw.bytesReceived),sw=function(pw,uw){var cw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return((pw.length?pw.end(pw.length-1):0)-uw)/cw}(this.buffered_(),aw,this.hls_.tech_.playbackRate())-1;if(ow<=sw)return!1;var iw=function(pw){var uw=pw.master,cw=pw.currentTime,mw=pw.bandwidth,gw=pw.duration,hw=pw.segmentDuration,yw=pw.timeUntilRebuffer,fw=pw.currentTimeline,_w=pw.syncController,bw=uw.playlists.filter(function(kw){return!iP.isIncompatible(kw)}),Tw=bw.filter(iP.isEnabled);Tw.length||(Tw=bw.filter(function(kw){return!iP.isDisabled(kw)}));var Sw=Tw.filter(iP.hasAttribute.bind(null,"BANDWIDTH")).map(function(kw){var Cw=_w.getSyncPoint(kw,gw,fw,cw)?1:2;return{playlist:kw,rebufferingImpact:iP.estimateSegmentRequestTime(hw,mw,kw)*Cw-yw}}),vw=Sw.filter(function(kw){return 0>=kw.rebufferingImpact});return gL(vw,function(kw,Cw){return hL(Cw.playlist,kw.playlist)}),vw.length?vw[0]:(gL(Sw,function(kw,Cw){return kw.rebufferingImpact-Cw.rebufferingImpact}),Sw[0]||null)}({master:this.hls_.playlists.master,currentTime:aw,bandwidth:rw,duration:this.duration_(),segmentDuration:nw,timeUntilRebuffer:sw,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(iw){var lw=ow-sw-iw.rebufferingImpact,dw=.5;return sw<=fP&&(dw=1),!iw.playlist||iw.playlist.uri===this.playlist_.uri||lw<dw?!1:(this.bandwidth=iw.playlist.attributes.BANDWIDTH*rL.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(tw,aw){this.pendingSegment_&&aw.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(aw.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(tw){this.state="WAITING",this.pendingSegment_=tw,this.trimBackBuffer_(tw),tw.abortRequests=cL(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(tw),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(){var sw=(aw=this.seekable_(),rw=this.currentTime_(),nw=this.playlist_.targetDuration||10,ow=void 0,ow=aw.length&&0<aw.start(0)&&aw.start(0)<rw?aw.start(0):rw-30,_Mathmin(ow,rw-nw)),aw,rw,nw,ow;0<sw&&this.remove(0,sw)}},{key:"createSimplifiedSegmentObj_",value:function(tw){var aw=tw.segment,rw={resolvedUri:aw.resolvedUri,byterange:aw.byterange,requestId:tw.requestId};if(aw.key){var nw=aw.key.iv||new Uint32Array([0,0,0,tw.mediaIndex+tw.playlist.mediaSequence]);rw.key={resolvedUri:aw.key.resolvedUri,iv:nw}}return aw.map&&(rw.map=this.initSegment(aw.map)),rw}},{key:"segmentRequestFinished_",value:function(tw,aw){if(!(this.mediaRequests+=1,aw.stats&&(this.mediaBytesTransferred+=aw.stats.bytesReceived,this.mediaTransferDuration+=aw.stats.roundTripTime),this.pendingSegment_))this.mediaRequestsAborted+=1;else if(aw.requestId===this.pendingSegment_.requestId){if(tw)return this.pendingSegment_=null,this.state="READY",tw.code===sL?void(this.mediaRequestsAborted+=1):(this.pause(),tw.code===oL?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(tw),void this.trigger("error")));this.bandwidth=aw.stats.bandwidth,this.roundTrip=aw.stats.roundTripTime,aw.map&&(aw.map=this.initSegment(aw.map,!0)),this.processSegmentResponse_(aw)}}},{key:"processSegmentResponse_",value:function(tw){var aw=this.pendingSegment_;aw.bytes=tw.bytes,tw.map&&(aw.segment.map.bytes=tw.map.bytes),aw.endOfAllRequests=tw.endOfAllRequests,tw.fmp4Captions&&(!function(rw,nw,ow){for(var sw in ow)if(!rw[sw]){nw.trigger({type:"usage",name:"hls-608"});var iw=nw.textTracks().getTrackById(sw);rw[sw]=iw||nw.addRemoteTextTrack({kind:"captions",id:sw,label:sw},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,tw.captionStreams),function(rw){var nw=rw.inbandTextTracks,ow=rw.captionArray,sw=rw.timestampOffset;if(ow){var iw=window.WebKitDataCue||window.VTTCue;ow.forEach(function(lw){var dw=lw.stream,pw=lw.startTime,uw=lw.endTime;nw[dw]&&(pw+=sw,uw+=sw,nw[dw].addCue(new iw(pw,uw,lw.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:tw.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var tw=this;if(this.pendingSegment_){var aw=this.pendingSegment_,rw=aw.segment,nw=this.syncController_.probeSegmentInfo(aw);"undefined"==typeof this.startingMedia_&&nw&&(nw.containsAudio||nw.containsVideo)&&(this.startingMedia_={containsAudio:nw.containsAudio,containsVideo:nw.containsVideo});var lw=(ow=this.loaderType_,sw=this.startingMedia_,iw=nw,"main"===ow&&sw&&iw?iw.containsAudio||iw.containsVideo?sw.containsVideo&&!iw.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!sw.containsVideo&&iw.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null),ow,sw,iw;if(lw)return this.error({message:lw,blacklistDuration:1/0}),void this.trigger("error");if(aw.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==aw.timestampOffset&&aw.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(aw.timestampOffset),this.trigger("timestampoffset"));var Tw=this.syncController_.mappingForTimeline(aw.timeline),dw,pw,uw,cw,mw,gw,hw,yw,fw,_w,bw;if(null!==Tw&&this.trigger({type:"segmenttimemapping",mapping:Tw}),this.state="APPENDING",rw.map){var Sw=gP(rw.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==Sw){var vw=this.initSegment(rw.map);this.sourceUpdater_.appendBuffer(vw.bytes,function(){tw.activeInitSegmentId_=Sw})}}aw.byteLength=aw.bytes.byteLength,this.mediaSecondsLoaded+="number"==typeof rw.start&&"number"==typeof rw.end?rw.end-rw.start:rw.duration,this.logger_((pw=(dw=aw).segment,uw=pw.start,cw=pw.end,mw=dw.playlist,gw=mw.mediaSequence,hw=mw.id,yw=mw.segments,fw=void 0===yw?[]:yw,_w=dw.mediaIndex,bw=dw.timeline,["appending ["+_w+"] of ["+gw+", "+(gw+fw.length)+"] from playlist ["+hw+"]","["+uw+" => "+cw+"] in timeline ["+bw+"]"].join(" "))),this.sourceUpdater_.appendBuffer(aw.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var tw=this.pendingSegment_,aw=tw.segment,rw=null!==this.mediaIndex;(this.pendingSegment_=null,this.recordThroughput_(tw),this.addSegmentMetadataCue_(tw),this.state="READY",this.mediaIndex=tw.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=tw.timeline,this.trigger("syncinfoupdate"),aw.end&&this.currentTime_()-aw.end>3*tw.playlist.targetDuration)?this.resetEverything():(rw&&this.trigger("bandwidthupdate"),this.trigger("progress"),yL(tw.playlist,this.mediaSource_,tw.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(tw){var aw=this.throughput.rate,rw=Date.now()-tw.endOfAllRequests+1,nw=_Mathfloor(1e3*(8*(tw.byteLength/rw)));this.throughput.rate+=(nw-aw)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(tw){if(this.segmentMetadataTrack_){var aw=tw.segment,rw=aw.start,nw=aw.end;if(fL(rw)&&fL(nw)){kP(rw,nw,this.segmentMetadataTrack_);var ow=pg.WebKitDataCue||pg.VTTCue,sw={bandwidth:tw.playlist.attributes.BANDWIDTH,resolution:tw.playlist.attributes.RESOLUTION,codecs:tw.playlist.attributes.CODECS,byteLength:tw.byteLength,uri:tw.uri,timeline:tw.timeline,playlist:tw.playlist.uri,start:rw,end:nw},iw=new ow(rw,nw,JSON.stringify(sw));iw.value=sw,this.segmentMetadataTrack_.addCue(iw)}}}}]),ew}(),bL=function(ZL){return decodeURIComponent(escape(_StringfromCharCode.apply(null,ZL)))},TL=new Uint8Array("\n\n".split("").map(function(ZL){return ZL.charCodeAt(0)})),SL=function(){function ew(tw){var aw=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};DE(this,ew);var rw=UE(this,(ew.__proto__||Object.getPrototypeOf(ew)).call(this,tw,aw));return rw.mediaSource_=null,rw.subtitlesTrack_=null,rw}return RE(ew,_L),OE(ew,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return rg.createTimeRanges();var tw=this.subtitlesTrack_.cues,aw=tw[0].startTime,rw=tw[tw.length-1].startTime;return rg.createTimeRanges([[aw,rw]])}},{key:"initSegment",value:function(tw){var aw=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!tw)return null;var rw=gP(tw),nw=this.initSegments_[rw];if(aw&&!nw&&tw.bytes){var ow=TL.byteLength+tw.bytes.byteLength,sw=new Uint8Array(ow);sw.set(tw.bytes),sw.set(TL,tw.bytes.byteLength),this.initSegments_[rw]=nw={resolvedUri:tw.resolvedUri,byterange:tw.byterange,bytes:sw}}return nw||tw}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(tw){return"undefined"==typeof tw||(this.subtitlesTrack_=tw,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(tw,aw){kP(tw,aw,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var tw=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var aw=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(aw=this.skipEmptySegments_(aw)){if(null===this.syncController_.timestampOffsetForTimeline(aw.timeline))return this.syncController_.one("timestampoffset",function(){tw.state="READY",tw.paused()||tw.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(aw)}}},{key:"skipEmptySegments_",value:function(tw){for(;tw&&tw.segment.empty;)tw=this.generateSegmentInfo_(tw.playlist,tw.mediaIndex+1,tw.startOfSegment+tw.duration,tw.isSyncRequest);return tw}},{key:"handleSegment_",value:function(){var tw=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var aw=this.pendingSegment_,rw=aw.segment;if("function"!=typeof pg.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var nw=function(){tw.handleSegment_()};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",nw),void this.subtitlesTrack_.tech_.one("vttjserror",function(){tw.subtitlesTrack_.tech_.off("vttjsloaded",nw),tw.error({message:"Error loading vtt.js"}),tw.state="READY",tw.pause(),tw.trigger("error")})}rw.requested=!0;try{this.parseVTTCues_(aw)}catch(ow){return this.error({message:ow.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(aw,this.syncController_.timelines[aw.timeline],this.playlist_),aw.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");aw.byteLength=aw.bytes.byteLength,this.mediaSecondsLoaded+=rw.duration,aw.cues.length&&this.remove(aw.cues[0].endTime,aw.cues[aw.cues.length-1].endTime),aw.cues.forEach(function(ow){tw.subtitlesTrack_.addCue(ow)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(tw){var aw,rw=!1;"function"==typeof pg.TextDecoder?aw=new pg.TextDecoder("utf8"):(aw=pg.WebVTT.StringDecoder(),rw=!0);var nw=new pg.WebVTT.Parser(pg,pg.vttjs,aw);if(tw.cues=[],tw.timestampmap={MPEGTS:0,LOCAL:0},nw.oncue=tw.cues.push.bind(tw.cues),nw.ontimestampmap=function(iw){return tw.timestampmap=iw},nw.onparsingerror=function(iw){rg.log.warn("Error encountered when parsing cues: "+iw.message)},tw.segment.map){var ow=tw.segment.map.bytes;rw&&(ow=bL(ow)),nw.parse(ow)}var sw=tw.bytes;rw&&(sw=bL(sw)),nw.parse(sw),nw.flush()}},{key:"updateTimeMapping_",value:function(tw,aw,rw){var nw=tw.segment;if(aw)if(tw.cues.length){var ow=tw.timestampmap,sw=ow.MPEGTS/9e4-ow.LOCAL+aw.mapping;if(tw.cues.forEach(function(dw){dw.startTime+=sw,dw.endTime+=sw}),!rw.syncInfo){var iw=tw.cues[0].startTime,lw=tw.cues[tw.cues.length-1].startTime;rw.syncInfo={mediaSequence:rw.mediaSequence+tw.mediaIndex,time:_Mathmin(iw,lw-nw.duration)}}}else nw.empty=!0}}]),ew}(),vL=function(ZL,ew){for(var tw=ZL.cues,aw=0,rw;aw<tw.length;aw++)if(rw=tw[aw],ew>=rw.adStartTime&&ew<=rw.adEndTime)return rw;return null},kL=function(ZL,ew){var tw,aw;return(aw=(tw=ZL)[0]==="I".charCodeAt(0)&&tw[1]==="D".charCodeAt(0)&&tw[2]==="3".charCodeAt(0)?function(rw){for(var ow=!1,sw=0,iw=null,lw=null,dw=0,pw=0,nw;3<=rw.length-pw;){switch(gE.aac.parseType(rw,pw)){case"timed-metadata":if(10>rw.length-pw){ow=!0;break}if((dw=gE.aac.parseId3TagSize(rw,pw))>rw.length){ow=!0;break}null===lw&&(nw=rw.subarray(pw,pw+dw),lw=gE.aac.parseAacTimestamp(nw)),pw+=dw;break;case"audio":if(7>rw.length-pw){ow=!0;break}if((dw=gE.aac.parseAdtsSize(rw,pw))>rw.length){ow=!0;break}null===iw&&(nw=rw.subarray(pw,pw+dw),iw=gE.aac.parseSampleRate(nw)),sw++,pw+=dw;break;default:pw++;}if(ow)return null}if(null===iw||null===lw)return null;var uw=9e4/iw;return{audio:[{type:"audio",dts:lw,pts:lw},{type:"audio",dts:lw+1024*sw*uw,pts:lw+1024*sw*uw}]}}(ZL):_E(ZL))&&(aw.audio||aw.video)?(function(rw,nw){if(rw.audio&&rw.audio.length){var ow=nw;"undefined"==typeof ow&&(ow=rw.audio[0].dts),rw.audio.forEach(function(lw){lw.dts=mE(lw.dts,ow),lw.pts=mE(lw.pts,ow),lw.dtsTime=lw.dts/9e4,lw.ptsTime=lw.pts/9e4})}if(rw.video&&rw.video.length){var sw=nw;if("undefined"==typeof sw&&(sw=rw.video[0].dts),rw.video.forEach(function(lw){lw.dts=mE(lw.dts,sw),lw.pts=mE(lw.pts,sw),lw.dtsTime=lw.dts/9e4,lw.ptsTime=lw.pts/9e4}),rw.firstKeyFrame){var iw=rw.firstKeyFrame;iw.dts=mE(iw.dts,sw),iw.pts=mE(iw.pts,sw),iw.dtsTime=iw.dts/9e4,iw.ptsTime=iw.dts/9e4}}}(aw,ew),aw):null},CL=[{name:"VOD",run:function(ZL,ew,tw){return tw===1/0?null:{time:0,segmentIndex:0}}},{name:"ProgramDateTime",run:function(ZL,ew,tw,aw,rw){if(!ZL.datetimeToDisplayTime)return null;var nw=ew.segments||[],ow=null,sw=null;rw=rw||0;for(var iw=0,lw;iw<nw.length;iw++)if(lw=nw[iw],lw.dateTimeObject){var dw=lw.dateTimeObject.getTime()/1e3+ZL.datetimeToDisplayTime,pw=_Mathabs(rw-dw);if(null!=sw&&sw<pw)break;sw=pw,ow={time:dw,segmentIndex:iw}}return ow}},{name:"Segment",run:function(ZL,ew,tw,aw,rw){var nw=ew.segments||[],ow=null,sw=null;rw=rw||0;for(var iw=0,lw;iw<nw.length;iw++)if(lw=nw[iw],lw.timeline===aw&&"undefined"!=typeof lw.start){var dw=_Mathabs(rw-lw.start);if(null!=sw&&sw<dw)break;(!ow||null===sw||dw<=sw)&&(sw=dw,ow={time:lw.start,segmentIndex:iw})}return ow}},{name:"Discontinuity",run:function(ZL,ew,tw,aw,rw){var nw=null;if(rw=rw||0,ew.discontinuityStarts&&ew.discontinuityStarts.length)for(var ow=null,sw=0;sw<ew.discontinuityStarts.length;sw++){var iw=ew.discontinuityStarts[sw],lw=ew.discontinuitySequence+sw+1,dw=ZL.discontinuities[lw];if(dw){var pw=_Mathabs(rw-dw.time);if(null!=ow&&ow<pw)break;(!nw||null===ow||pw<=ow)&&(ow=pw,nw={time:dw.time,segmentIndex:iw})}}return nw}},{name:"Playlist",run:function(ZL,ew){return ew.syncInfo?{time:ew.syncInfo.time,segmentIndex:ew.syncInfo.mediaSequence-ew.mediaSequence}:null}}],EL=function(){function ew(){DE(this,ew);var tw=UE(this,(ew.__proto__||Object.getPrototypeOf(ew)).call(this));return tw.inspectCache_=void 0,tw.timelines=[],tw.discontinuities=[],tw.datetimeToDisplayTime=null,tw.logger_=tL("SyncController"),tw}return RE(ew,rg.EventTarget),OE(ew,[{key:"getSyncPoint",value:function(tw,aw,rw,nw){var ow=this.runStrategies_(tw,aw,rw,nw);return ow.length?this.selectSyncPoint_(ow,{key:"time",value:nw}):null}},{key:"getExpiredTime",value:function(tw,aw){if(!tw||!tw.segments)return null;var rw=this.runStrategies_(tw,aw,tw.discontinuitySequence,0);if(!rw.length)return null;var nw=this.selectSyncPoint_(rw,{key:"segmentIndex",value:0});return 0<nw.segmentIndex&&(nw.time*=-1),_Mathabs(nw.time+KE(tw,nw.segmentIndex,0))}},{key:"runStrategies_",value:function(tw,aw,rw,nw){for(var ow=[],sw=0;sw<CL.length;sw++){var iw=CL[sw],lw=iw.run(this,tw,aw,rw,nw);lw&&(lw.strategy=iw.name,ow.push({strategy:iw.name,syncPoint:lw}))}return ow}},{key:"selectSyncPoint_",value:function(tw,aw){for(var rw=tw[0].syncPoint,nw=_Mathabs(tw[0].syncPoint[aw.key]-aw.value),ow=tw[0].strategy,sw=1,iw;sw<tw.length;sw++)iw=_Mathabs(tw[sw].syncPoint[aw.key]-aw.value),iw<nw&&(nw=iw,rw=tw[sw].syncPoint,ow=tw[sw].strategy);return this.logger_("syncPoint for ["+aw.key+": "+aw.value+"] chosen with strategy ["+ow+"]: [time:"+rw.time+", segmentIndex:"+rw.segmentIndex+"]"),rw}},{key:"saveExpiredSegmentInfo",value:function(tw,aw){for(var rw=aw.mediaSequence-tw.mediaSequence-1,nw;0<=rw;rw--)if(nw=tw.segments[rw],nw&&"undefined"!=typeof nw.start){aw.syncInfo={mediaSequence:tw.mediaSequence+rw,time:nw.start},this.logger_("playlist refresh sync: [time:"+aw.syncInfo.time+", mediaSequence: "+aw.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},{key:"setDateTimeMapping",value:function(tw){if(!this.datetimeToDisplayTime&&tw.segments&&tw.segments.length&&tw.segments[0].dateTimeObject){var aw=tw.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-aw}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(tw){var aw=tw.segment,rw=tw.playlist,nw;return(nw=aw.map?this.probeMp4Segment_(tw):this.probeTsSegment_(tw))&&this.calculateSegmentTimeMapping_(tw,nw)&&(this.saveDiscontinuitySyncInfo_(tw),rw.syncInfo||(rw.syncInfo={mediaSequence:rw.mediaSequence+tw.mediaIndex,time:aw.start})),nw}},{key:"probeMp4Segment_",value:function(tw){var aw=tw.segment,rw=YS.timescale(aw.map.bytes),nw=YS.startTime(rw,tw.bytes);return null!==tw.timestampOffset&&(tw.timestampOffset-=nw),{start:nw,end:nw+aw.duration}}},{key:"probeTsSegment_",value:function(tw){var aw=kL(tw.bytes,this.inspectCache_),rw,nw;return aw?(aw.video&&2===aw.video.length?(this.inspectCache_=aw.video[1].dts,rw=aw.video[0].dtsTime,nw=aw.video[1].dtsTime):aw.audio&&2===aw.audio.length&&(this.inspectCache_=aw.audio[1].dts,rw=aw.audio[0].dtsTime,nw=aw.audio[1].dtsTime),{start:rw,end:nw,containsVideo:aw.video&&2===aw.video.length,containsAudio:aw.audio&&2===aw.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(tw){return"undefined"==typeof this.timelines[tw]?null:this.timelines[tw].time}},{key:"mappingForTimeline",value:function(tw){return"undefined"==typeof this.timelines[tw]?null:this.timelines[tw].mapping}},{key:"calculateSegmentTimeMapping_",value:function(tw,aw){var rw=tw.segment,nw=this.timelines[tw.timeline];if(null!==tw.timestampOffset)nw={time:tw.startOfSegment,mapping:tw.startOfSegment-aw.start},this.timelines[tw.timeline]=nw,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+tw.timeline+": [time: "+nw.time+"] [mapping: "+nw.mapping+"]"),rw.start=tw.startOfSegment,rw.end=aw.end+nw.mapping;else{if(!nw)return!1;rw.start=aw.start+nw.mapping,rw.end=aw.end+nw.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(tw){var aw=tw.playlist,rw=tw.segment;if(rw.discontinuity)this.discontinuities[rw.timeline]={time:rw.start,accuracy:0};else if(aw.discontinuityStarts&&aw.discontinuityStarts.length)for(var nw=0;nw<aw.discontinuityStarts.length;nw++){var ow=aw.discontinuityStarts[nw],sw=aw.discontinuitySequence+nw+1,iw=ow-tw.mediaIndex,lw=_Mathabs(iw);if(!this.discontinuities[sw]||this.discontinuities[sw].accuracy>lw){var dw=void 0;dw=0>iw?rw.start-KE(aw,tw.mediaIndex,ow):rw.end+KE(aw,tw.mediaIndex+1,ow),this.discontinuities[sw]={time:dw,accuracy:lw}}}}}]),ew}(),PL=new ng("./decrypter-worker.worker.js",function(){var uw=this,tw,aw,rw,nw,ow,sw,iw,lw,dw,pw;tw=function(cw,mw){if(!(cw instanceof mw))throw new TypeError("Cannot call a class as a function")},aw=function(){function cw(mw,gw){for(var hw=0,yw;hw<gw.length;hw++)yw=gw[hw],yw.enumerable=yw.enumerable||!1,yw.configurable=!0,"value"in yw&&(yw.writable=!0),Object.defineProperty(mw,yw.key,yw)}return function(mw,gw,hw){return gw&&cw(mw.prototype,gw),hw&&cw(mw,hw),mw}}(),rw=function(cw,mw){if(!cw)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mw&&("object"===("undefined"==typeof mw?"undefined":vg(mw))||"function"==typeof mw)?mw:cw},nw=function(){var cw=[[[],[],[],[],[]],[[],[],[],[],[]]],mw=cw[0],gw=cw[1],hw=mw[4],yw=gw[4],fw=void 0,_w,bw,Tw=[],Sw=[],vw,kw,Cw,Ew,Pw;for(fw=0;256>fw;fw++)Sw[(Tw[fw]=fw<<1^283*(fw>>7))^fw]=fw;for(_w=bw=0;!hw[_w];_w^=vw||1,bw=Sw[bw]||1)for(Cw=99^((Cw=bw^bw<<1^bw<<2^bw<<3^bw<<4)>>8^255&Cw),Pw=16843009*Tw[kw=Tw[vw=Tw[yw[hw[_w]=Cw]=_w]]]^65537*kw^257*vw^16843008*_w,Ew=257*Tw[Cw]^16843008*Cw,fw=0;4>fw;fw++)mw[fw][_w]=Ew=Ew<<24^Ew>>>8,gw[fw][Cw]=Pw=Pw<<24^Pw>>>8;for(fw=0;5>fw;fw++)mw[fw]=mw[fw].slice(0),gw[fw]=gw[fw].slice(0);return cw},ow=null,sw=function(){function cw(mw){tw(this,cw),ow||(ow=nw()),this._tables=[[ow[0][0].slice(),ow[0][1].slice(),ow[0][2].slice(),ow[0][3].slice(),ow[0][4].slice()],[ow[1][0].slice(),ow[1][1].slice(),ow[1][2].slice(),ow[1][3].slice(),ow[1][4].slice()]];var gw=void 0,hw=void 0,yw,fw,_w,bw=this._tables[0][4],Tw=this._tables[1],Sw=mw.length,vw=1;if(4!==Sw&&6!==Sw&&8!==Sw)throw new Error("Invalid aes key size");for(fw=mw.slice(0),_w=[],this._key=[fw,_w],gw=Sw;gw<4*Sw+28;gw++)yw=fw[gw-1],(0==gw%Sw||8===Sw&&4==gw%Sw)&&(yw=bw[yw>>>24]<<24^bw[255&yw>>16]<<16^bw[255&yw>>8]<<8^bw[255&yw],0==gw%Sw&&(yw=yw<<8^yw>>>24^vw<<24,vw=vw<<1^283*(vw>>7))),fw[gw]=fw[gw-Sw]^yw;for(hw=0;gw;hw++,gw--)yw=fw[3&hw?gw:gw-4],_w[hw]=4>=gw||4>hw?yw:Tw[0][bw[yw>>>24]]^Tw[1][bw[255&yw>>16]]^Tw[2][bw[255&yw>>8]]^Tw[3][bw[255&yw]]}return cw.prototype.decrypt=function(mw,gw,hw,yw,fw,_w){var bw=this._key[1],Tw=mw^bw[0],Sw=yw^bw[1],vw=hw^bw[2],kw=gw^bw[3],Cw,Ew,Pw,Lw=bw.length/4-2,ww=void 0,xw=4,Aw=this._tables[1],Iw=Aw[0],Dw=Aw[1],Ow=Aw[2],Rw=Aw[3],Uw=Aw[4];for(ww=0;ww<Lw;ww++)Cw=Iw[Tw>>>24]^Dw[255&Sw>>16]^Ow[255&vw>>8]^Rw[255&kw]^bw[xw],Ew=Iw[Sw>>>24]^Dw[255&vw>>16]^Ow[255&kw>>8]^Rw[255&Tw]^bw[xw+1],Pw=Iw[vw>>>24]^Dw[255&kw>>16]^Ow[255&Tw>>8]^Rw[255&Sw]^bw[xw+2],kw=Iw[kw>>>24]^Dw[255&Tw>>16]^Ow[255&Sw>>8]^Rw[255&vw]^bw[xw+3],xw+=4,Tw=Cw,Sw=Ew,vw=Pw;for(ww=0;4>ww;ww++)fw[(3&-ww)+_w]=Uw[Tw>>>24]<<24^Uw[255&Sw>>16]<<16^Uw[255&vw>>8]<<8^Uw[255&kw]^bw[xw++],Cw=Tw,Tw=Sw,Sw=vw,vw=kw,kw=Cw},cw}(),iw=function(){function cw(){tw(this,cw),this.listeners={}}return cw.prototype.on=function(mw,gw){this.listeners[mw]||(this.listeners[mw]=[]),this.listeners[mw].push(gw)},cw.prototype.off=function(mw,gw){if(!this.listeners[mw])return!1;var hw=this.listeners[mw].indexOf(gw);return this.listeners[mw].splice(hw,1),-1<hw},cw.prototype.trigger=function(mw){var gw=this.listeners[mw];if(gw)if(2===arguments.length)for(var hw=gw.length,yw=0;yw<hw;++yw)gw[yw].call(this,arguments[1]);else for(var fw=Array.prototype.slice.call(arguments,1),_w=gw.length,bw=0;bw<_w;++bw)gw[bw].apply(this,fw)},cw.prototype.dispose=function(){this.listeners={}},cw.prototype.pipe=function(mw){this.on("data",function(gw){mw.push(gw)})},cw}(),lw=function(cw){function mw(){tw(this,mw);var gw=rw(this,cw.call(this,iw));return gw.jobs=[],gw.delay=1,gw.timeout_=null,gw}return function(gw,hw){if("function"!=typeof hw&&null!==hw)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof hw?"undefined":vg(hw)));gw.prototype=Object.create(hw&&hw.prototype,{constructor:{value:gw,enumerable:!1,writable:!0,configurable:!0}}),hw&&(Object.setPrototypeOf?Object.setPrototypeOf(gw,hw):gw.__proto__=hw)}(mw,cw),mw.prototype.processJob_=function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},mw.prototype.push=function(gw){this.jobs.push(gw),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},mw}(iw),dw=function(cw){return cw<<24|(65280&cw)<<8|(16711680&cw)>>8|cw>>>24},pw=function(){function cw(mw,gw,hw,yw){tw(this,cw);var fw=cw.STEP,_w=new Int32Array(mw.buffer),bw=new Uint8Array(mw.byteLength),Tw=0;for(this.asyncStream_=new lw,this.asyncStream_.push(this.decryptChunk_(_w.subarray(Tw,Tw+fw),gw,hw,bw)),Tw=fw;Tw<_w.length;Tw+=fw)hw=new Uint32Array([dw(_w[Tw-4]),dw(_w[Tw-3]),dw(_w[Tw-2]),dw(_w[Tw-1])]),this.asyncStream_.push(this.decryptChunk_(_w.subarray(Tw,Tw+fw),gw,hw,bw));this.asyncStream_.push(function(){var Sw;yw(null,(Sw=bw).subarray(0,Sw.byteLength-Sw[Sw.byteLength-1]))})}return cw.prototype.decryptChunk_=function(mw,gw,hw,yw){return function(){var fw=function(_w,bw,Tw){var Sw=new Int32Array(_w.buffer,_w.byteOffset,_w.byteLength>>2),vw=new sw(Array.prototype.slice.call(bw)),kw=new Uint8Array(_w.byteLength),Cw=new Int32Array(kw.buffer),Ew,Pw,Lw,ww,xw,Aw,Iw,Dw,Ow;for(Ew=Tw[0],Pw=Tw[1],Lw=Tw[2],ww=Tw[3],Ow=0;Ow<Sw.length;Ow+=4)xw=dw(Sw[Ow]),Aw=dw(Sw[Ow+1]),Iw=dw(Sw[Ow+2]),Dw=dw(Sw[Ow+3]),vw.decrypt(xw,Aw,Iw,Dw,Cw,Ow),Cw[Ow]=dw(Cw[Ow]^Ew),Cw[Ow+1]=dw(Cw[Ow+1]^Pw),Cw[Ow+2]=dw(Cw[Ow+2]^Lw),Cw[Ow+3]=dw(Cw[Ow+3]^ww),Ew=xw,Pw=Aw,Lw=Iw,ww=Dw;return kw}(mw,gw,hw);yw.set(fw,mw.byteOffset)}},aw(cw,null,[{key:"STEP",get:function(){return 32e3}}]),cw}(),new function(cw){cw.onmessage=function(mw){var gw=mw.data,hw=new Uint8Array(gw.encrypted.bytes,gw.encrypted.byteOffset,gw.encrypted.byteLength),yw=new Uint32Array(gw.key.bytes,gw.key.byteOffset,gw.key.byteLength/4),fw=new Uint32Array(gw.iv.bytes,gw.iv.byteOffset,gw.iv.byteLength/4);new pw(hw,yw,fw,function(_w,bw){var Tw,Sw;cw.postMessage((Tw={source:gw.source,decrypted:bw},Sw={},Object.keys(Tw).forEach(function(vw){var kw=Tw[vw];Sw[vw]=ArrayBuffer.isView(kw)?{bytes:kw.buffer,byteOffset:kw.byteOffset,byteLength:kw.byteLength}:kw}),Sw),[bw.buffer])})}}(uw)}),LL=function(ZL,ew){ZL.abort(),ZL.pause(),ew&&ew.activePlaylistLoader&&(ew.activePlaylistLoader.pause(),ew.activePlaylistLoader=null)},wL=function(ZL,ew){(ew.activePlaylistLoader=ZL).load()},xL={AUDIO:function(ZL,ew){return function(){var tw=ew.segmentLoaders[ZL],aw=ew.mediaTypes[ZL],rw=ew.blacklistCurrentPlaylist;LL(tw,aw);var nw=aw.activeTrack(),ow=aw.activeGroup(),sw=(ow.filter(function(dw){return dw.default})[0]||ow[0]).id,iw=aw.tracks[sw];if(nw!==iw){for(var lw in rg.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),aw.tracks)aw.tracks[lw].enabled=aw.tracks[lw]===iw;aw.onTrackChanged()}else rw({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(ZL,ew){return function(){var tw=ew.segmentLoaders[ZL],aw=ew.mediaTypes[ZL];rg.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),LL(tw,aw);var rw=aw.activeTrack();rw&&(rw.mode="disabled"),aw.onTrackChanged()}}},AL={AUDIO:function(ZL,ew,tw){if(ew){var aw=tw.tech,rw=tw.requestOptions,nw=tw.segmentLoaders[ZL];ew.on("loadedmetadata",function(){var ow=ew.media();nw.playlist(ow,rw),(!aw.paused()||ow.endList&&"none"!==aw.preload())&&nw.load()}),ew.on("loadedplaylist",function(){nw.playlist(ew.media(),rw),aw.paused()||nw.load()}),ew.on("error",xL[ZL](ZL,tw))}},SUBTITLES:function(ZL,ew,tw){var aw=tw.tech,rw=tw.requestOptions,nw=tw.segmentLoaders[ZL],ow=tw.mediaTypes[ZL];ew.on("loadedmetadata",function(){var sw=ew.media();nw.playlist(sw,rw),nw.track(ow.activeTrack()),(!aw.paused()||sw.endList&&"none"!==aw.preload())&&nw.load()}),ew.on("loadedplaylist",function(){nw.playlist(ew.media(),rw),aw.paused()||nw.load()}),ew.on("error",xL[ZL](ZL,tw))}},IL=function(ZL,ew){return function(tw){return tw.attributes[ZL]===ew}},DL=function(ZL){return function(ew){return ew.resolvedUri===ZL}},OL={AUDIO:function(ZL,ew){var rw=ew.hls,nw=ew.sourceType,ow=ew.segmentLoaders[ZL],sw=ew.requestOptions.withCredentials,iw=ew.master,lw=iw.mediaGroups,dw=iw.playlists,pw=ew.mediaTypes[ZL],uw=pw.groups,cw=pw.tracks,mw=ew.masterPlaylistLoader,tw,aw;for(var gw in lw[ZL]&&0!==Object.keys(lw[ZL]).length||(lw[ZL]={main:{default:{default:!0}}}),lw[ZL]){uw[gw]||(uw[gw]=[]);var hw=dw.filter(IL(ZL,gw));for(var yw in lw[ZL][gw]){var fw=lw[ZL][gw][yw];hw.filter(DL(fw.resolvedUri)).length&&delete fw.resolvedUri;var _w=void 0;if(_w=fw.resolvedUri?new WE(fw.resolvedUri,rw,sw):fw.playlists&&"dash"===nw?new eL(fw.playlists[0],rw,sw,mw):null,fw=rg.mergeOptions({id:yw,playlistLoader:_w},fw),AL[ZL](ZL,fw.playlistLoader,ew),uw[gw].push(fw),"undefined"==typeof cw[yw]){var bw=new rg.AudioTrack({id:yw,kind:(tw=fw,aw=void 0,aw=tw.default?"main":"alternative",tw.characteristics&&0<=tw.characteristics.indexOf("public.accessibility.describes-video")&&(aw="main-desc"),aw),enabled:!1,language:fw.language,default:fw.default,label:yw});cw[yw]=bw}}}ow.on("error",xL[ZL](ZL,ew))},SUBTITLES:function(ZL,ew){var tw=ew.tech,aw=ew.hls,rw=ew.sourceType,nw=ew.segmentLoaders[ZL],ow=ew.requestOptions.withCredentials,sw=ew.master.mediaGroups,iw=ew.mediaTypes[ZL],lw=iw.groups,dw=iw.tracks,pw=ew.masterPlaylistLoader;for(var uw in sw[ZL])for(var cw in lw[uw]||(lw[uw]=[]),sw[ZL][uw])if(!sw[ZL][uw][cw].forced){var mw=sw[ZL][uw][cw],gw=void 0;if("hls"===rw?gw=new WE(mw.resolvedUri,aw,ow):"dash"===rw&&(gw=new eL(mw.playlists[0],aw,ow,pw)),mw=rg.mergeOptions({id:cw,playlistLoader:gw},mw),AL[ZL](ZL,mw.playlistLoader,ew),lw[uw].push(mw),"undefined"==typeof dw[cw]){var hw=tw.addRemoteTextTrack({id:cw,kind:"subtitles",enabled:!1,language:mw.language,label:cw},!1).track;dw[cw]=hw}}nw.on("error",xL[ZL](ZL,ew))},"CLOSED-CAPTIONS":function(ZL,ew){var tw=ew.tech,aw=ew.master.mediaGroups,rw=ew.mediaTypes[ZL],nw=rw.groups,ow=rw.tracks;for(var sw in aw[ZL])for(var iw in nw[sw]||(nw[sw]=[]),aw[ZL][sw]){var lw=aw[ZL][sw][iw];if(lw.instreamId.match(/CC\d/)&&(nw[sw].push(rg.mergeOptions({id:iw},lw)),"undefined"==typeof ow[iw])){var dw=tw.addRemoteTextTrack({id:lw.instreamId,kind:"captions",enabled:!1,language:lw.language,label:iw},!1).track;ow[iw]=dw}}}},RL={AUDIO:function(ZL,ew){return function(){var tw=ew.mediaTypes[ZL].tracks;for(var aw in tw)if(tw[aw].enabled)return tw[aw];return null}},SUBTITLES:function(ZL,ew){return function(){var tw=ew.mediaTypes[ZL].tracks;for(var aw in tw)if("showing"===tw[aw].mode)return tw[aw];return null}}},UL=function(ZL){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(lw){OL[lw](lw,ZL)});var ew=ZL.mediaTypes,tw=ZL.masterPlaylistLoader,aw=ZL.tech,rw=ZL.hls;["AUDIO","SUBTITLES"].forEach(function(lw){var dw,pw,uw,cw,mw,gw;ew[lw].activeGroup=(dw=lw,pw=ZL,function(hw){var yw=pw.masterPlaylistLoader,fw=pw.mediaTypes[dw].groups,_w=yw.media();if(!_w)return null;var bw=null;return _w.attributes[dw]&&(bw=fw[_w.attributes[dw]]),bw=bw||fw.main,"undefined"==typeof hw?bw:null===hw?null:bw.filter(function(Tw){return Tw.id===hw.id})[0]||null}),ew[lw].activeTrack=RL[lw](lw,ZL),ew[lw].onGroupChanged=(uw=lw,cw=ZL,function(){var hw=cw.segmentLoaders,yw=hw[uw],fw=hw.main,_w=cw.mediaTypes[uw],bw=_w.activeTrack(),Tw=_w.activeGroup(bw),Sw=_w.activePlaylistLoader;LL(yw,_w),Tw&&(Tw.playlistLoader?(yw.resyncLoader(),wL(Tw.playlistLoader,_w)):Sw&&fw.resetEverything())}),ew[lw].onTrackChanged=(mw=lw,gw=ZL,function(){var hw=gw.segmentLoaders,yw=hw[mw],fw=hw.main,_w=gw.mediaTypes[mw],bw=_w.activeTrack(),Tw=_w.activeGroup(bw),Sw=_w.activePlaylistLoader;LL(yw,_w),Tw&&(Tw.playlistLoader?(Sw!==Tw.playlistLoader&&(yw.track&&yw.track(bw),yw.resetEverything()),wL(Tw.playlistLoader,_w)):fw.resetEverything())})});var nw=ew.AUDIO.activeGroup(),ow=(nw.filter(function(lw){return lw.default})[0]||nw[0]).id;ew.AUDIO.tracks[ow].enabled=!0,ew.AUDIO.onTrackChanged(),tw.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(lw){return ew[lw].onGroupChanged()})});var sw=function(){ew.AUDIO.onTrackChanged(),aw.trigger({type:"usage",name:"hls-audio-change"})};for(var iw in aw.audioTracks().addEventListener("change",sw),aw.remoteTextTracks().addEventListener("change",ew.SUBTITLES.onTrackChanged),rw.on("dispose",function(){aw.audioTracks().removeEventListener("change",sw),aw.remoteTextTracks().removeEventListener("change",ew.SUBTITLES.onTrackChanged)}),aw.clearTracks("audio"),ew.AUDIO.tracks)aw.audioTracks().addTrack(ew.AUDIO.tracks[iw])},ML=function(){var ZL={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(ew){ZL[ew]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:sg,activeTrack:sg,onGroupChanged:sg,onTrackChanged:sg}}),ZL},BL,NL=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],FL=function(ZL){return this.audioSegmentLoader_[ZL]+this.mainSegmentLoader_[ZL]},jL=function(){function ew(tw){DE(this,ew);var aw=UE(this,(ew.__proto__||Object.getPrototypeOf(ew)).call(this)),rw=tw.url,nw=tw.withCredentials,ow=tw.tech,sw=tw.bandwidth,iw=tw.externHls,lw=tw.useCueTags,dw=tw.blacklistDuration,pw=tw.enableLowInitialPlaylist,uw=tw.sourceType,cw=tw.seekTo;if(!rw)throw new Error("A non-empty playlist URL is required");BL=iw,aw.withCredentials=nw,aw.tech_=ow,aw.hls_=ow.hls,aw.seekTo_=cw,aw.sourceType_=uw,aw.useCueTags_=lw,aw.blacklistDuration=dw,aw.enableLowInitialPlaylist=pw,aw.useCueTags_&&(aw.cueTagsTrack_=aw.tech_.addTextTrack("metadata","ad-cues"),aw.cueTagsTrack_.inBandMetadataTrackDispatchType=""),aw.requestOptions_={withCredentials:aw.withCredentials,timeout:null},aw.mediaTypes_=ML(),aw.mediaSource=new rg.MediaSource,aw.mediaSource.addEventListener("sourceopen",aw.handleSourceOpen_.bind(aw)),aw.seekable_=rg.createTimeRanges(),aw.hasPlayed_=function(){return!1},aw.syncController_=new EL(tw),aw.segmentMetadataTrack_=ow.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,aw.decrypter_=new PL,aw.inbandTextTracks_={};var mw={hls:aw.hls_,mediaSource:aw.mediaSource,currentTime:aw.tech_.currentTime.bind(aw.tech_),seekable:function(){return aw.seekable()},seeking:function(){return aw.tech_.seeking()},duration:function(){return aw.mediaSource.duration},hasPlayed:function(){return aw.hasPlayed_()},goalBufferLength:function(){return aw.goalBufferLength()},bandwidth:sw,syncController:aw.syncController_,decrypter:aw.decrypter_,sourceType:aw.sourceType_,inbandTextTracks:aw.inbandTextTracks_};return aw.masterPlaylistLoader_="dash"===aw.sourceType_?new eL(rw,aw.hls_,aw.withCredentials):new WE(rw,aw.hls_,aw.withCredentials),aw.setupMasterPlaylistLoaderListeners_(),aw.mainSegmentLoader_=new _L(rg.mergeOptions(mw,{segmentMetadataTrack:aw.segmentMetadataTrack_,loaderType:"main"}),tw),aw.audioSegmentLoader_=new _L(rg.mergeOptions(mw,{loaderType:"audio"}),tw),aw.subtitleSegmentLoader_=new SL(rg.mergeOptions(mw,{loaderType:"vtt"}),tw),aw.setupSegmentLoaderListeners_(),NL.forEach(function(gw){aw[gw+"_"]=FL.bind(aw,gw)}),aw.logger_=tL("MPC"),aw.masterPlaylistLoader_.load(),aw}return RE(ew,rg.EventTarget),OE(ew,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var tw=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var aw=tw.masterPlaylistLoader_.media(),rw=1e3*(1.5*tw.masterPlaylistLoader_.targetDuration);tw.requestOptions_.timeout=sP(tw.masterPlaylistLoader_.master,tw.masterPlaylistLoader_.media())?0:rw,aw.endList&&"none"!==tw.tech_.preload()&&(tw.mainSegmentLoader_.playlist(aw,tw.requestOptions_),tw.mainSegmentLoader_.load()),UL({sourceType:tw.sourceType_,segmentLoaders:{AUDIO:tw.audioSegmentLoader_,SUBTITLES:tw.subtitleSegmentLoader_,main:tw.mainSegmentLoader_},tech:tw.tech_,requestOptions:tw.requestOptions_,masterPlaylistLoader:tw.masterPlaylistLoader_,hls:tw.hls_,master:tw.master(),mediaTypes:tw.mediaTypes_,blacklistCurrentPlaylist:tw.blacklistCurrentPlaylist.bind(tw)}),tw.triggerPresenceUsage_(tw.master(),aw);try{tw.setupSourceBuffers_()}catch(nw){return rg.log.warn("Failed to create SourceBuffers",nw),tw.mediaSource.endOfStream("decode")}tw.setupFirstPlay(),tw.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var aw=tw.masterPlaylistLoader_.media();if(!aw){tw.excludeUnsupportedVariants_();var rw;return tw.enableLowInitialPlaylist&&(rw=tw.selectInitialPlaylist()),rw||(rw=tw.selectPlaylist()),tw.initialMedia_=rw,void tw.masterPlaylistLoader_.media(tw.initialMedia_)}if(tw.useCueTags_&&tw.updateAdCues_(aw),tw.mainSegmentLoader_.playlist(aw,tw.requestOptions_),tw.updateDuration(),tw.tech_.paused()||(tw.mainSegmentLoader_.load(),tw.audioSegmentLoader_&&tw.audioSegmentLoader_.load()),!aw.endList){var nw=function(){var ow=tw.seekable();0!==ow.length&&tw.mediaSource.addSeekableRange_(ow.start(0),ow.end(0))};tw.duration()===1/0?nw():tw.tech_.one("durationchange",function ow(){tw.duration()===1/0?nw():tw.tech_.one("durationchange",ow)})}}),this.masterPlaylistLoader_.on("error",function(){tw.blacklistCurrentPlaylist(tw.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){tw.mainSegmentLoader_.abort(),tw.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var aw=tw.masterPlaylistLoader_.media(),rw=1e3*(1.5*tw.masterPlaylistLoader_.targetDuration);tw.requestOptions_.timeout=sP(tw.masterPlaylistLoader_.master,tw.masterPlaylistLoader_.media())?0:rw,tw.mainSegmentLoader_.playlist(aw,tw.requestOptions_),tw.mainSegmentLoader_.load(),tw.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var aw=tw.masterPlaylistLoader_.media();tw.stuckAtPlaylistEnd_(aw)&&(tw.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),tw.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){tw.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){tw.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(tw,aw){var rw=tw.mediaGroups||{},nw=!0,ow=Object.keys(rw.AUDIO);for(var sw in rw.AUDIO)for(var iw in rw.AUDIO[sw])rw.AUDIO[sw][iw].uri||(nw=!1);nw&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(rw.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),BL.Playlist.isAes(aw)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),BL.Playlist.isFmp4(aw)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),ow.length&&1<Object.keys(rw.AUDIO[ow[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var tw=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var aw=tw.selectPlaylist(),rw=tw.masterPlaylistLoader_.media(),nw=tw.tech_.buffered(),ow=nw.length?nw.end(nw.length-1)-tw.tech_.currentTime():0,sw=tw.bufferLowWaterLine();(!rw.endList||tw.duration()<rL.MAX_BUFFER_LOW_WATER_LINE||aw.attributes.BANDWIDTH<rw.attributes.BANDWIDTH||sw<=ow)&&tw.masterPlaylistLoader_.media(aw),tw.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){tw.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){tw.blacklistCurrentPlaylist(tw.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){tw.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){tw.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){tw.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){tw.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){tw.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){tw.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(aw){tw.tech_.trigger({type:"hls-segment-time-mapping",mapping:aw.mapping})}),this.audioSegmentLoader_.on("ended",function(){tw.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return _Mathmax(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var tw=this.selectPlaylist();tw!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(tw),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var tw=this,aw=this.selectPlaylist();aw!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(aw),this.mainSegmentLoader_.resetEverything(function(){tw.tech_.setCurrentTime(tw.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var tw=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<tw.start(0)?this.seekTo_(tw.end(tw.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var tw=this,aw=this.masterPlaylistLoader_.media();if(!aw||this.tech_.paused()||this.hasPlayed_())return!1;if(!aw.endList){var rw=this.seekable();if(!rw.length)return!1;if(rg.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){tw.trigger("firstplay"),tw.seekTo_(rw.end(0)),tw.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(rw.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(aw){return rg.log.warn("Failed to create Source Buffers",aw),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var tw=this.tech_.play();"undefined"!=typeof tw&&"function"==typeof tw.then&&tw.then(null,function(){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var tw=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(tw=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?tw&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),tw&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(tw){if(!this.seekable().length)return!1;var aw=this.syncController_.getExpiredTime(tw,this.mediaSource.duration);if(null===aw)return!1;var rw=BL.Playlist.playlistEnd(tw,aw),nw=this.tech_.currentTime(),ow=this.tech_.buffered();if(!ow.length)return .1>=rw-nw;var sw=ow.end(ow.length-1);return .1>=sw-nw&&.1>=rw-sw}},{key:"blacklistCurrentPlaylist",value:function(){var aw=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},rw=arguments[1],nw,tw;if(nw=aw.playlist||this.masterPlaylistLoader_.media(),rw=rw||aw.blacklistDuration||this.blacklistDuration,!nw){this.error=aw;try{return this.mediaSource.endOfStream("network")}catch(sw){return this.trigger("error")}}var ow=1===this.masterPlaylistLoader_.master.playlists.filter(nP).length;return ow?(rg.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(ow)):(nw.excludeUntil=Date.now()+1e3*rw,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),tw=this.selectPlaylist(),rg.log.warn("Problem encountered with the current HLS playlist."+(aw.message?" "+aw.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(tw))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(tw){var aw=bP(this.tech_.buffered(),tw);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?aw&&aw.length?tw:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:BL.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var tw,aw;if(this.masterPlaylistLoader_){var rw=this.masterPlaylistLoader_.media();if(rw){var nw=this.syncController_.getExpiredTime(rw,this.mediaSource.duration);if(null!==nw&&0!==(tw=BL.Playlist.seekable(rw,nw)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(rw=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(nw=this.syncController_.getExpiredTime(rw,this.mediaSource.duration)))return;if(0===(aw=BL.Playlist.seekable(rw,nw)).length)return}this.seekable_=aw?aw.start(0)>tw.end(0)||tw.start(0)>aw.end(0)?tw:rg.createTimeRanges([[aw.start(0)>tw.start(0)?aw.start(0):tw.start(0),aw.end(0)<tw.end(0)?aw.end(0):tw.end(0)]]):tw,this.logger_("seekable updated ["+SP(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var tw=this,aw=this.mediaSource.duration,rw=BL.Playlist.duration(this.masterPlaylistLoader_.media()),nw=this.tech_.buffered(),ow=function sw(){tw.mediaSource.duration=rw,tw.tech_.trigger("durationchange"),tw.mediaSource.removeEventListener("sourceopen",sw)};0<nw.length&&(rw=_Mathmax(rw,nw.end(nw.length-1))),aw!==rw&&("open"===this.mediaSource.readyState?ow():this.mediaSource.addEventListener("sourceopen",ow))}},{key:"dispose",value:function(){var tw=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(aw){var rw=tw.mediaTypes_[aw].groups;for(var nw in rw)rw[nw].forEach(function(ow){ow.playlistLoader&&ow.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var aw=this.masterPlaylistLoader_.media(),tw;if(aw&&"open"===this.mediaSource.readyState){if(1>(tw=jP(this.masterPlaylistLoader_.master,aw)).length)return this.error="No compatible SourceBuffer configuration for the variant stream:"+aw.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(tw),this.excludeIncompatibleVariants_(aw)}}},{key:"configureLoaderMimeTypes_",value:function(tw){var aw=1<tw.length&&-1===tw[0].indexOf(",")&&tw[0]!==tw[1]?new rg.EventTarget:null;this.mainSegmentLoader_.mimeType(tw[0],aw),tw[1]&&this.audioSegmentLoader_.mimeType(tw[1],aw)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(tw){tw.attributes.CODECS&&pg.MediaSource&&pg.MediaSource.isTypeSupported&&!pg.MediaSource.isTypeSupported("video/mp4; codecs=\""+tw.attributes.CODECS.replace(/avc1\.(\d+)\.(\d+)/i,function(aw){return BP([aw])[0]})+"\"")&&(tw.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(tw){var aw=2,rw=null,nw;tw.attributes.CODECS&&(nw=NP(tw.attributes.CODECS),rw=nw.videoCodec,aw=nw.codecCount),this.master().playlists.forEach(function(ow){var sw={codecCount:2,videoCodec:null};ow.attributes.CODECS&&(sw=NP(ow.attributes.CODECS)),sw.codecCount!==aw&&(ow.excludeUntil=1/0),sw.videoCodec!==rw&&(ow.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(tw){var aw=0,rw=this.seekable();rw.length&&(aw=rw.start(0)),function(nw,ow){var sw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(nw.segments)for(var iw=sw,lw=void 0,dw=0,pw;dw<nw.segments.length;dw++){if(pw=nw.segments[dw],lw||(lw=vL(ow,iw+pw.duration/2)),lw){if("cueIn"in pw){lw.endTime=iw,lw.adEndTime=iw,iw+=pw.duration,lw=null;continue}if(iw<lw.endTime){iw+=pw.duration;continue}lw.endTime+=pw.duration}else if("cueOut"in pw&&((lw=new pg.VTTCue(iw,iw+pw.duration,pw.cueOut)).adStartTime=iw,lw.adEndTime=iw+parseFloat(pw.cueOut),ow.addCue(lw)),"cueOutCont"in pw){var mw=pw.cueOutCont.split("/").map(parseFloat),gw=ME(mw,2),uw,cw;uw=gw[0],cw=gw[1],(lw=new pg.VTTCue(iw,iw+pw.duration,"")).adStartTime=iw-uw,lw.adEndTime=lw.adStartTime+cw,ow.addCue(lw)}iw+=pw.duration}}(tw,this.cueTagsTrack_,aw)}},{key:"goalBufferLength",value:function(){var tw=this.tech_.currentTime(),aw=rL.GOAL_BUFFER_LENGTH,rw=rL.GOAL_BUFFER_LENGTH_RATE,nw=_Mathmax(aw,rL.MAX_GOAL_BUFFER_LENGTH);return _Mathmin(aw+tw*rw,nw)}},{key:"bufferLowWaterLine",value:function(){var tw=this.tech_.currentTime(),aw=rL.BUFFER_LOW_WATER_LINE,rw=rL.BUFFER_LOW_WATER_LINE_RATE,nw=_Mathmax(aw,rL.MAX_BUFFER_LOW_WATER_LINE);return _Mathmin(aw+tw*rw,nw)}}]),ew}(),HL=function ZL(ew,tw,aw){DE(this,ZL);var sw=ew.masterPlaylistController_.fastQualityChange_.bind(ew.masterPlaylistController_),rw,nw,ow;if(tw.attributes.RESOLUTION){var iw=tw.attributes.RESOLUTION;this.width=iw.width,this.height=iw.height}this.bandwidth=tw.attributes.BANDWIDTH,this.id=aw,this.enabled=(rw=ew.playlists,nw=tw.uri,ow=sw,function(lw){var dw=rw.master.playlists[nw],pw=rP(dw),uw=nP(dw);return"undefined"==typeof lw?uw:(lw?delete dw.disabled:dw.disabled=!0,lw===uw||pw||(ow(),lw?rw.trigger("renditionenabled"):rw.trigger("renditiondisabled")),lw)})},VL=["seeking","seeked","pause","playing","error"],zL=function(){function ZL(ew){var tw=this;DE(this,ZL),this.tech_=ew.tech,this.seekable=ew.seekable,this.seekTo=ew.seekTo,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=tL("PlaybackWatcher"),this.logger_("initialize");var aw=function(){return tw.monitorCurrentTime_()},rw=function(){return tw.techWaiting_()},nw=function(){return tw.cancelTimer_()},ow=function(){return tw.fixesBadSeeks_()};this.tech_.on("seekablechanged",ow),this.tech_.on("waiting",rw),this.tech_.on(VL,nw),this.tech_.on("canplay",aw),this.dispose=function(){tw.logger_("dispose"),tw.tech_.off("seekablechanged",ow),tw.tech_.off("waiting",rw),tw.tech_.off(VL,nw),tw.tech_.off("canplay",aw),tw.checkCurrentTimeTimeout_&&pg.clearTimeout(tw.checkCurrentTimeTimeout_),tw.cancelTimer_()}}return OE(ZL,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&pg.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=pg.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var ew=this.tech_.currentTime(),tw=this.tech_.buffered();if(this.lastRecordedTime===ew&&(!tw.length||ew+.1>=tw.end(tw.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&ew===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):ew===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=ew)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var ew=this.tech_.seeking(),tw=this.seekable(),aw=this.tech_.currentTime(),rw;return ew&&this.afterSeekableWindow_(tw,aw)&&(rw=tw.end(tw.length-1)),ew&&this.beforeSeekableWindow_(tw,aw)&&(rw=tw.start(0)+.1),"undefined"!=typeof rw&&(this.logger_("Trying to seek outside of seekable at time "+aw+" with seekable range "+SP(tw)+". Seeking to "+rw+"."),this.seekTo(rw),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var ew=this.tech_.currentTime(),tw=this.tech_.buffered(),aw=bP(tw,ew);return aw.length&&ew+3<=aw.end(0)?(this.cancelTimer_(),this.seekTo(ew),this.logger_("Stopped at "+ew+" while inside a buffered region ["+aw.start(0)+" -> "+aw.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var ew=this.seekable(),tw=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(ew,tw)){var aw=ew.end(ew.length-1);return this.logger_("Fell out of live window at time "+tw+". Seeking to live point (seekable end) "+aw),this.cancelTimer_(),this.seekTo(aw),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var rw=this.tech_.buffered(),nw=TP(rw,tw);if(this.videoUnderflow_(nw,rw,tw))return this.cancelTimer_(),this.seekTo(tw),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(0<nw.length){var ow=nw.start(0)-tw;return this.logger_("Stopped at "+tw+", setting timer for "+ow+", seeking to "+nw.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*ow,tw),!0}return!1}},{key:"afterSeekableWindow_",value:function(ew,tw){return!!ew.length&&tw>ew.end(ew.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(ew,tw){return!!(ew.length&&0<ew.start(0)&&tw<ew.start(0)-.1)}},{key:"videoUnderflow_",value:function(ew,tw,aw){if(0===ew.length){var rw=this.gapFromVideoUnderflow_(tw,aw);if(rw)return this.logger_("Encountered a gap in video from "+rw.start+" to "+rw.end+". Seeking to current time "+aw),!0}return!1}},{key:"skipTheGap_",value:function(ew){var tw=this.tech_.buffered(),aw=this.tech_.currentTime(),rw=TP(tw,aw);this.cancelTimer_(),0!==rw.length&&aw===ew&&(this.logger_("skipTheGap_:","currentTime:",aw,"scheduled currentTime:",ew,"nextRange start:",rw.start(0)),this.seekTo(rw.start(0)+fP),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(ew,tw){for(var aw=function(sw){if(2>sw.length)return rg.createTimeRanges();for(var iw=[],lw=1;lw<sw.length;lw++){var dw=sw.end(lw-1),pw=sw.start(lw);iw.push([dw,pw])}return rg.createTimeRanges(iw)}(ew),rw=0;rw<aw.length;rw++){var nw=aw.start(rw),ow=aw.end(rw);if(4>tw-nw&&2<tw-nw)return{start:nw,end:ow}}return null}}]),ZL}(),qL={errorInterval:30,getSource:function(ZL){return ZL(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},WL=function(ZL){!function ew(tw,aw){var rw=0,nw=0,ow=rg.mergeOptions(qL,aw);tw.ready(function(){tw.trigger({type:"usage",name:"hls-error-reload-initialized"})});var sw=function(){nw&&tw.currentTime(nw)},iw=function(pw){null!=pw&&(nw=tw.duration()!==1/0&&tw.currentTime()||0,tw.one("loadedmetadata",sw),tw.src(pw),tw.trigger({type:"usage",name:"hls-error-reload"}),tw.play())},lw=function(){if(Date.now()-rw<1e3*ow.errorInterval)tw.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(ow.getSource&&"function"==typeof ow.getSource)return rw=Date.now(),ow.getSource.call(tw,iw);rg.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},dw=function pw(){tw.off("loadedmetadata",sw),tw.off("error",lw),tw.off("dispose",pw)};tw.on("error",lw),tw.on("dispose",dw),tw.reloadSourceOnError=function(pw){dw(),ew(tw,pw)}}(this,ZL)};rg.use("*",function(ZL){return{setSource:function(ew,tw){tw(null,ew)},setCurrentTime:function(ew){return ZL.vhs&&ZL.currentSource().src===ZL.vhs.source_.src&&ZL.vhs.setCurrentTime(ew),ew}}});var GL={PlaylistLoader:WE,Playlist:iP,Decrypter:AE,AsyncStream:LE,decrypt:xE,utils:yP,STANDARD_PLAYLIST_SELECTOR:function(){return function(ZL,ew,tw,aw){var rw=ZL.playlists.map(function(hw){var yw,fw;return yw=hw.attributes.RESOLUTION&&hw.attributes.RESOLUTION.width,fw=hw.attributes.RESOLUTION&&hw.attributes.RESOLUTION.height,{bandwidth:hw.attributes.BANDWIDTH||pg.Number.MAX_VALUE,width:yw,height:fw,playlist:hw}});gL(rw,function(hw,yw){return hw.bandwidth-yw.bandwidth});var nw=(rw=rw.filter(function(hw){return!iP.isIncompatible(hw.playlist)})).filter(function(hw){return iP.isEnabled(hw.playlist)});nw.length||(nw=rw.filter(function(hw){return!iP.isDisabled(hw.playlist)}));var ow=nw.filter(function(hw){return hw.bandwidth*rL.BANDWIDTH_VARIANCE<ew}),sw=ow[ow.length-1],iw=ow.filter(function(hw){return hw.bandwidth===sw.bandwidth})[0],lw=ow.filter(function(hw){return hw.width&&hw.height});gL(lw,function(hw,yw){return hw.width-yw.width});var dw=lw.filter(function(hw){return hw.width===tw&&hw.height===aw});sw=dw[dw.length-1];var pw=dw.filter(function(hw){return hw.bandwidth===sw.bandwidth})[0],uw,cw,mw;pw||(cw=(uw=lw.filter(function(hw){return hw.width>tw||hw.height>aw})).filter(function(hw){return hw.width===uw[0].width&&hw.height===uw[0].height}),sw=cw[cw.length-1],mw=cw.filter(function(hw){return hw.bandwidth===sw.bandwidth})[0]);var gw=mw||pw||iw||nw[0]||rw[0];return gw?gw.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(mL(this.tech_.el(),"width"),10),parseInt(mL(this.tech_.el(),"height"),10))},INITIAL_PLAYLIST_SELECTOR:function(){var ZL=this.playlists.master.playlists.filter(iP.isEnabled);return gL(ZL,function(ew,tw){return hL(ew,tw)}),ZL.filter(function(ew){return NP(ew.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:hL,comparePlaylistResolution:function(ZL,ew){var tw,aw;return ZL.attributes.RESOLUTION&&ZL.attributes.RESOLUTION.width&&(tw=ZL.attributes.RESOLUTION.width),tw=tw||pg.Number.MAX_VALUE,ew.attributes.RESOLUTION&&ew.attributes.RESOLUTION.width&&(aw=ew.attributes.RESOLUTION.width),tw===(aw=aw||pg.Number.MAX_VALUE)&&ZL.attributes.BANDWIDTH&&ew.attributes.BANDWIDTH?ZL.attributes.BANDWIDTH-ew.attributes.BANDWIDTH:tw-aw},xhr:pP()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(ZL){Object.defineProperty(GL,ZL,{get:function(){return rg.log.warn("using Hls."+ZL+" is UNSAFE be sure you know what you are doing"),rL[ZL]},set:function(ew){rg.log.warn("using Hls."+ZL+" is UNSAFE be sure you know what you are doing"),"number"!=typeof ew||0>ew?rg.log.warn("value of Hls."+ZL+" must be greater than or equal to 0"):rL[ZL]=ew}})});var YL=function(ZL){return /^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(ZL)?"hls":/^application\/dash\+xml/i.test(ZL)?"dash":null},XL=function(ZL,ew){for(var tw=ew.media(),aw=-1,rw=0;rw<ZL.length;rw++)if(ZL[rw].id===tw.uri){aw=rw;break}ZL.selectedIndex_=aw,ZL.trigger({selectedIndex:aw,type:"change"})};GL.canPlaySource=function(){return rg.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var KL=function(ZL){if("dash"===ZL.options_.sourceType){var ew=rg.players[ZL.tech_.options_.playerId];if(ew.eme){var tw=function(aw,rw,nw){if(!aw)return aw;var ow={};for(var sw in aw)ow[sw]={audioContentType:"audio/mp4; codecs=\""+nw.attributes.CODECS+"\"",videoContentType:"video/mp4; codecs=\""+rw.attributes.CODECS+"\""},rw.contentProtection&&rw.contentProtection[sw]&&rw.contentProtection[sw].pssh&&(ow[sw].pssh=rw.contentProtection[sw].pssh),"string"==typeof aw[sw]&&(ow[sw].url=aw[sw]);return rg.mergeOptions(aw,ow)}(ZL.source_.keySystems,ZL.playlists.media(),ZL.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());tw&&(ew.currentSource().keySystems=tw)}}};GL.supportsNativeHls=function(){var ZL=hg.createElement("video");return!!rg.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(ew){return /maybe|probably/i.test(ZL.canPlayType(ew))})}(),GL.supportsNativeDash=!!rg.getTech("Html5").isSupported()&&/maybe|probably/i.test(hg.createElement("video").canPlayType("application/dash+xml")),GL.supportsTypeNatively=function(ZL){return"hls"===ZL?GL.supportsNativeHls:"dash"==ZL&&GL.supportsNativeDash},GL.isSupported=function(){return rg.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var $L=rg.getComponent("Component"),QL=function(){function ew(tw,aw,rw){DE(this,ew);var nw=UE(this,(ew.__proto__||Object.getPrototypeOf(ew)).call(this,aw,rw.hls));if(aw.options_&&aw.options_.playerId){var ow=rg(aw.options_.playerId);ow.hasOwnProperty("hls")||Object.defineProperty(ow,"hls",{get:function(){return rg.log.warn("player.hls is deprecated. Use player.tech().hls instead."),aw.trigger({type:"usage",name:"hls-player-access"}),nw}}),ow.vhs=nw,ow.dash=nw}if(nw.tech_=aw,nw.source_=tw,nw.stats={},nw.setOptions_(),nw.options_.overrideNative&&aw.overrideNativeAudioTracks&&aw.overrideNativeVideoTracks)aw.overrideNativeAudioTracks(!0),aw.overrideNativeVideoTracks(!0);else if(nw.options_.overrideNative&&(aw.featuresNativeVideoTracks||aw.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return nw.on(hg,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(){var iw=hg.fullscreenElement||hg.webkitFullscreenElement||hg.mozFullScreenElement||hg.msFullscreenElement;iw&&iw.contains(nw.tech_.el())&&nw.masterPlaylistController_.smoothQualityChange_()}),nw.on(nw.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),nw.on(nw.tech_,"play",nw.play),nw}return RE(ew,$L),OE(ew,[{key:"setOptions_",value:function(){var tw=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth"].forEach(function(aw){"undefined"!=typeof tw.source_[aw]&&(tw.options_[aw]=tw.source_[aw])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(tw,aw){var rw=this;tw&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=GL,this.options_.sourceType=YL(aw),this.options_.seekTo=function(nw){rw.tech_.setCurrentTime(nw),rw.setCurrentTime(nw)},this.masterPlaylistController_=new jL(this.options_),this.playbackWatcher_=new zL(rg.mergeOptions(this.options_,{seekable:function(){return rw.seekable()}})),this.masterPlaylistController_.on("error",function(){rg.players[rw.tech_.options_.playerId].error(rw.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):GL.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=GL.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(nw){this.masterPlaylistController_.selectPlaylist=nw.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(nw){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=nw,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(nw){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=nw,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var nw=1/(this.bandwidth||1),ow;return ow=0<this.throughput?1/this.throughput:0,_Mathfloor(1/(nw+ow))},set:function(){rg.log.error("The \"systemBandwidth\" property is read-only")}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return rw.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return rw.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return rw.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return rw.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return rw.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return rw.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return rw.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return rw.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return vP(rw.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return rw.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return rw.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return rw.tech_.name_},enumerable:!0},duration:{get:function(){return rw.tech_.duration()},enumerable:!0},master:{get:function(){return rw.playlists.master},enumerable:!0},playerDimensions:{get:function(){return rw.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return vP(rw.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return rw.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){var nw,ow;ow=(nw=rw).playlists,nw.representations=function(){return ow.master.playlists.filter(function(sw){return!rP(sw)}).map(function(sw){return new HL(nw,sw,sw.uri)})},KL(rw)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return rw.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(rg.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var tw=this,aw=rg.players[this.tech_.options_.playerId];aw&&aw.qualityLevels&&(this.qualityLevels_=aw.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var rw,nw;rw=tw.qualityLevels_,(nw=tw).representations().forEach(function(ow){rw.addQualityLevel(ow)}),XL(rw,nw.playlists)}),this.playlists.on("mediachange",function(){XL(tw.qualityLevels_,tw.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(tw){this.masterPlaylistController_.setCurrentTime(tw)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),function tw(aw,rw,nw){null===aw&&(aw=Function.prototype);var ow=Object.getOwnPropertyDescriptor(aw,rw);if(void 0===ow){var sw=Object.getPrototypeOf(aw);return null===sw?void 0:tw(sw,rw,nw)}if("value"in ow)return ow.value;var iw=ow.get;return void 0===iw?void 0:iw.call(nw)}(ew.prototype.__proto__||Object.getPrototypeOf(ew.prototype),"dispose",this).call(this)}}]),ew}(),JL={name:"videojs-http-streaming",VERSION:"1.2.4",canHandleSource:function(ZL){var ew=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},tw=rg.mergeOptions(rg.options,ew);return JL.canPlayType(ZL.type,tw)},handleSource:function(ZL,ew){var tw=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},aw=rg.mergeOptions(rg.options,tw);return ew.hls=new QL(ZL,ew,aw),ew.hls.xhr=pP(),ew.hls.src(ZL.src,ZL.type),ew.hls},canPlayType:function(ZL){var ew=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},tw=rg.mergeOptions(rg.options,ew).hls.overrideNative,aw=YL(ZL);return aw&&(!GL.supportsTypeNatively(aw)||tw)?"maybe":""}};return"undefined"!=typeof rg.MediaSource&&"undefined"!=typeof rg.URL||(rg.MediaSource=KP,rg.URL=$P),KP.supportsNativeMediaSources()&&rg.getTech("Html5").registerSourceHandler(JL,0),rg.HlsHandler=QL,rg.HlsSourceHandler=JL,rg.Hls=GL,rg.use||rg.registerComponent("Hls",GL),rg.options.hls=rg.options.hls||{},rg.registerPlugin?rg.registerPlugin("reloadSourceOnError",WL):rg.plugin("reloadSourceOnError",WL),rg});!function(Pp,Lp){"function"==typeof define&&define.amd?define("videojs-hotkeys",["video.js"],function(xp){return Lp(xp.default||xp)}):"undefined"!=typeof module&&module.exports?module.exports=Lp(require("video.js")):Lp(videojs)}(0,function(Pp){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.21"}),(Pp.registerPlugin||Pp.plugin)("hotkeys",function(Lp){var xp=this,Ap=xp.el(),Ip=document,Op=Pp.mergeOptions||Pp.util.mergeOptions,Rp=(Lp=Op({volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(Yp){return 32===Yp.which||179===Yp.which},rewindKey:function(Yp){return 37===Yp.which||177===Yp.which},forwardKey:function(Yp){return 39===Yp.which||176===Yp.which},volumeUpKey:function(Yp){return 38===Yp.which},volumeDownKey:function(Yp){return 40===Yp.which},muteKey:function(Yp){return 77===Yp.which},fullscreenKey:function(Yp){return 70===Yp.which},customKeys:{}},Lp||{})).volumeStep,Up=Lp.seekStep,Mp=Lp.enableMute,Bp=Lp.enableVolumeScroll,Np=Lp.enableFullscreen,Fp=Lp.enableNumbers,jp=Lp.enableJogStyle,Hp=Lp.alwaysCaptureHotkeys,Vp=Lp.enableModifiersForNumbers,zp=Lp.enableInactiveFocus,qp=Lp.skipInitialFocus;Ap.hasAttribute("tabIndex")||Ap.setAttribute("tabIndex","-1"),Ap.style.outline="none",!Hp&&xp.autoplay()||qp||xp.one("play",function(){Ap.focus()}),zp&&xp.on("userinactive",function(){var Yp=function(){clearTimeout(Xp)},Xp=setTimeout(function(){xp.off("useractive",Yp),Ip.activeElement.parentElement==Ap.querySelector(".vjs-control-bar")&&Ap.focus()},10);xp.one("useractive",Yp)}),xp.on("play",function(){var Yp=Ap.querySelector(".iframeblocker");Yp&&""===Yp.style.display&&(Yp.style.display="block",Yp.style.bottom="39px")});var Wp=function(Yp){if(xp.controls()){var Xp=Ip.activeElement;if((Hp||Xp==Ap||Xp==Ap.querySelector(".vjs-tech")||Xp==Ap.querySelector(".iframeblocker")||Xp==Ap.querySelector(".vjs-control-bar"))&&Bp){Yp=window.event||Yp;var Kp=_Mathmax(-1,_Mathmin(1,Yp.wheelDelta||-Yp.detail));Yp.preventDefault(),1==Kp?xp.volume(xp.volume()+Rp):-1==Kp&&xp.volume(xp.volume()-Rp)}}},Gp=function(Yp,Xp){return Lp.playPauseKey(Yp,Xp)?1:Lp.rewindKey(Yp,Xp)?2:Lp.forwardKey(Yp,Xp)?3:Lp.volumeUpKey(Yp,Xp)?4:Lp.volumeDownKey(Yp,Xp)?5:Lp.muteKey(Yp,Xp)?6:Lp.fullscreenKey(Yp,Xp)?7:void 0};return xp.on("keydown",function(Yp){var $p=Yp.which,Qp=Yp.preventDefault,Jp=xp.duration(),Xp,Kp;if(xp.controls()){var Zp=Ip.activeElement;if(Hp||Zp==Ap||Zp==Ap.querySelector(".vjs-tech")||Zp==Ap.querySelector(".vjs-control-bar")||Zp==Ap.querySelector(".iframeblocker"))switch(Gp(Yp,xp)){case 1:Qp(),Hp&&Yp.stopPropagation(),xp.paused()?xp.play():xp.pause();break;case 2:Xp=!xp.paused(),Qp(),Xp&&xp.pause(),Kp=xp.currentTime()-Up,xp.currentTime()<=Up&&(Kp=0),xp.currentTime(Kp),Xp&&xp.play();break;case 3:Xp=!xp.paused(),Qp(),Xp&&xp.pause(),(Kp=xp.currentTime()+Up)>=Jp&&(Kp=Xp?Jp-.001:Jp),xp.currentTime(Kp),Xp&&xp.play();break;case 5:Qp(),jp?(Kp=xp.currentTime()-1,1>=xp.currentTime()&&(Kp=0),xp.currentTime(Kp)):xp.volume(xp.volume()-Rp);break;case 4:Qp(),jp?((Kp=xp.currentTime()+1)>=Jp&&(Kp=Jp),xp.currentTime(Kp)):xp.volume(xp.volume()+Rp);break;case 6:Mp&&xp.muted(!xp.muted());break;case 7:Np&&(xp.isFullscreen()?xp.exitFullscreen():xp.requestFullscreen());break;default:if((47<$p&&59>$p||95<$p&&106>$p)&&(Vp||!(Yp.metaKey||Yp.ctrlKey||Yp.altKey))&&Fp){var em=48;95<$p&&(em=96);var tm=$p-em;Qp(),xp.currentTime(.1*(xp.duration()*tm))}for(var am in Lp.customKeys){var rm=Lp.customKeys[am];rm&&rm.key&&rm.handler&&rm.key(Yp)&&(Qp(),rm.handler(xp,Lp,Yp))}}}}),xp.on("dblclick",function(Yp){if(xp.controls()){var Xp=Yp.relatedTarget||Yp.toElement||Ip.activeElement;Xp!=Ap&&Xp!=Ap.querySelector(".vjs-tech")&&Xp!=Ap.querySelector(".iframeblocker")||Np&&(xp.isFullscreen()?xp.exitFullscreen():xp.requestFullscreen())}}),xp.on("mousewheel",Wp),xp.on("DOMMouseScroll",Wp),this})});define("vjs-res",[],function(){"use strict";function Pp(Dp,Op){if(!(Dp instanceof Op))throw new TypeError("Cannot call a class as a function")}function Lp(Dp,Op){if(!Dp)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Op&&("object"==typeof Op||"function"==typeof Op)?Op:Dp}function xp(Dp,Op){if("function"!=typeof Op&&null!==Op)throw new TypeError("Super expression must either be null or a function, not "+typeof Op);Dp.prototype=Object.create(Op&&Op.prototype,{constructor:{value:Dp,enumerable:!1,writable:!0,configurable:!0}}),Op&&(Object.setPrototypeOf?Object.setPrototypeOf(Dp,Op):Dp.__proto__=Op)}var Ap=function(){function Dp(Op,Rp){for(var Up=0,Mp;Up<Rp.length;Up++)Mp=Rp[Up],Mp.enumerable=Mp.enumerable||!1,Mp.configurable=!0,"value"in Mp&&(Mp.writable=!0),Object.defineProperty(Op,Mp.key,Mp)}return function(Op,Rp,Up){return Rp&&Dp(Op.prototype,Rp),Up&&Dp(Op,Up),Op}}(),Ip=function Dp(Op,Rp,Up){null===Op&&(Op=Function.prototype);var Mp=Object.getOwnPropertyDescriptor(Op,Rp);if(Mp===void 0){var Bp=Object.getPrototypeOf(Op);return null===Bp?void 0:Dp(Bp,Rp,Up)}if("value"in Mp)return Mp.value;var Np=Mp.get;return void 0===Np?void 0:Np.call(Up)};(function(){var Dp=null;Dp=window.videojs,function(Op,Rp){function Up(qp,Wp){return Np=Wp.res,qp.src(Wp),qp}var Mp={},Bp={},Np=null,Fp=Rp.getComponent("MenuItem"),jp=function(qp){function Wp(Gp,Yp){Pp(this,Wp),Yp.selected=Np===Yp.source.res,Yp.selectable=!0,Yp.label=Yp.source.res+"px";var Xp=Lp(this,(Wp.__proto__||Object.getPrototypeOf(Wp)).call(this,Gp,Yp));return Xp.source=Yp.source,Xp.on(Gp,"resolutionchange",Xp.update),Xp}return xp(Wp,qp),Ap(Wp,[{key:"handleClick",value:function(){Ip(Wp.prototype.__proto__||Object.getPrototypeOf(Wp.prototype),"handleClick",this).call(this);var Yp=this.player_.currentTime(),Xp=this.player_.paused(),Kp=this.player_.playbackRate();this.addClass("vjs-selected"),Xp||this.player_.bigPlayButton.hide();var $p="loadeddata";"Youtube"!==this.player_.techName_&&"none"===this.player_.preload()&&"Flash"!==this.player_.techName_&&($p="timeupdate"),Up(this.player_,this.options_.source).one($p,function(){this.player_.currentTime(Yp),this.player_.playbackRate(Kp),this.player_.handleTechSeeked_(),Xp||(this.player_.play(),this.player_.handleTechSeeked_()),this.player_.trigger("resolutionchange")})}},{key:"update",value:function(){this.selected(Np===this.options_.source.res)}}]),Wp}(Fp),Hp=Rp.getComponent("MenuButton"),Vp=Rp.getComponent("Menu"),zp=function(qp){function Wp(Gp,Yp){Pp(this,Wp),Yp.title=Yp.choosen.res;var Xp=Lp(this,(Wp.__proto__||Object.getPrototypeOf(Wp)).call(this,Gp,Yp));return Xp.controlText(Yp.initialySelectedRes),Xp.updateVisibility(),Xp.on(Gp,"loadstart",Xp.updateVisibility),Xp.on(Gp,"resolutionchange",Xp.updateLabel),Xp}return xp(Wp,qp),Ap(Wp,[{key:"buildCSSClass",value:function(){return"vjs-resolution "+Ip(Wp.prototype.__proto__||Object.getPrototypeOf(Wp.prototype),"buildCSSClass",this).call(this)}},{key:"buildWrapperCSSClass",value:function(){return"vjs-resolution "+Ip(Wp.prototype.__proto__||Object.getPrototypeOf(Wp.prototype),"buildWrapperCSSClass",this).call(this)}},{key:"createMenu",value:function(){var Yp=this,Xp=new Vp(this.player());return(this.options_.sources||[]).forEach(function(Kp){Xp.addChild(new jp(Yp.player(),{source:Kp}))}),Xp}},{key:"updateARIAAttributes",value:function(){this.el().setAttribute("aria-valuenow",Np+"px")}},{key:"createEl",value:function(){var Yp=Ip(Wp.prototype.__proto__||Object.getPrototypeOf(Wp.prototype),"createEl",this).call(this);return this.labelEl_=Rp.dom.createEl("div",{className:"vjs-resolution-value",innerHTML:this.options_.choosen.res+"px"}),Yp.appendChild(this.labelEl_),Yp}},{key:"dispose",value:function(){this.labelEl_=null,Ip(Wp.prototype.__proto__||Object.getPrototypeOf(Wp.prototype),"dispose",this).call(this)}},{key:"updateLabel",value:function(){this.controlText(Np+"px"),this.labelEl_.innerHTML=Np+"px"}},{key:"updateVisibility",value:function(){1<this.options_.sources.length?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}}]),Wp}(Hp);Bp=function(Wp){function Gp($p,Qp){return $p.res&&Qp.res?+Qp.res-+$p.res:0}function Yp($p,Qp){var Jp=Qp["default"],Zp=$p.reduce(function(em,tm){return _Mathabs(tm.res-Jp)<_Mathabs(em.res-Jp)?tm:em},$p[0]);return Zp}var Xp=Rp.mergeOptions(Mp,Wp),Kp=this;Kp.currentResolution=function(){return Np},Kp.updateSrc=function($p){var Qp=$p.map(function(em){var tm=em.type,am=em.src,rm=em["data-vjs-res"];return{type:tm,src:am,res:rm}});if(!Qp)return Kp.src();Kp.controlBar.resolutionSwitcher&&(Kp.controlBar.resolutionSwitcher.dispose(),delete Kp.controlBar.resolutionSwitcher),Qp=Qp.sort(Gp);var Jp=Yp(Qp,Xp),Zp=new zp(Kp,{sources:Qp,choosen:Jp},Xp);return Rp.dom.addClass(Zp.el(),"vjs-resolution-button"),Kp.controlBar.resolutionSwitcher=Kp.controlBar.el_.insertBefore(Zp.el_,Kp.controlBar.getChild("fullscreenToggle").el_),Kp.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)},Up(Kp,Jp)},Kp.ready(function(){1<Kp.options_.sources.length&&Kp.updateSrc(Kp.options_.sources)})},Rp.registerPlugin("videoJsResolutionSwitcher",Bp)}(window,Dp)})()});videojs.addLanguage("en",{"Audio Player":"Audio Player","Video Player":"Video Player",Play:"Play",Pause:"Pause",Replay:"Replay","Current Time":"Current Time",Duration:"Duration","Remaining Time":"Remaining Time","Stream Type":"Stream Type",LIVE:"LIVE",Loaded:"Loaded",Progress:"Progress","Progress Bar":"Progress Bar","progress bar timing: currentTime={1} duration={2}":"{1} of {2}",Fullscreen:"Fullscreen","Non-Fullscreen":"Non-Fullscreen",Mute:"Mute",Unmute:"Unmute","Playback Rate":"Playback Rate",Subtitles:"Subtitles","subtitles off":"subtitles off",Captions:"Captions","captions off":"captions off",Chapters:"Chapters",Descriptions:"Descriptions","descriptions off":"descriptions off","Audio Track":"Audio Track","Volume Level":"Volume Level","You aborted the media playback":"You aborted the media playback","A network error caused the media download to fail part-way.":"A network error caused the media download to fail part-way.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"The media could not be loaded, either because the server or network failed or because the format is not supported.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.","No compatible source was found for this media.":"No compatible source was found for this media.","The media is encrypted and we do not have the keys to decrypt it.":"The media is encrypted and we do not have the keys to decrypt it.","Play Video":"Play Video",Close:"Close","Close Modal Dialog":"Close Modal Dialog","Modal Window":"Modal Window","This is a modal window":"This is a modal window","This modal can be closed by pressing the Escape key or activating the close button.":"This modal can be closed by pressing the Escape key or activating the close button.",", opens captions settings dialog":", opens captions settings dialog",", opens subtitles settings dialog":", opens subtitles settings dialog",", opens descriptions settings dialog":", opens descriptions settings dialog",", selected":", selected","captions settings":"captions settings","subtitles settings":"subititles settings","descriptions settings":"descriptions settings",Text:"Text",White:"White",Black:"Black",Red:"Red",Green:"Green",Blue:"Blue",Yellow:"Yellow",Magenta:"Magenta",Cyan:"Cyan",Background:"Background",Window:"Window",Transparent:"Transparent","Semi-Transparent":"Semi-Transparent",Opaque:"Opaque","Font Size":"Font Size","Text Edge Style":"Text Edge Style",None:"None",Raised:"Raised",Depressed:"Depressed",Uniform:"Uniform",Dropshadow:"Dropshadow","Font Family":"Font Family","Proportional Sans-Serif":"Proportional Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportional Serif","Monospace Serif":"Monospace Serif",Casual:"Casual",Script:"Script","Small Caps":"Small Caps",Reset:"Reset","restore all settings to the default values":"restore all settings to the default values",Done:"Done","Caption Settings Dialog":"Caption Settings Dialog","Beginning of dialog window. Escape will cancel and close the window.":"Beginning of dialog window. Escape will cancel and close the window.","End of dialog window.":"End of dialog window.","{1} is loading.":"{1} is loading."});videojs.addLanguage("ru",{"Audio Player":"\u0410\u0443\u0434\u0438\u043E \u043F\u0440\u043E\u0438\u0433\u0440\u044B\u0432\u0430\u0442\u0435\u043B\u044C","Video Player":"\u0412\u0438\u0434\u0435\u043E \u043F\u0440\u043E\u0438\u0433\u0440\u044B\u0432\u0430\u0442\u0435\u043B\u044C",Play:"\u0412\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438",Pause:"\u041F\u0440\u0438\u043E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C",Replay:"\u0412\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0441\u043D\u043E\u0432\u0430","Current Time":"\u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0432\u0440\u0435\u043C\u044F",Duration:"\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C","Remaining Time":"\u041E\u0441\u0442\u0430\u0432\u0448\u0435\u0435\u0441\u044F \u0432\u0440\u0435\u043C\u044F","Stream Type":"\u0422\u0438\u043F \u043F\u043E\u0442\u043E\u043A\u0430",LIVE:"\u041E\u041D\u041B\u0410\u0419\u041D",Loaded:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",Progress:"\u041F\u0440\u043E\u0433\u0440\u0435\u0441\u0441","Progress Bar":"\u0418\u043D\u0434\u0438\u043A\u0430\u0442\u043E\u0440 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438","progress bar timing: currentTime={1} duration={2}":"{1} \u0438\u0437 {2}",Fullscreen:"\u041F\u043E\u043B\u043D\u043E\u044D\u043A\u0440\u0430\u043D\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C","Non-Fullscreen":"\u041D\u0435\u043F\u043E\u043B\u043D\u043E\u044D\u043A\u0440\u0430\u043D\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C",Mute:"\u0411\u0435\u0437 \u0437\u0432\u0443\u043A\u0430",Unmute:"\u0421\u043E \u0437\u0432\u0443\u043A\u043E\u043C","Playback Rate":"\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F",Subtitles:"\u0421\u0443\u0431\u0442\u0438\u0442\u0440\u044B","subtitles off":"\u0421\u0443\u0431\u0442\u0438\u0442\u0440\u044B \u0432\u044B\u043A\u043B.",Captions:"\u041F\u043E\u0434\u043F\u0438\u0441\u0438","captions off":"\u041F\u043E\u0434\u043F\u0438\u0441\u0438 \u0432\u044B\u043A\u043B.",Chapters:"\u0413\u043B\u0430\u0432\u044B",Descriptions:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u044F","descriptions off":"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u044F","Audio Track":"\u0417\u0432\u0443\u043A\u043E\u0432\u0430\u044F \u0434\u043E\u0440\u043E\u0436\u043A\u0430","Volume Level":"\u0423\u0440\u043E\u0432\u0435\u043D\u044C \u0433\u0440\u043E\u043C\u043A\u043E\u0441\u0442\u0438","You aborted the media playback":"\u0412\u044B \u043F\u0440\u0435\u0440\u0432\u0430\u043B\u0438 \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u0432\u0438\u0434\u0435\u043E","A network error caused the media download to fail part-way.":"\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0442\u0438 \u0432\u044B\u0437\u0432\u0430\u043B\u0430 \u0441\u0431\u043E\u0439 \u0432\u043E \u0432\u0440\u0435\u043C\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0432\u0438\u0434\u0435\u043E.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0432\u0438\u0434\u0435\u043E \u0438\u0437-\u0437\u0430 \u0441\u0435\u0442\u0435\u0432\u043E\u0433\u043E \u0438\u043B\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043D\u043E\u0433\u043E \u0441\u0431\u043E\u044F \u043B\u0438\u0431\u043E \u0444\u043E\u0440\u043C\u0430\u0442 \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"\u0412\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u0432\u0438\u0434\u0435\u043E \u0431\u044B\u043B\u043E \u043F\u0440\u0438\u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E \u0438\u0437-\u0437\u0430 \u043F\u043E\u0432\u0440\u0435\u0436\u0434\u0435\u043D\u0438\u044F \u043B\u0438\u0431\u043E \u0432 \u0441\u0432\u044F\u0437\u0438 \u0441 \u0442\u0435\u043C, \u0447\u0442\u043E \u0432\u0438\u0434\u0435\u043E \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442 \u0444\u0443\u043D\u043A\u0446\u0438\u0438, \u043D\u0435\u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043C\u044B\u0435 \u0432\u0430\u0448\u0438\u043C \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043E\u043C.","No compatible source was found for this media.":"\u0421\u043E\u0432\u043C\u0435\u0441\u0442\u0438\u043C\u044B\u0435 \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0438 \u0434\u043B\u044F \u044D\u0442\u043E\u0433\u043E \u0432\u0438\u0434\u0435\u043E \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442.","The media is encrypted and we do not have the keys to decrypt it.":"\u0412\u0438\u0434\u0435\u043E \u0432 \u0437\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u043C \u0432\u0438\u0434\u0435, \u0438 \u0443 \u043D\u0430\u0441 \u043D\u0435\u0442 \u043A\u043B\u044E\u0447\u0435\u0439 \u0434\u043B\u044F \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043E\u0432\u043A\u0438.","Play Video":"\u0412\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0432\u0438\u0434\u0435\u043E",Close:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C","Close Modal Dialog":"\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u043C\u043E\u0434\u0430\u043B\u044C\u043D\u043E\u0435 \u043E\u043A\u043D\u043E","Modal Window":"\u041C\u043E\u0434\u0430\u043B\u044C\u043D\u043E\u0435 \u043E\u043A\u043D\u043E","This is a modal window":"\u042D\u0442\u043E \u043C\u043E\u0434\u0430\u043B\u044C\u043D\u043E\u0435 \u043E\u043A\u043D\u043E","This modal can be closed by pressing the Escape key or activating the close button.":"\u041C\u043E\u0434\u0430\u043B\u044C\u043D\u043E\u0435 \u043E\u043A\u043D\u043E \u043C\u043E\u0436\u043D\u043E \u0437\u0430\u043A\u0440\u044B\u0442\u044C \u043D\u0430\u0436\u0430\u0432 Esc \u0438\u043B\u0438 \u043A\u043D\u043E\u043F\u043A\u0443 \u0437\u0430\u043A\u0440\u044B\u0442\u0438\u044F \u043E\u043A\u043D\u0430.",", opens captions settings dialog":", \u043E\u0442\u043A\u0440\u043E\u0435\u0442\u0441\u044F \u0434\u0438\u0430\u043B\u043E\u0433 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043F\u043E\u0434\u043F\u0438\u0441\u0435\u0439",", opens subtitles settings dialog":", \u043E\u0442\u043A\u0440\u043E\u0435\u0442\u0441\u044F \u0434\u0438\u0430\u043B\u043E\u0433 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0443\u0431\u0442\u0438\u0442\u0440\u043E\u0432",", opens descriptions settings dialog":", \u043E\u0442\u043A\u0440\u043E\u0435\u0442\u0441\u044F \u0434\u0438\u0430\u043B\u043E\u0433 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0439",", selected":", \u0432\u044B\u0431\u0440\u0430\u043D\u043E","captions settings":"\u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043F\u043E\u0434\u043F\u0438\u0441\u0435\u0439","subtitles settings":"\u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0443\u0431\u0442\u0438\u0442\u0440\u043E\u0432","descriptions settings":"\u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0439",Text:"\u0422\u0435\u043A\u0441\u0442",White:"\u0411\u0435\u043B\u044B\u0439",Black:"\u0427\u0435\u0440\u043D\u044B\u0439",Red:"\u041A\u0440\u0430\u0441\u043D\u044B\u0439",Green:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439",Blue:"\u0421\u0438\u043D\u0438\u0439",Yellow:"\u0416\u0435\u043B\u0442\u044B\u0439",Magenta:"\u041F\u0443\u0440\u043F\u0443\u0440\u043D\u044B\u0439",Cyan:"\u0413\u043E\u043B\u0443\u0431\u043E\u0439",Background:"\u0424\u043E\u043D",Window:"\u041E\u043A\u043D\u043E",Transparent:"\u041F\u0440\u043E\u0437\u0440\u0430\u0447\u043D\u044B\u0439","Semi-Transparent":"\u041F\u043E\u043B\u0443\u043F\u0440\u043E\u0437\u0440\u0430\u0447\u043D\u044B\u0439",Opaque:"\u041F\u0440\u043E\u0437\u0440\u0430\u0447\u043D\u043E\u0441\u0442\u044C","Font Size":"\u0420\u0430\u0437\u043C\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430","Text Edge Style":"\u0421\u0442\u0438\u043B\u044C \u043A\u0440\u0430\u044F \u0442\u0435\u043A\u0441\u0442\u0430",None:"\u041D\u0438\u0447\u0435\u0433\u043E",Raised:"\u041F\u043E\u0434\u043D\u044F\u0442\u044B\u0439",Depressed:"\u041F\u043E\u043D\u0438\u0436\u0435\u043D\u043D\u044B\u0439",Uniform:"\u041E\u0434\u0438\u043D\u0430\u043A\u043E\u0432\u044B\u0439",Dropshadow:"\u0422\u0435\u043D\u044C","Font Family":"\u0428\u0440\u0438\u0444\u0442","Proportional Sans-Serif":"\u041F\u0440\u043E\u043F\u043E\u0440\u0446\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0439 \u0431\u0435\u0437 \u0437\u0430\u0441\u0435\u0447\u0435\u043A","Monospace Sans-Serif":"\u041C\u043E\u043D\u043E\u0448\u0438\u0440\u0438\u043D\u043D\u044B\u0439 \u0431\u0435\u0437 \u0437\u0430\u0441\u0435\u0447\u0435\u043A","Proportional Serif":"\u041F\u0440\u043E\u043F\u043E\u0440\u0446\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0439 \u0441 \u0437\u0430\u0441\u0435\u0447\u043A\u0430\u043C\u0438","Monospace Serif":"\u041C\u043E\u043D\u043E\u0448\u0438\u0440\u0438\u043D\u043D\u044B\u0439 \u0441 \u0437\u0430\u0441\u0435\u0447\u043A\u0430\u043C\u0438",Casual:"\u0421\u043B\u0443\u0447\u0430\u0439\u043D\u044B\u0439",Script:"\u041F\u0438\u0441\u044C\u043C\u0435\u043D\u043D\u044B\u0439","Small Caps":"\u041C\u0430\u043B\u044B\u0435 \u043F\u0440\u043E\u043F\u0438\u0441\u043D\u044B\u0435",Reset:"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C","restore all settings to the default values":"\u0441\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0432\u0441\u0435 \u043D\u0430\u0439\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",Done:"\u0413\u043E\u0442\u043E\u0432\u043E","Caption Settings Dialog":"\u0414\u0438\u0430\u043B\u043E\u0433 \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043A \u043F\u043E\u0434\u043F\u0438\u0441\u0438","Beginning of dialog window. Escape will cancel and close the window.":"\u041D\u0430\u0447\u0430\u043B\u043E \u0434\u0438\u0430\u043B\u043E\u0433\u043E\u0432\u0433\u043E \u043E\u043A\u043D\u0430. \u041A\u043D\u043E\u043F\u043A\u0430 Escape \u0437\u0430\u043A\u0440\u043E\u0435\u0442 \u0438\u043B\u0438 \u043E\u0442\u043C\u0435\u043D\u0438\u0442 \u043E\u043A\u043D\u043E","End of dialog window.":"\u041A\u043E\u043D\u0435\u0446 \u0434\u0438\u0430\u043B\u043E\u0433\u043E\u0432\u043E\u0433\u043E \u043E\u043A\u043D\u0430."});videojs.addLanguage("uk",{Play:"\u0412\u0456\u0434\u0442\u0432\u043E\u0440\u0438\u0442\u0438",Pause:"\u041F\u0440\u0438\u0437\u0443\u043F\u0438\u043D\u0438\u0442\u0438","Current Time":"\u041F\u043E\u0442\u043E\u0447\u043D\u0438\u0439 \u0447\u0430\u0441",Duration:"\u0422\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C","Remaining Time":"\u0427\u0430\u0441, \u0449\u043E \u0437\u0430\u043B\u0438\u0448\u0438\u0432\u0441\u044F","Stream Type":"\u0422\u0438\u043F \u043F\u043E\u0442\u043E\u043A\u0443",LIVE:"\u041D\u0410\u0416\u0418\u0412\u041E",Loaded:"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F",Progress:"\u041F\u0440\u043E\u0433\u0440\u0435\u0441",Fullscreen:"\u041F\u043E\u0432\u043D\u043E\u0435\u043A\u0440\u0430\u043D\u043D\u0438\u0439 \u0440\u0435\u0436\u0438\u043C","Non-Fullscreen":"\u041D\u0435\u043F\u043E\u0432\u043D\u043E\u0435\u043A\u0440\u0430\u043D\u043D\u0438\u0439 \u0440\u0435\u0436\u0438\u043C",Mute:"\u0411\u0435\u0437 \u0437\u0432\u0443\u043A\u0443",Unmute:"\u0417\u0456 \u0437\u0432\u0443\u043A\u043E\u043C","Playback Rate":"\u0428\u0432\u0438\u0434\u043A\u0456\u0441\u0442\u044C \u0432\u0456\u0434\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F",Subtitles:"\u0421\u0443\u0431\u0442\u0438\u0442\u0440\u0438","subtitles off":"\u0411\u0435\u0437 \u0441\u0443\u0431\u0442\u0438\u0442\u0440\u0456\u0432",Captions:"\u041F\u0456\u0434\u043F\u0438\u0441\u0438","captions off":"\u0411\u0435\u0437 \u043F\u0456\u0434\u043F\u0438\u0441\u0456\u0432",Chapters:"\u0420\u043E\u0437\u0434\u0456\u043B\u0438","Close Modal Dialog":"\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u043C\u043E\u0434\u0430\u043B\u044C\u043D\u0438\u0439 \u0434\u0456\u0430\u043B\u043E\u0433",Descriptions:"\u041E\u043F\u0438\u0441\u0438","descriptions off":"\u0411\u0435\u0437 \u043E\u043F\u0438\u0441\u0456\u0432","Audio Track":"\u0410\u0443\u0434\u0456\u043E\u0434\u043E\u0440\u0456\u0436\u043A\u0430","You aborted the media playback":"\u0412\u0438 \u043F\u0440\u0438\u043F\u0438\u043D\u0438\u043B\u0438 \u0432\u0456\u0434\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u0432\u0456\u0434\u0435\u043E","A network error caused the media download to fail part-way.":"\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043C\u0435\u0440\u0435\u0436\u0456 \u0432\u0438\u043A\u043B\u0438\u043A\u0430\u043B\u0430 \u0437\u0431\u0456\u0439 \u043F\u0456\u0434 \u0447\u0430\u0441 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0432\u0456\u0434\u0435\u043E.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"\u041D\u0435\u043C\u043E\u0436\u043B\u0438\u0432\u043E \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438 \u0432\u0456\u0434\u0435\u043E \u0447\u0435\u0440\u0435\u0437 \u043C\u0435\u0440\u0435\u0436\u0435\u0432\u0438\u0439 \u0447\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043D\u0438\u0439 \u0437\u0431\u0456\u0439 \u0430\u0431\u043E \u0444\u043E\u0440\u043C\u0430\u0442 \u043D\u0435 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0443\u0454\u0442\u044C\u0441\u044F.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"\u0412\u0456\u0434\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u0432\u0456\u0434\u0435\u043E \u0431\u0443\u043B\u043E \u043F\u0440\u0438\u043F\u0438\u043D\u0435\u043D\u043E \u0447\u0435\u0440\u0435\u0437 \u043F\u043E\u0448\u043A\u043E\u0434\u0436\u0435\u043D\u043D\u044F \u0430\u0431\u043E \u0443 \u0437\u0432'\u044F\u0437\u043A\u0443 \u0437 \u0442\u0438\u043C, \u0449\u043E \u0432\u0456\u0434\u0435\u043E \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0454 \u0444\u0443\u043D\u043A\u0446\u0456\u0457, \u044F\u043A\u0456 \u043D\u0435 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0443\u044E\u0442\u044C\u0441\u044F \u0432\u0430\u0448\u0438\u043C \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043E\u043C.","No compatible source was found for this media.":"\u0421\u0443\u043C\u0456\u0441\u043D\u0456 \u0434\u0436\u0435\u0440\u0435\u043B\u0430 \u0434\u043B\u044F \u0446\u044C\u043E\u0433\u043E \u0432\u0456\u0434\u0435\u043E \u0432\u0456\u0434\u0441\u0443\u0442\u043D\u0456.","The media is encrypted and we do not have the keys to decrypt it.":"\u0412\u0456\u0434\u0435\u043E \u0432 \u0437\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043E\u043C\u0443 \u0432\u0438\u0433\u043B\u044F\u0434\u0456, \u0456 \u043C\u0438 \u043D\u0435 \u043C\u0430\u0454\u043C\u043E \u043A\u043B\u044E\u0447\u0456 \u0434\u043B\u044F \u0440\u043E\u0437\u0448\u0438\u0444\u0440\u043E\u0432\u043A\u0438.","Play Video":"\u0412\u0456\u0434\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0432\u0456\u0434\u0435\u043E",Close:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438","Modal Window":"\u041C\u043E\u0434\u0430\u043B\u044C\u043D\u0435 \u0432\u0456\u043A\u043D\u043E","This is a modal window":"\u0426\u0435 \u043C\u043E\u0434\u0430\u043B\u044C\u043D\u0435 \u0432\u0456\u043A\u043D\u043E.","This modal can be closed by pressing the Escape key or activating the close button.":"\u041C\u043E\u0434\u0430\u043B\u044C\u043D\u0435 \u0432\u0456\u043A\u043D\u043E \u043C\u043E\u0436\u043D\u0430 \u0437\u0430\u043A\u0440\u0438\u0442\u0438, \u043D\u0430\u0442\u0438\u0441\u043D\u0443\u0432\u0448\u0438 \u043A\u043B\u0430\u0432\u0456\u0448\u0443 Esc \u0430\u0431\u043E \u043A\u043D\u043E\u043F\u043A\u0443 \u0437\u0430\u043A\u0440\u0438\u0442\u0442\u044F \u0432\u0456\u043A\u043D\u0430.",", opens captions settings dialog":", \u0432\u0456\u0434\u043A\u0440\u0438\u0454\u0442\u044C\u0441\u044F \u0434\u0456\u0430\u043B\u043E\u0433\u043E\u0432\u0435 \u0432\u0456\u043A\u043D\u043E \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u043F\u0456\u0434\u043F\u0438\u0441\u0456\u0432",", opens subtitles settings dialog":", \u0432\u0456\u0434\u043A\u0440\u0438\u0454\u0442\u044C\u0441\u044F \u0434\u0456\u0430\u043B\u043E\u0433\u043E\u0432\u0435 \u0432\u0456\u043A\u043D\u043E \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0441\u0443\u0431\u0442\u0438\u0442\u0440\u0456\u0432",", opens descriptions settings dialog":", \u0432\u0456\u0434\u043A\u0440\u0438\u0454\u0442\u044C\u0441\u044F \u0434\u0456\u0430\u043B\u043E\u0433\u043E\u0432\u0435 \u0432\u0456\u043A\u043D\u043E \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u043E\u043F\u0438\u0441\u0456\u0432",", selected":", \u043E\u0431\u0440\u0430\u043D\u0438\u0439"});videojs.addLanguage("es",{Play:"Reproducci\xF3n","Play Video":"Reproducci\xF3n V\xEDdeo",Pause:"Pausa","Current Time":"Tiempo reproducido",Duration:"Duraci\xF3n total","Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:"DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Pantalla no completa",Mute:"Silenciar",Unmute:"No silenciado","Playback Rate":"Velocidad de reproducci\xF3n",Subtitles:"Subt\xEDtulos","subtitles off":"Subt\xEDtulos desactivados",Captions:"Subt\xEDtulos especiales","captions off":"Subt\xEDtulos especiales desactivados",Chapters:"Cap\xEDtulos","You aborted the media playback":"Ha interrumpido la reproducci\xF3n del v\xEDdeo.","A network error caused the media download to fail part-way.":"Un error de red ha interrumpido la descarga del v\xEDdeo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"No se ha podido cargar el v\xEDdeo debido a un fallo de red o del servidor o porque el formato es incompatible.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La reproducci\xF3n de v\xEDdeo se ha interrumpido por un problema de corrupci\xF3n de datos o porque el v\xEDdeo precisa funciones que su navegador no ofrece.","No compatible source was found for this media.":"No se ha encontrado ninguna fuente compatible con este v\xEDdeo."});videojs.addLanguage("de",{Play:"Wiedergabe",Pause:"Pause",Replay:"Erneut abspielen","Current Time":"Aktueller Zeitpunkt",Duration:"Dauer","Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:"LIVE",Loaded:"Geladen",Progress:"Status",Fullscreen:"Vollbild","Non-Fullscreen":"Kein Vollbild",Mute:"Ton aus",Unmute:"Ton ein","Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:"Untertitel","subtitles off":"Untertitel aus",Captions:"Untertitel","captions off":"Untertitel aus",Chapters:"Kapitel","You aborted the media playback":"Sie haben die Videowiedergabe abgebrochen.","A network error caused the media download to fail part-way.":"Der Videodownload ist aufgrund eines Netzwerkfehlers fehlgeschlagen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Das Video konnte nicht geladen werden, da entweder ein Server- oder Netzwerkfehler auftrat oder das Format nicht unterst\xFCtzt wird.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Die Videowiedergabe wurde entweder wegen eines Problems mit einem besch\xE4digten Video oder wegen verwendeten Funktionen, die vom Browser nicht unterst\xFCtzt werden, abgebrochen.","No compatible source was found for this media.":"F\xFCr dieses Video wurde keine kompatible Quelle gefunden.","Play Video":"Video abspielen",Close:"Schlie\xDFen","Modal Window":"Modales Fenster","This is a modal window":"Dies ist ein modales Fenster","This modal can be closed by pressing the Escape key or activating the close button.":"Durch Dr\xFCcken der Esc-Taste bzw. Bet\xE4tigung der Schaltfl\xE4che \"Schlie\xDFen\" wird dieses modale Fenster geschlossen.",", opens captions settings dialog":", \xF6ffnet Einstellungen f\xFCr Untertitel",", opens subtitles settings dialog":", \xF6ffnet Einstellungen f\xFCr Untertitel",", selected":", ausgew\xE4hlt","captions settings":"Untertiteleinstellungen","subtitles settings":"Untertiteleinstellungen","descriptions settings":"Einstellungen f\xFCr Beschreibungen","Close Modal Dialog":"Modales Fenster schlie\xDFen",Descriptions:"Beschreibungen","descriptions off":"Beschreibungen aus","The media is encrypted and we do not have the keys to decrypt it.":"Die Entschl\xFCsselungsschl\xFCssel f\xFCr den verschl\xFCsselten Medieninhalt sind nicht verf\xFCgbar.",", opens descriptions settings dialog":", \xF6ffnet Einstellungen f\xFCr Beschreibungen","Audio Track":"Tonspur",Text:"Schrift",White:"Wei\xDF",Black:"Schwarz",Red:"Rot",Green:"Gr\xFCn",Blue:"Blau",Yellow:"Gelb",Magenta:"Magenta",Cyan:"T\xFCrkis",Background:"Hintergrund",Window:"Fenster",Transparent:"Durchsichtig","Semi-Transparent":"Halbdurchsichtig",Opaque:"Undurchsictig","Font Size":"Schriftgr\xF6\xDFe","Text Edge Style":"Textkantenstil",None:"Kein",Raised:"Erhoben",Depressed:"Gedr\xFCckt",Uniform:"Uniform",Dropshadow:"Schlagschatten","Font Family":"Schristfamilie","Proportional Sans-Serif":"Proportionale Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportionale Serif","Monospace Serif":"Monospace Serif",Casual:"Zwanglos",Script:"Schreibeschrift","Small Caps":"Small-Caps",Reset:"Zur\xFCcksetzen","restore all settings to the default values":"Alle Einstellungen auf die Standardwerte zur\xFCcksetzen",Done:"Fertig","Caption Settings Dialog":"Einstellungsdialog f\xFCr Untertitel","Beginning of dialog window. Escape will cancel and close the window.":"Anfang des Dialogfensters. Esc bricht ab und schlie\xDFt das Fenster.","End of dialog window.":"Ende des Dialogfensters.","Audio Player":"Audio-Player","Video Player":"Video-Player","Progress Bar":"Forschrittsbalken","progress bar timing: currentTime={1} duration={2}":"{1} von {2}","Volume Level":"Lautst\xE4rkestufe"});videojs.addLanguage("zh-CN",{Play:"\u64AD\u653E",Pause:"\u6682\u505C","Current Time":"\u5F53\u524D\u65F6\u95F4",Duration:"\u65F6\u957F","Remaining Time":"\u5269\u4F59\u65F6\u95F4","Stream Type":"\u5A92\u4F53\u6D41\u7C7B\u578B",LIVE:"\u76F4\u64AD",Loaded:"\u52A0\u8F7D\u5B8C\u6BD5",Progress:"\u8FDB\u5EA6",Fullscreen:"\u5168\u5C4F","Non-Fullscreen":"\u9000\u51FA\u5168\u5C4F",Mute:"\u9759\u97F3",Unmute:"\u53D6\u6D88\u9759\u97F3","Playback Rate":"\u64AD\u653E\u901F\u5EA6",Subtitles:"\u5B57\u5E55","subtitles off":"\u5173\u95ED\u5B57\u5E55",Captions:"\u5185\u5D4C\u5B57\u5E55","captions off":"\u5173\u95ED\u5185\u5D4C\u5B57\u5E55",Chapters:"\u8282\u76EE\u6BB5\u843D","Close Modal Dialog":"\u5173\u95ED\u5F39\u7A97",Descriptions:"\u63CF\u8FF0","descriptions off":"\u5173\u95ED\u63CF\u8FF0","Audio Track":"\u97F3\u8F68","You aborted the media playback":"\u89C6\u9891\u64AD\u653E\u88AB\u7EC8\u6B62","A network error caused the media download to fail part-way.":"\u7F51\u7EDC\u9519\u8BEF\u5BFC\u81F4\u89C6\u9891\u4E0B\u8F7D\u4E2D\u9014\u5931\u8D25\u3002","The media could not be loaded, either because the server or network failed or because the format is not supported.":"\u89C6\u9891\u56E0\u683C\u5F0F\u4E0D\u652F\u6301\u6216\u8005\u670D\u52A1\u5668\u6216\u7F51\u7EDC\u7684\u95EE\u9898\u65E0\u6CD5\u52A0\u8F7D\u3002","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"\u7531\u4E8E\u89C6\u9891\u6587\u4EF6\u635F\u574F\u6216\u662F\u8BE5\u89C6\u9891\u4F7F\u7528\u4E86\u4F60\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u7684\u529F\u80FD\uFF0C\u64AD\u653E\u7EC8\u6B62\u3002","No compatible source was found for this media.":"\u65E0\u6CD5\u627E\u5230\u6B64\u89C6\u9891\u517C\u5BB9\u7684\u6E90\u3002","The media is encrypted and we do not have the keys to decrypt it.":"\u89C6\u9891\u5DF2\u52A0\u5BC6\uFF0C\u65E0\u6CD5\u89E3\u5BC6\u3002","Play Video":"\u64AD\u653E\u89C6\u9891",Close:"\u5173\u95ED","Modal Window":"\u5F39\u7A97","This is a modal window":"\u8FD9\u662F\u4E00\u4E2A\u5F39\u7A97","This modal can be closed by pressing the Escape key or activating the close button.":"\u53EF\u4EE5\u6309ESC\u6309\u952E\u6216\u542F\u7528\u5173\u95ED\u6309\u94AE\u6765\u5173\u95ED\u6B64\u5F39\u7A97\u3002",", opens captions settings dialog":", \u5F00\u542F\u6807\u9898\u8BBE\u7F6E\u5F39\u7A97",", opens subtitles settings dialog":", \u5F00\u542F\u5B57\u5E55\u8BBE\u7F6E\u5F39\u7A97",", opens descriptions settings dialog":", \u5F00\u542F\u63CF\u8FF0\u8BBE\u7F6E\u5F39\u7A97",", selected":", \u9009\u62E9","captions settings":"\u5B57\u5E55\u8BBE\u5B9A","Audio Player":"\u97F3\u9891\u64AD\u653E\u5668","Video Player":"\u89C6\u9891\u64AD\u653E\u5668",Replay:"\u91CD\u64AD","Progress Bar":"\u8FDB\u5EA6\u5C0F\u8282","Volume Level":"\u97F3\u91CF","subtitles settings":"\u5B57\u5E55\u8BBE\u5B9A","descriptions settings":"\u63CF\u8FF0\u8BBE\u5B9A",Text:"\u6587\u5B57",White:"\u767D",Black:"\u9ED1",Red:"\u7EA2",Green:"\u7EFF",Blue:"\u84DD",Yellow:"\u9EC4",Magenta:"\u7D2B\u7EA2",Cyan:"\u9752",Background:"\u80CC\u666F",Window:"\u89C6\u7A97",Transparent:"\u900F\u660E","Semi-Transparent":"\u534A\u900F\u660E",Opaque:"\u4E0D\u900F\u660E","Font Size":"\u5B57\u4F53\u5C3A\u5BF8","Text Edge Style":"\u5B57\u4F53\u8FB9\u7F18\u6837\u5F0F",None:"\u65E0",Raised:"\u6D6E\u96D5",Depressed:"\u538B\u4F4E",Uniform:"\u5747\u5300",Dropshadow:"\u4E0B\u9634\u5F71","Font Family":"\u5B57\u4F53\u5E93","Proportional Sans-Serif":"\u6BD4\u4F8B\u65E0\u7EC6\u4F53","Monospace Sans-Serif":"\u5355\u95F4\u9694\u65E0\u7EC6\u4F53","Proportional Serif":"\u6BD4\u4F8B\u7EC6\u4F53","Monospace Serif":"\u5355\u95F4\u9694\u7EC6\u4F53",Casual:"\u8212\u9002",Script:"\u624B\u5199\u4F53","Small Caps":"\u5C0F\u578B\u5927\u5199\u5B57\u4F53",Reset:"\u91CD\u542F","restore all settings to the default values":"\u6062\u590D\u5168\u90E8\u8BBE\u5B9A\u81F3\u9884\u8BBE\u503C",Done:"\u5B8C\u6210","Caption Settings Dialog":"\u5B57\u5E55\u8BBE\u5B9A\u89C6\u7A97","Beginning of dialog window. Escape will cancel and close the window.":"\u5F00\u59CB\u5BF9\u8BDD\u89C6\u7A97\u3002\u79BB\u5F00\u4F1A\u53D6\u6D88\u53CA\u5173\u95ED\u89C6\u7A97","End of dialog window.":"\u7ED3\u675F\u5BF9\u8BDD\u89C6\u7A97"});